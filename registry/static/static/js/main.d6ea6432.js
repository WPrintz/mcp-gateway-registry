/*! For license information please see main.d6ea6432.js.LICENSE.txt */
(()=>{"use strict";var e={240(e){var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=Object.defineProperty,a=Object.getOwnPropertyDescriptor,s=function(e){return"function"===typeof Array.isArray?Array.isArray(e):"[object Array]"===r.call(e)},l=function(e){if(!e||"[object Object]"!==r.call(e))return!1;var n,a=t.call(e,"constructor"),s=e.constructor&&e.constructor.prototype&&t.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!a&&!s)return!1;for(n in e);return"undefined"===typeof n||t.call(e,n)},o=function(e,t){n&&"__proto__"===t.name?n(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},i=function(e,r){if("__proto__"===r){if(!t.call(e,r))return;if(a)return a(e,r).value}return e[r]};e.exports=function e(){var t,r,n,a,u,c,d=arguments[0],m=1,p=arguments.length,h=!1;for("boolean"===typeof d&&(h=d,d=arguments[1]||{},m=2),(null==d||"object"!==typeof d&&"function"!==typeof d)&&(d={});m<p;++m)if(null!=(t=arguments[m]))for(r in t)n=i(d,r),d!==(a=i(t,r))&&(h&&a&&(l(a)||(u=s(a)))?(u?(u=!1,c=n&&s(n)?n:[]):c=n&&l(n)?n:{},o(d,{name:r,newValue:e(h,c,a)})):"undefined"!==typeof a&&o(d,{name:r,newValue:a}));return d}},106(e){var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,r=/\n/g,n=/^\s*/,a=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,i=/^\s+|\s+$/g,u="";function c(e){return e?e.replace(i,u):u}e.exports=function(e,i){if("string"!==typeof e)throw new TypeError("First argument must be a string");if(!e)return[];i=i||{};var d=1,m=1;function p(e){var t=e.match(r);t&&(d+=t.length);var n=e.lastIndexOf("\n");m=~n?e.length-n:m+e.length}function h(){var e={line:d,column:m};return function(t){return t.position=new g(e),y(),t}}function g(e){this.start=e,this.end={line:d,column:m},this.source=i.source}function f(t){var r=new Error(i.source+":"+d+":"+m+": "+t);if(r.reason=t,r.filename=i.source,r.line=d,r.column=m,r.source=e,!i.silent)throw r}function x(t){var r=t.exec(e);if(r){var n=r[0];return p(n),e=e.slice(n.length),r}}function y(){x(n)}function b(e){var t;for(e=e||[];t=v();)!1!==t&&e.push(t);return e}function v(){var t=h();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var r=2;u!=e.charAt(r)&&("*"!=e.charAt(r)||"/"!=e.charAt(r+1));)++r;if(r+=2,u===e.charAt(r-1))return f("End of comment missing");var n=e.slice(2,r-2);return m+=2,p(n),e=e.slice(r),m+=2,t({type:"comment",comment:n})}}function D(){var e=h(),r=x(a);if(r){if(v(),!x(s))return f("property missing ':'");var n=x(l),i=e({type:"declaration",property:c(r[0].replace(t,u)),value:n?c(n[0].replace(t,u)):u});return x(o),i}}return g.prototype.content=e,y(),function(){var e,t=[];for(b(t);e=D();)!1!==e&&(t.push(e),b(t));return t}()}},730(e,t,r){var n=r(43),a=r(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,o={};function i(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(o[e]=t,e=0;e<t.length;e++)l.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function g(e,t,r,n,a,s,l){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=l}var f={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){f[e]=new g(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];f[t]=new g(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){f[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){f[e]=new g(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){f[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){f[e]=new g(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){f[e]=new g(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){f[e]=new g(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){f[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,r,n){var a=f.hasOwnProperty(t)?f[t]:null;(null!==a?0!==a.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,a,n)&&(r=null),n||null===a?function(e){return!!d.call(h,e)||!d.call(p,e)&&(m.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=null===r?3!==a.type&&"":r:(t=a.attributeName,n=a.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(a=a.type)||4===a&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(x,y);f[t]=new g(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(x,y);f[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(x,y);f[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){f[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)}),f.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){f[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)});var v=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),k=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),N=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),B=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var T=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var P,O=Object.assign;function I(e){if(void 0===P)try{throw Error()}catch(Bn){var t=Bn.stack.trim().match(/\n( *(at )?)/);P=t&&t[1]||""}return"\n"+P+e}var M=!1;function z(e,t){if(!e||M)return"";M=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&"string"===typeof u.stack){for(var a=u.stack.split("\n"),s=n.stack.split("\n"),l=a.length-1,o=s.length-1;1<=l&&0<=o&&a[l]!==s[o];)o--;for(;1<=l&&0<=o;l--,o--)if(a[l]!==s[o]){if(1!==l||1!==o)do{if(l--,0>--o||a[l]!==s[o]){var i="\n"+a[l].replace(" at new "," at ");return e.displayName&&i.includes("<anonymous>")&&(i=i.replace("<anonymous>",e.displayName)),i}}while(1<=l&&0<=o);break}}}finally{M=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?I(e):""}function U(e){switch(e.tag){case 5:return I(e.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case k:return"Portal";case j:return"Profiler";case C:return"StrictMode";case A:return"Suspense";case S:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case F:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case _:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case B:t=e._payload,e=e._init;try{return H(e(t))}catch(Bn){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=q(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var r=t.checked;return O({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function G(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=W(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){Y(e,t);var r=W(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&J(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+W(r),t=null,a=0;a<e.length;a++){if(e[a].value===r)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return O({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(s(92));if(te(r)){if(1<r.length)throw Error(s(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:W(r)}}function se(e,t){var r=W(t.value),n=W(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ie(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r)})}:e}(function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function de(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function he(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function ge(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),a=he(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}Object.keys(me).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]})});var fe=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(fe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function ve(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var De=null,ke=null,we=null;function Ce(e){if(e=Na(e)){if("function"!==typeof De)throw Error(s(280));var t=e.stateNode;t&&(t=Aa(t),De(e.stateNode,e.type,t))}}function je(e){ke?we?we.push(e):we=[e]:ke=e}function Fe(){if(ke){var e=ke,t=we;if(we=ke=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ne(e,t){return e(t)}function Ee(){}var Ae=!1;function Se(e,t,r){if(Ae)return e(t,r);Ae=!0;try{return Ne(e,t,r)}finally{Ae=!1,(null!==ke||null!==we)&&(Ee(),Fe())}}function _e(e,t){var r=e.stateNode;if(null===r)return null;var n=Aa(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(s(231,t,typeof r));return r}var Be=!1;if(c)try{var Te={};Object.defineProperty(Te,"passive",{get:function(){Be=!0}}),window.addEventListener("test",Te,Te),window.removeEventListener("test",Te,Te)}catch(ra){Be=!1}function Le(e,t,r,n,a,s,l,o,i){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(va){this.onError(va)}}var Re=!1,Pe=null,Oe=!1,Ie=null,Me={onError:function(e){Re=!0,Pe=e}};function ze(e,t,r,n,a,s,l,o,i){Re=!1,Pe=null,Le.apply(Me,arguments)}function Ue(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(Ue(e)!==e)throw Error(s(188))}function We(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(s(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(null===a)break;var l=a.alternate;if(null===l){if(null!==(n=a.return)){r=n;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===r)return Ve(a),e;if(l===n)return Ve(a),t;l=l.sibling}throw Error(s(188))}if(r.return!==n.return)r=a,n=l;else{for(var o=!1,i=a.child;i;){if(i===r){o=!0,r=a,n=l;break}if(i===n){o=!0,n=a,r=l;break}i=i.sibling}if(!o){for(i=l.child;i;){if(i===r){o=!0,r=l,n=a;break}if(i===n){o=!0,n=l,r=a;break}i=i.sibling}if(!o)throw Error(s(189))}}if(r.alternate!==n)throw Error(s(190))}if(3!==r.tag)throw Error(s(188));return r.stateNode.current===r?e:t}(e),null!==e?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ke=a.unstable_scheduleCallback,$e=a.unstable_cancelCallback,Je=a.unstable_shouldYield,Qe=a.unstable_requestPaint,Ge=a.unstable_now,Ye=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,Xe=a.unstable_UserBlockingPriority,et=a.unstable_NormalPriority,tt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,nt=null,at=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(lt(e)/ot|0)|0},lt=Math.log,ot=Math.LN2;var it=64,ut=4194304;function ct(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,l=268435455&r;if(0!==l){var o=l&~a;0!==o?n=ct(o):0!==(s&=l)&&(n=ct(s))}else 0!==(l=r&~a)?n=ct(l):0!==s&&(n=ct(s));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&a)&&((a=n&-n)>=(s=t&-t)||16===a&&0!==(4194240&s)))return t;if(0!==(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)a=1<<(r=31-st(t)),n|=e[r],t&=~a;return n}function mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ht(){var e=it;return 0===(4194240&(it<<=1))&&(it=64),e}function gt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ft(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=r}function xt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-st(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var yt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var vt,Dt,kt,wt,Ct,jt=!1,Ft=[],Nt=null,Et=null,At=null,St=new Map,_t=new Map,Bt=[],Tt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":St.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_t.delete(t.pointerId)}}function Rt(e,t,r,n,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=Na(t))&&Dt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Pt(e){var t=Fa(e.target);if(null!==t){var r=Ue(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=He(r)))return e.blockedOn=t,void Ct(e.priority,function(){kt(r)})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Ot(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=Na(r))&&Dt(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);be=n,r.target.dispatchEvent(n),be=null,t.shift()}return!0}function It(e,t,r){Ot(e)&&r.delete(t)}function Mt(){jt=!1,null!==Nt&&Ot(Nt)&&(Nt=null),null!==Et&&Ot(Et)&&(Et=null),null!==At&&Ot(At)&&(At=null),St.forEach(It),_t.forEach(It)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,jt||(jt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Mt)))}function Ut(e){function t(t){return zt(t,e)}if(0<Ft.length){zt(Ft[0],e);for(var r=1;r<Ft.length;r++){var n=Ft[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Nt&&zt(Nt,e),null!==Et&&zt(Et,e),null!==At&&zt(At,e),St.forEach(t),_t.forEach(t),r=0;r<Bt.length;r++)(n=Bt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<Bt.length&&null===(r=Bt[0]).blockedOn;)Pt(r),null===r.blockedOn&&Bt.shift()}var Ht=v.ReactCurrentBatchConfig,Vt=!0;function Wt(e,t,r,n){var a=yt,s=Ht.transition;Ht.transition=null;try{yt=1,Kt(e,t,r,n)}finally{yt=a,Ht.transition=s}}function qt(e,t,r,n){var a=yt,s=Ht.transition;Ht.transition=null;try{yt=4,Kt(e,t,r,n)}finally{yt=a,Ht.transition=s}}function Kt(e,t,r,n){if(Vt){var a=Jt(e,t,r,n);if(null===a)Qn(e,t,n,$t,r),Lt(e,n);else if(function(e,t,r,n,a){switch(t){case"focusin":return Nt=Rt(Nt,e,t,r,n,a),!0;case"dragenter":return Et=Rt(Et,e,t,r,n,a),!0;case"mouseover":return At=Rt(At,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return St.set(s,Rt(St.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,_t.set(s,Rt(_t.get(s)||null,e,t,r,n,a)),!0}return!1}(a,e,t,r,n))n.stopPropagation();else if(Lt(e,n),4&t&&-1<Tt.indexOf(e)){for(;null!==a;){var s=Na(a);if(null!==s&&vt(s),null===(s=Jt(e,t,r,n))&&Qn(e,t,n,$t,r),s===a)break;a=s}null!==a&&n.stopPropagation()}else Qn(e,t,n,null,r)}}var $t=null;function Jt(e,t,r,n){if($t=null,null!==(e=Fa(e=ve(n))))if(null===(t=Ue(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ye()){case Ze:return 1;case Xe:return 4;case et:case tt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Gt=null,Yt=null,Zt=null;function Xt(){if(Zt)return Zt;var e,t,r=Yt,n=r.length,a="value"in Gt?Gt.value:Gt.textContent,s=a.length;for(e=0;e<n&&r[e]===a[e];e++);var l=n-e;for(t=1;t<=l&&r[n-t]===a[s-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function er(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function tr(){return!0}function rr(){return!1}function nr(e){function t(t,r,n,a,s){for(var l in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(a):a[l]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?tr:rr,this.isPropagationStopped=rr,this}return O(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=tr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=tr)},persist:function(){},isPersistent:tr}),t}var ar,sr,lr,or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ir=nr(or),ur=O({},or,{view:0,detail:0}),cr=nr(ur),dr=O({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==lr&&(lr&&"mousemove"===e.type?(ar=e.screenX-lr.screenX,sr=e.screenY-lr.screenY):sr=ar=0,lr=e),ar)},movementY:function(e){return"movementY"in e?e.movementY:sr}}),mr=nr(dr),pr=nr(O({},dr,{dataTransfer:0})),hr=nr(O({},ur,{relatedTarget:0})),gr=nr(O({},or,{animationName:0,elapsedTime:0,pseudoElement:0})),fr=O({},or,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xr=nr(fr),yr=nr(O({},or,{data:0})),br={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Dr[e])&&!!t[e]}function wr(){return kr}var Cr=O({},ur,{key:function(e){if(e.key){var t=br[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=er(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?vr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wr,charCode:function(e){return"keypress"===e.type?er(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?er(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),jr=nr(Cr),Fr=nr(O({},dr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nr=nr(O({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wr})),Er=nr(O({},or,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ar=O({},dr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Sr=nr(Ar),_r=[9,13,27,32],Br=c&&"CompositionEvent"in window,Tr=null;c&&"documentMode"in document&&(Tr=document.documentMode);var Lr=c&&"TextEvent"in window&&!Tr,Rr=c&&(!Br||Tr&&8<Tr&&11>=Tr),Pr=String.fromCharCode(32),Or=!1;function Ir(e,t){switch(e){case"keyup":return-1!==_r.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zr=!1;var Ur={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ur[e.type]:"textarea"===t}function Vr(e,t,r,n){je(n),0<(t=Yn(t,"onChange")).length&&(r=new ir("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Wr=null,qr=null;function Kr(e){Hn(e,0)}function $r(e){if($(Ea(e)))return e}function Jr(e,t){if("change"===e)return t}var Qr=!1;if(c){var Gr;if(c){var Yr="oninput"in document;if(!Yr){var Zr=document.createElement("div");Zr.setAttribute("oninput","return;"),Yr="function"===typeof Zr.oninput}Gr=Yr}else Gr=!1;Qr=Gr&&(!document.documentMode||9<document.documentMode)}function Xr(){Wr&&(Wr.detachEvent("onpropertychange",en),qr=Wr=null)}function en(e){if("value"===e.propertyName&&$r(qr)){var t=[];Vr(t,qr,e,ve(e)),Se(Kr,t)}}function tn(e,t,r){"focusin"===e?(Xr(),qr=r,(Wr=t).attachEvent("onpropertychange",en)):"focusout"===e&&Xr()}function rn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $r(qr)}function nn(e,t){if("click"===e)return $r(t)}function an(e,t){if("input"===e||"change"===e)return $r(t)}var sn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ln(e,t){if(sn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!d.call(t,a)||!sn(e[a],t[a]))return!1}return!0}function on(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function un(e,t){var r,n=on(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=on(n)}}function cn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?cn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dn(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=J((e=t.contentWindow).document)}return t}function mn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pn(e){var t=dn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&cn(r.ownerDocument.documentElement,r)){if(null!==n&&mn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=void 0===n.end?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=un(r,s);var l=un(r,n);a&&l&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hn=c&&"documentMode"in document&&11>=document.documentMode,gn=null,fn=null,xn=null,yn=!1;function bn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;yn||null==gn||gn!==J(n)||("selectionStart"in(n=gn)&&mn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},xn&&ln(xn,n)||(xn=n,0<(n=Yn(fn,"onSelect")).length&&(t=new ir("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=gn)))}function vn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Dn={animationend:vn("Animation","AnimationEnd"),animationiteration:vn("Animation","AnimationIteration"),animationstart:vn("Animation","AnimationStart"),transitionend:vn("Transition","TransitionEnd")},wn={},Cn={};function jn(e){if(wn[e])return wn[e];if(!Dn[e])return e;var t,r=Dn[e];for(t in r)if(r.hasOwnProperty(t)&&t in Cn)return wn[e]=r[t];return e}c&&(Cn=document.createElement("div").style,"AnimationEvent"in window||(delete Dn.animationend.animation,delete Dn.animationiteration.animation,delete Dn.animationstart.animation),"TransitionEvent"in window||delete Dn.transitionend.transition);var Fn=jn("animationend"),Nn=jn("animationiteration"),En=jn("animationstart"),An=jn("transitionend"),Sn=new Map,_n="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tn(e,t){Sn.set(e,t),i(t,[e])}for(var Ln=0;Ln<_n.length;Ln++){var On=_n[Ln];Tn(On.toLowerCase(),"on"+(On[0].toUpperCase()+On.slice(1)))}Tn(Fn,"onAnimationEnd"),Tn(Nn,"onAnimationIteration"),Tn(En,"onAnimationStart"),Tn("dblclick","onDoubleClick"),Tn("focusin","onFocus"),Tn("focusout","onBlur"),Tn(An,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zn=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mn));function Un(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,a,l,o,i,u){if(ze.apply(this,arguments),Re){if(!Re)throw Error(s(198));var c=Pe;Re=!1,Pe=null,Oe||(Oe=!0,Ie=c)}}(n,t,void 0,e),e.currentTarget=null}function Hn(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var l=n.length-1;0<=l;l--){var o=n[l],i=o.instance,u=o.currentTarget;if(o=o.listener,i!==s&&a.isPropagationStopped())break e;Un(a,o,u),s=i}else for(l=0;l<n.length;l++){if(i=(o=n[l]).instance,u=o.currentTarget,o=o.listener,i!==s&&a.isPropagationStopped())break e;Un(a,o,u),s=i}}}if(Oe)throw e=Ie,Oe=!1,Ie=null,e}function Vn(e,t){var r=t[wa];void 0===r&&(r=t[wa]=new Set);var n=e+"__bubble";r.has(n)||(Jn(t,e,2,!1),r.add(n))}function Wn(e,t,r){var n=0;t&&(n|=4),Jn(r,e,n,t)}var qn="_reactListening"+Math.random().toString(36).slice(2);function $n(e){if(!e[qn]){e[qn]=!0,l.forEach(function(t){"selectionchange"!==t&&(zn.has(t)||Wn(t,!1,e),Wn(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[qn]||(t[qn]=!0,Wn("selectionchange",!1,t))}}function Jn(e,t,r,n){switch(Qt(t)){case 1:var a=Wt;break;case 4:a=qt;break;default:a=Kt}r=a.bind(null,t,r,e),a=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):void 0!==a?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Qn(e,t,r,n,a){var s=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var l=n.tag;if(3===l||4===l){var o=n.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===l)for(l=n.return;null!==l;){var i=l.tag;if((3===i||4===i)&&((i=l.stateNode.containerInfo)===a||8===i.nodeType&&i.parentNode===a))return;l=l.return}for(;null!==o;){if(null===(l=Fa(o)))return;if(5===(i=l.tag)||6===i){n=s=l;continue e}o=o.parentNode}}n=n.return}Se(function(){var n=s,a=ve(r),l=[];e:{var o=Sn.get(e);if(void 0!==o){var i=ir,u=e;switch(e){case"keypress":if(0===er(r))break e;case"keydown":case"keyup":i=jr;break;case"focusin":u="focus",i=hr;break;case"focusout":u="blur",i=hr;break;case"beforeblur":case"afterblur":i=hr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":i=mr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":i=pr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":i=Nr;break;case Fn:case Nn:case En:i=gr;break;case An:i=Er;break;case"scroll":i=cr;break;case"wheel":i=Sr;break;case"copy":case"cut":case"paste":i=xr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":i=Fr}var c=0!==(4&t),d=!c&&"scroll"===e,m=c?null!==o?o+"Capture":null:o;c=[];for(var p,h=n;null!==h;){var g=(p=h).stateNode;if(5===p.tag&&null!==g&&(p=g,null!==m&&(null!=(g=_e(h,m))&&c.push(Gn(h,g,p)))),d)break;h=h.return}0<c.length&&(o=new i(o,u,null,r,a),l.push({event:o,listeners:c}))}}if(0===(7&t)){if(i="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||r===be||!(u=r.relatedTarget||r.fromElement)||!Fa(u)&&!u[ka])&&(i||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,i?(i=n,null!==(u=(u=r.relatedTarget||r.toElement)?Fa(u):null)&&(u!==(d=Ue(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(i=null,u=n),i!==u)){if(c=mr,g="onMouseLeave",m="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(c=Fr,g="onPointerLeave",m="onPointerEnter",h="pointer"),d=null==i?o:Ea(i),p=null==u?o:Ea(u),(o=new c(g,h+"leave",i,r,a)).target=d,o.relatedTarget=p,g=null,Fa(a)===n&&((c=new c(m,h+"enter",u,r,a)).target=p,c.relatedTarget=d,g=c),d=g,i&&u)e:{for(m=u,h=0,p=c=i;p;p=Zn(p))h++;for(p=0,g=m;g;g=Zn(g))p++;for(;0<h-p;)c=Zn(c),h--;for(;0<p-h;)m=Zn(m),p--;for(;h--;){if(c===m||null!==m&&c===m.alternate)break e;c=Zn(c),m=Zn(m)}c=null}else c=null;null!==i&&Xn(l,o,i,c,!1),null!==u&&null!==d&&Xn(l,d,u,c,!0)}if("select"===(i=(o=n?Ea(n):window).nodeName&&o.nodeName.toLowerCase())||"input"===i&&"file"===o.type)var f=Jr;else if(Hr(o))if(Qr)f=an;else{f=rn;var x=tn}else(i=o.nodeName)&&"input"===i.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(f=nn);switch(f&&(f=f(e,n))?Vr(l,f,r,a):(x&&x(e,o,n),"focusout"===e&&(x=o._wrapperState)&&x.controlled&&"number"===o.type&&ee(o,"number",o.value)),x=n?Ea(n):window,e){case"focusin":(Hr(x)||"true"===x.contentEditable)&&(gn=x,fn=n,xn=null);break;case"focusout":xn=fn=gn=null;break;case"mousedown":yn=!0;break;case"contextmenu":case"mouseup":case"dragend":yn=!1,bn(l,r,a);break;case"selectionchange":if(hn)break;case"keydown":case"keyup":bn(l,r,a)}var y;if(Br)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zr?Ir(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(Rr&&"ko"!==r.locale&&(zr||"onCompositionStart"!==b?"onCompositionEnd"===b&&zr&&(y=Xt()):(Yt="value"in(Gt=a)?Gt.value:Gt.textContent,zr=!0)),0<(x=Yn(n,b)).length&&(b=new yr(b,e,null,r,a),l.push({event:b,listeners:x}),y?b.data=y:null!==(y=Mr(r))&&(b.data=y))),(y=Lr?function(e,t){switch(e){case"compositionend":return Mr(t);case"keypress":return 32!==t.which?null:(Or=!0,Pr);case"textInput":return(e=t.data)===Pr&&Or?null:e;default:return null}}(e,r):function(e,t){if(zr)return"compositionend"===e||!Br&&Ir(e,t)?(e=Xt(),Zt=Yt=Gt=null,zr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=Yn(n,"onBeforeInput")).length&&(a=new yr("onBeforeInput","beforeinput",null,r,a),l.push({event:a,listeners:n}),a.data=y))}Hn(l,t)})}function Gn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Yn(e,t){for(var r=t+"Capture",n=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=_e(e,r))&&n.unshift(Gn(e,s,a)),null!=(s=_e(e,t))&&n.push(Gn(e,s,a))),e=e.return}return n}function Zn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xn(e,t,r,n,a){for(var s=t._reactName,l=[];null!==r&&r!==n;){var o=r,i=o.alternate,u=o.stateNode;if(null!==i&&i===n)break;5===o.tag&&null!==u&&(o=u,a?null!=(i=_e(r,s))&&l.unshift(Gn(r,i,o)):a||null!=(i=_e(r,s))&&l.push(Gn(r,i,o))),r=r.return}0!==l.length&&e.push({event:t,listeners:l})}var ea=/\r\n?/g,ta=/\u0000|\uFFFD/g;function na(e){return("string"===typeof e?e:""+e).replace(ea,"\n").replace(ta,"")}function aa(e,t,r){if(t=na(t),na(e)!==t&&r)throw Error(s(425))}function sa(){}var la=null,oa=null;function ia(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ua="function"===typeof setTimeout?setTimeout:void 0,ca="function"===typeof clearTimeout?clearTimeout:void 0,da="function"===typeof Promise?Promise:void 0,ma="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof da?function(e){return da.resolve(null).then(e).catch(pa)}:ua;function pa(e){setTimeout(function(){throw e})}function ha(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&8===a.nodeType)if("/$"===(r=a.data)){if(0===n)return e.removeChild(a),void Ut(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=a}while(r);Ut(t)}function ga(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function fa(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var xa=Math.random().toString(36).slice(2),ya="__reactFiber$"+xa,ba="__reactProps$"+xa,ka="__reactContainer$"+xa,wa="__reactEvents$"+xa,Ca="__reactListeners$"+xa,ja="__reactHandles$"+xa;function Fa(e){var t=e[ya];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ka]||r[ya]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=fa(e);null!==e;){if(r=e[ya])return r;e=fa(e)}return t}r=(e=r).parentNode}return null}function Na(e){return!(e=e[ya]||e[ka])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ea(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Aa(e){return e[ba]||null}var Sa=[],_a=-1;function Ba(e){return{current:e}}function Ta(e){0>_a||(e.current=Sa[_a],Sa[_a]=null,_a--)}function La(e,t){_a++,Sa[_a]=e.current,e.current=t}var Ra={},Pa=Ba(Ra),Oa=Ba(!1),Ia=Ra;function Ma(e,t){var r=e.type.contextTypes;if(!r)return Ra;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in r)s[a]=t[a];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function za(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ua(){Ta(Oa),Ta(Pa)}function Ha(e,t,r){if(Pa.current!==Ra)throw Error(s(168));La(Pa,t),La(Oa,r)}function Va(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var a in n=n.getChildContext())if(!(a in t))throw Error(s(108,V(e)||"Unknown",a));return O({},r,n)}function Wa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ra,Ia=Pa.current,La(Pa,e),La(Oa,Oa.current),!0}function qa(e,t,r){var n=e.stateNode;if(!n)throw Error(s(169));r?(e=Va(e,t,Ia),n.__reactInternalMemoizedMergedChildContext=e,Ta(Oa),Ta(Pa),La(Pa,e)):Ta(Oa),La(Oa,r)}var Ka=null,$a=!1,Ja=!1;function Qa(e){null===Ka?Ka=[e]:Ka.push(e)}function Ga(){if(!Ja&&null!==Ka){Ja=!0;var e=0,t=yt;try{var r=Ka;for(yt=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}Ka=null,$a=!1}catch(Hs){throw null!==Ka&&(Ka=Ka.slice(e+1)),Ke(Ze,Ga),Hs}finally{yt=t,Ja=!1}}return null}var Ya=[],Za=0,Xa=null,es=0,ts=[],rs=0,ns=null,as=1,ss="";function ls(e,t){Ya[Za++]=es,Ya[Za++]=Xa,Xa=e,es=t}function os(e,t,r){ts[rs++]=as,ts[rs++]=ss,ts[rs++]=ns,ns=e;var n=as;e=ss;var a=32-st(n)-1;n&=~(1<<a),r+=1;var s=32-st(t)+a;if(30<s){var l=a-a%5;s=(n&(1<<l)-1).toString(32),n>>=l,a-=l,as=1<<32-st(t)+a|r<<a|n,ss=s+e}else as=1<<s|r<<a|n,ss=e}function is(e){null!==e.return&&(ls(e,1),os(e,1,0))}function us(e){for(;e===Xa;)Xa=Ya[--Za],Ya[Za]=null,es=Ya[--Za],Ya[Za]=null;for(;e===ns;)ns=ts[--rs],ts[rs]=null,ss=ts[--rs],ts[rs]=null,as=ts[--rs],ts[rs]=null}var cs=null,ds=null,ms=!1,ps=null;function hs(e,t){var r=Mu(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function gs(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,cs=e,ds=ga(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,cs=e,ds=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==ns?{id:as,overflow:ss}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Mu(18,null,null,0)).stateNode=t,r.return=e,e.child=r,cs=e,ds=null,!0);default:return!1}}function fs(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function xs(e){if(ms){var t=ds;if(t){var r=t;if(!gs(e,t)){if(fs(e))throw Error(s(418));t=ga(r.nextSibling);var n=cs;t&&gs(e,t)?hs(n,r):(e.flags=-4097&e.flags|2,ms=!1,cs=e)}}else{if(fs(e))throw Error(s(418));e.flags=-4097&e.flags|2,ms=!1,cs=e}}}function ys(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;cs=e}function bs(e){if(e!==cs)return!1;if(!ms)return ys(e),ms=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ia(e.type,e.memoizedProps)),t&&(t=ds)){if(fs(e))throw vs(),Error(s(418));for(;t;)hs(e,t),t=ga(t.nextSibling)}if(ys(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){ds=ga(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}ds=null}}else ds=cs?ga(e.stateNode.nextSibling):null;return!0}function vs(){for(var e=ds;e;)e=ga(e.nextSibling)}function Ds(){ds=cs=null,ms=!1}function ks(e){null===ps?ps=[e]:ps.push(e)}var ws=v.ReactCurrentBatchConfig;function Cs(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(s(309));var n=r.stateNode}if(!n)throw Error(s(147,e));var a=n,l=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===l?t.ref:(t=function(e){var t=a.refs;null===e?delete t[l]:t[l]=e},t._stringRef=l,t)}if("string"!==typeof e)throw Error(s(284));if(!r._owner)throw Error(s(290,e))}return e}function js(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Fs(e){return(0,e._init)(e._payload)}function Ns(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Uu(e,t)).index=0,e.sibling=null,e}function l(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function i(e,t,r,n){return null===t||6!==t.tag?((t=qu(r,e.mode,n)).return=e,t):((t=a(t,r)).return=e,t)}function u(e,t,r,n){var s=r.type;return s===w?d(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===B&&Fs(s)===t.type)?((n=a(t,r.props)).ref=Cs(e,t,r),n.return=e,n):((n=Hu(r.type,r.key,r.props,null,e.mode,n)).ref=Cs(e,t,r),n.return=e,n)}function c(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Ku(r,e.mode,n)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function d(e,t,r,n,s){return null===t||7!==t.tag?((t=Vu(r,e.mode,n,s)).return=e,t):((t=a(t,r)).return=e,t)}function m(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=qu(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case D:return(r=Hu(t.type,t.key,t.props,null,e.mode,r)).ref=Cs(e,null,t),r.return=e,r;case k:return(t=Ku(t,e.mode,r)).return=e,t;case B:return m(e,(0,t._init)(t._payload),r)}if(te(t)||R(t))return(t=Vu(t,e.mode,r,null)).return=e,t;js(e,t)}return null}function p(e,t,r,n){var a=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==a?null:i(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case D:return r.key===a?u(e,t,r,n):null;case k:return r.key===a?c(e,t,r,n):null;case B:return p(e,t,(a=r._init)(r._payload),n)}if(te(r)||R(r))return null!==a?null:d(e,t,r,n,null);js(e,r)}return null}function h(e,t,r,n,a){if("string"===typeof n&&""!==n||"number"===typeof n)return i(t,e=e.get(r)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case D:return u(t,e=e.get(null===n.key?r:n.key)||null,n,a);case k:return c(t,e=e.get(null===n.key?r:n.key)||null,n,a);case B:return h(e,t,r,(0,n._init)(n._payload),a)}if(te(n)||R(n))return d(t,e=e.get(r)||null,n,a,null);js(t,n)}return null}function g(a,s,o,i){for(var u=null,c=null,d=s,g=s=0,f=null;null!==d&&g<o.length;g++){d.index>g?(f=d,d=null):f=d.sibling;var x=p(a,d,o[g],i);if(null===x){null===d&&(d=f);break}e&&d&&null===x.alternate&&t(a,d),s=l(x,s,g),null===c?u=x:c.sibling=x,c=x,d=f}if(g===o.length)return r(a,d),ms&&ls(a,g),u;if(null===d){for(;g<o.length;g++)null!==(d=m(a,o[g],i))&&(s=l(d,s,g),null===c?u=d:c.sibling=d,c=d);return ms&&ls(a,g),u}for(d=n(a,d);g<o.length;g++)null!==(f=h(d,a,g,o[g],i))&&(e&&null!==f.alternate&&d.delete(null===f.key?g:f.key),s=l(f,s,g),null===c?u=f:c.sibling=f,c=f);return e&&d.forEach(function(e){return t(a,e)}),ms&&ls(a,g),u}function f(a,o,i,u){var c=R(i);if("function"!==typeof c)throw Error(s(150));if(null==(i=c.call(i)))throw Error(s(151));for(var d=c=null,g=o,f=o=0,x=null,y=i.next();null!==g&&!y.done;f++,y=i.next()){g.index>f?(x=g,g=null):x=g.sibling;var b=p(a,g,y.value,u);if(null===b){null===g&&(g=x);break}e&&g&&null===b.alternate&&t(a,g),o=l(b,o,f),null===d?c=b:d.sibling=b,d=b,g=x}if(y.done)return r(a,g),ms&&ls(a,f),c;if(null===g){for(;!y.done;f++,y=i.next())null!==(y=m(a,y.value,u))&&(o=l(y,o,f),null===d?c=y:d.sibling=y,d=y);return ms&&ls(a,f),c}for(g=n(a,g);!y.done;f++,y=i.next())null!==(y=h(g,a,f,y.value,u))&&(e&&null!==y.alternate&&g.delete(null===y.key?f:y.key),o=l(y,o,f),null===d?c=y:d.sibling=y,d=y);return e&&g.forEach(function(e){return t(a,e)}),ms&&ls(a,f),c}return function e(n,s,l,i){if("object"===typeof l&&null!==l&&l.type===w&&null===l.key&&(l=l.props.children),"object"===typeof l&&null!==l){switch(l.$$typeof){case D:e:{for(var u=l.key,c=s;null!==c;){if(c.key===u){if((u=l.type)===w){if(7===c.tag){r(n,c.sibling),(s=a(c,l.props.children)).return=n,n=s;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===B&&Fs(u)===c.type){r(n,c.sibling),(s=a(c,l.props)).ref=Cs(n,c,l),s.return=n,n=s;break e}r(n,c);break}t(n,c),c=c.sibling}l.type===w?((s=Vu(l.props.children,n.mode,i,l.key)).return=n,n=s):((i=Hu(l.type,l.key,l.props,null,n.mode,i)).ref=Cs(n,s,l),i.return=n,n=i)}return o(n);case k:e:{for(c=l.key;null!==s;){if(s.key===c){if(4===s.tag&&s.stateNode.containerInfo===l.containerInfo&&s.stateNode.implementation===l.implementation){r(n,s.sibling),(s=a(s,l.children||[])).return=n,n=s;break e}r(n,s);break}t(n,s),s=s.sibling}(s=Ku(l,n.mode,i)).return=n,n=s}return o(n);case B:return e(n,s,(c=l._init)(l._payload),i)}if(te(l))return g(n,s,l,i);if(R(l))return f(n,s,l,i);js(n,l)}return"string"===typeof l&&""!==l||"number"===typeof l?(l=""+l,null!==s&&6===s.tag?(r(n,s.sibling),(s=a(s,l)).return=n,n=s):(r(n,s),(s=qu(l,n.mode,i)).return=n,n=s),o(n)):r(n,s)}}var Es=Ns(!0),As=Ns(!1),Ss=Ba(null),_s=null,Bs=null,Ts=null;function Ls(){Ts=Bs=_s=null}function Rs(e){var t=Ss.current;Ta(Ss),e._currentValue=t}function Ps(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Os(e,t){_s=e,Ts=Bs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Eo=!0),e.firstContext=null)}function Is(e){var t=e._currentValue;if(Ts!==e)if(e={context:e,memoizedValue:t,next:null},null===Bs){if(null===_s)throw Error(s(308));Bs=e,_s.dependencies={lanes:0,firstContext:e}}else Bs=Bs.next=e;return t}var Ms=null;function zs(e){null===Ms?Ms=[e]:Ms.push(e)}function Us(e,t,r,n){var a=t.interleaved;return null===a?(r.next=r,zs(t)):(r.next=a.next,a.next=r),t.interleaved=r,Vs(e,n)}function Vs(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Ws=!1;function qs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ks(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $s(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Js(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Pi)){var a=n.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Vs(e,r)}return null===(a=n.interleaved)?(t.next=t,zs(n)):(t.next=a.next,a.next=t),n.interleaved=t,Vs(e,r)}function Qs(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,xt(e,r)}}function Gs(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var a=null,s=null;if(null!==(r=r.firstBaseUpdate)){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===s?a=s=l:s=s.next=l,r=r.next}while(null!==r);null===s?a=s=t:s=s.next=t}else a=s=t;return r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ys(e,t,r,n){var a=e.updateQueue;Ws=!1;var s=a.firstBaseUpdate,l=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var i=o,u=i.next;i.next=null,null===l?s=u:l.next=u,l=i;var c=e.alternate;null!==c&&((o=(c=c.updateQueue).lastBaseUpdate)!==l&&(null===o?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=i))}if(null!==s){var d=a.baseState;for(l=0,c=u=i=null,o=s;;){var m=o.lane,p=o.eventTime;if((n&m)===m){null!==c&&(c=c.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var h=e,g=o;switch(m=t,p=r,g.tag){case 1:if("function"===typeof(h=g.payload)){d=h.call(p,d,m);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(m="function"===typeof(h=g.payload)?h.call(p,d,m):h)||void 0===m)break e;d=O({},d,m);break e;case 2:Ws=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(m=a.effects)?a.effects=[o]:m.push(o))}else p={eventTime:p,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(u=c=p,i=d):c=c.next=p,l|=m;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(m=o).next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}if(null===c&&(i=d),a.baseState=i,a.firstBaseUpdate=u,a.lastBaseUpdate=c,null!==(t=a.shared.interleaved)){a=t;do{l|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);Wi|=l,e.lanes=l,e.memoizedState=d}}function Zs(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(null!==a){if(n.callback=null,n=r,"function"!==typeof a)throw Error(s(191,a));a.call(n)}}}var Xs={},el=Ba(Xs),tl=Ba(Xs),rl=Ba(Xs);function nl(e){if(e===Xs)throw Error(s(174));return e}function al(e,t){switch(La(rl,t),La(tl,e),La(el,Xs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ie(null,"");break;default:t=ie(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ta(el),La(el,t)}function sl(){Ta(el),Ta(tl),Ta(rl)}function ll(e){nl(rl.current);var t=nl(el.current),r=ie(t,e.type);t!==r&&(La(tl,e),La(el,r))}function ol(e){tl.current===e&&(Ta(el),Ta(tl))}var il=Ba(0);function ul(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cl=[];function dl(){for(var e=0;e<cl.length;e++)cl[e]._workInProgressVersionPrimary=null;cl.length=0}var ml=v.ReactCurrentDispatcher,pl=v.ReactCurrentBatchConfig,hl=0,gl=null,fl=null,xl=null,yl=!1,bl=!1,vl=0,Dl=0;function kl(){throw Error(s(321))}function wl(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!sn(e[r],t[r]))return!1;return!0}function Cl(e,t,r,n,a,l){if(hl=l,gl=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ml.current=null===e||null===e.memoizedState?oo:io,e=r(n,a),bl){l=0;do{if(bl=!1,vl=0,25<=l)throw Error(s(301));l+=1,xl=fl=null,t.updateQueue=null,ml.current=uo,e=r(n,a)}while(bl)}if(ml.current=lo,t=null!==fl&&null!==fl.next,hl=0,xl=fl=gl=null,yl=!1,t)throw Error(s(300));return e}function jl(){var e=0!==vl;return vl=0,e}function Fl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===xl?gl.memoizedState=xl=e:xl=xl.next=e,xl}function Nl(){if(null===fl){var e=gl.alternate;e=null!==e?e.memoizedState:null}else e=fl.next;var t=null===xl?gl.memoizedState:xl.next;if(null!==t)xl=t,fl=e;else{if(null===e)throw Error(s(310));e={memoizedState:(fl=e).memoizedState,baseState:fl.baseState,baseQueue:fl.baseQueue,queue:fl.queue,next:null},null===xl?gl.memoizedState=xl=e:xl=xl.next=e}return xl}function El(e,t){return"function"===typeof t?t(e):t}function Al(e){var t=Nl(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var n=fl,a=n.baseQueue,l=r.pending;if(null!==l){if(null!==a){var o=a.next;a.next=l.next,l.next=o}n.baseQueue=a=l,r.pending=null}if(null!==a){l=a.next,n=n.baseState;var i=o=null,u=null,c=l;do{var d=c.lane;if((hl&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var m={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(i=u=m,o=n):u=u.next=m,gl.lanes|=d,Wi|=d}c=c.next}while(null!==c&&c!==l);null===u?o=n:u.next=i,sn(n,t.memoizedState)||(Eo=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=u,r.lastRenderedState=n}if(null!==(e=r.interleaved)){a=e;do{l=a.lane,gl.lanes|=l,Wi|=l,a=a.next}while(a!==e)}else null===a&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Sl(e){var t=Nl(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,l=t.memoizedState;if(null!==a){r.pending=null;var o=a=a.next;do{l=e(l,o.action),o=o.next}while(o!==a);sn(l,t.memoizedState)||(Eo=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),r.lastRenderedState=l}return[l,n]}function _l(){}function Bl(e,t){var r=gl,n=Nl(),a=t(),l=!sn(n.memoizedState,a);if(l&&(n.memoizedState=a,Eo=!0),n=n.queue,Wl(Rl.bind(null,r,n,e),[e]),n.getSnapshot!==t||l||null!==xl&&1&xl.memoizedState.tag){if(r.flags|=2048,Ml(9,Ll.bind(null,r,n,a,t),void 0,null),null===Oi)throw Error(s(349));0!==(30&hl)||Tl(r,t,a)}return a}function Tl(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=gl.updateQueue)?(t={lastEffect:null,stores:null},gl.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Ll(e,t,r,n){t.value=r,t.getSnapshot=n,Pl(t)&&Ol(e)}function Rl(e,t,r){return r(function(){Pl(t)&&Ol(e)})}function Pl(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!sn(e,r)}catch(n){return!0}}function Ol(e){var t=Vs(e,1);null!==t&&cu(t,e,1,-1)}function Il(e){var t=Fl();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:El,lastRenderedState:e},t.queue=e,e=e.dispatch=ro.bind(null,gl,e),[t.memoizedState,e]}function Ml(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=gl.updateQueue)?(t={lastEffect:null,stores:null},gl.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function zl(){return Nl().memoizedState}function Ul(e,t,r,n){var a=Fl();gl.flags|=e,a.memoizedState=Ml(1|t,r,void 0,void 0===n?null:n)}function Hl(e,t,r,n){var a=Nl();n=void 0===n?null:n;var s=void 0;if(null!==fl){var l=fl.memoizedState;if(s=l.destroy,null!==n&&wl(n,l.deps))return void(a.memoizedState=Ml(t,r,s,n))}gl.flags|=e,a.memoizedState=Ml(1|t,r,s,n)}function Vl(e,t){return Ul(8390656,8,e,t)}function Wl(e,t){return Hl(2048,8,e,t)}function ql(e,t){return Hl(4,2,e,t)}function Kl(e,t){return Hl(4,4,e,t)}function $l(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Jl(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Hl(4,4,$l.bind(null,t,e),r)}function Ql(){}function Gl(e,t){var r=Nl();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&wl(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Yl(e,t){var r=Nl();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&wl(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Zl(e,t,r){return 0===(21&hl)?(e.baseState&&(e.baseState=!1,Eo=!0),e.memoizedState=r):(sn(r,t)||(r=ht(),gl.lanes|=r,Wi|=r,e.baseState=!0),t)}function Xl(e,t){var r=yt;yt=0!==r&&4>r?r:4,e(!0);var n=pl.transition;pl.transition={};try{e(!1),t()}finally{yt=r,pl.transition=n}}function eo(){return Nl().memoizedState}function to(e,t,r){var n=uu(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},no(e))ao(t,r);else if(null!==(r=Us(e,t,r,n))){cu(r,e,n,iu()),so(r,t,n)}}function ro(e,t,r){var n=uu(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(no(e))ao(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var l=t.lastRenderedState,o=s(l,r);if(a.hasEagerState=!0,a.eagerState=o,sn(o,l)){var i=t.interleaved;return null===i?(a.next=a,zs(t)):(a.next=i.next,i.next=a),void(t.interleaved=a)}}catch(u){}null!==(r=Us(e,t,a,n))&&(cu(r,e,n,a=iu()),so(r,t,n))}}function no(e){var t=e.alternate;return e===gl||null!==t&&t===gl}function ao(e,t){bl=yl=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function so(e,t,r){if(0!==(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,xt(e,r)}}var lo={readContext:Is,useCallback:kl,useContext:kl,useEffect:kl,useImperativeHandle:kl,useInsertionEffect:kl,useLayoutEffect:kl,useMemo:kl,useReducer:kl,useRef:kl,useState:kl,useDebugValue:kl,useDeferredValue:kl,useTransition:kl,useMutableSource:kl,useSyncExternalStore:kl,useId:kl,unstable_isNewReconciler:!1},oo={readContext:Is,useCallback:function(e,t){return Fl().memoizedState=[e,void 0===t?null:t],e},useContext:Is,useEffect:Vl,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Ul(4194308,4,$l.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ul(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ul(4,2,e,t)},useMemo:function(e,t){var r=Fl();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Fl();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=to.bind(null,gl,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},Fl().memoizedState=e},useState:Il,useDebugValue:Ql,useDeferredValue:function(e){return Fl().memoizedState=e},useTransition:function(){var e=Il(!1),t=e[0];return e=Xl.bind(null,e[1]),Fl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=gl,a=Fl();if(ms){if(void 0===r)throw Error(s(407));r=r()}else{if(r=t(),null===Oi)throw Error(s(349));0!==(30&hl)||Tl(n,t,r)}a.memoizedState=r;var l={value:r,getSnapshot:t};return a.queue=l,Vl(Rl.bind(null,n,l,e),[e]),n.flags|=2048,Ml(9,Ll.bind(null,n,l,r,t),void 0,null),r},useId:function(){var e=Fl(),t=Oi.identifierPrefix;if(ms){var r=ss;t=":"+t+"R"+(r=(as&~(1<<32-st(as)-1)).toString(32)+r),0<(r=vl++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=Dl++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},io={readContext:Is,useCallback:Gl,useContext:Is,useEffect:Wl,useImperativeHandle:Jl,useInsertionEffect:ql,useLayoutEffect:Kl,useMemo:Yl,useReducer:Al,useRef:zl,useState:function(){return Al(El)},useDebugValue:Ql,useDeferredValue:function(e){return Zl(Nl(),fl.memoizedState,e)},useTransition:function(){return[Al(El)[0],Nl().memoizedState]},useMutableSource:_l,useSyncExternalStore:Bl,useId:eo,unstable_isNewReconciler:!1},uo={readContext:Is,useCallback:Gl,useContext:Is,useEffect:Wl,useImperativeHandle:Jl,useInsertionEffect:ql,useLayoutEffect:Kl,useMemo:Yl,useReducer:Sl,useRef:zl,useState:function(){return Sl(El)},useDebugValue:Ql,useDeferredValue:function(e){var t=Nl();return null===fl?t.memoizedState=e:Zl(t,fl.memoizedState,e)},useTransition:function(){return[Sl(El)[0],Nl().memoizedState]},useMutableSource:_l,useSyncExternalStore:Bl,useId:eo,unstable_isNewReconciler:!1};function co(e,t){if(e&&e.defaultProps){for(var r in t=O({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function mo(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:O({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var po={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=iu(),a=uu(e),s=$s(n,a);s.payload=t,void 0!==r&&null!==r&&(s.callback=r),null!==(t=Js(e,s,a))&&(cu(t,e,a,n),Qs(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=iu(),a=uu(e),s=$s(n,a);s.tag=1,s.payload=t,void 0!==r&&null!==r&&(s.callback=r),null!==(t=Js(e,s,a))&&(cu(t,e,a,n),Qs(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=iu(),n=uu(e),a=$s(r,n);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Js(e,a,n))&&(cu(t,e,n,r),Qs(t,e,n))}};function ho(e,t,r,n,a,s,l){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,s,l):!t.prototype||!t.prototype.isPureReactComponent||(!ln(r,n)||!ln(a,s))}function go(e,t,r){var n=!1,a=Ra,s=t.contextType;return"object"===typeof s&&null!==s?s=Is(s):(a=za(t)?Ia:Pa.current,s=(n=null!==(n=t.contextTypes)&&void 0!==n)?Ma(e,a):Ra),t=new t(r,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=po,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function fo(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function xo(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},qs(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=Is(s):(s=za(t)?Ia:Pa.current,a.context=Ma(e,s)),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(mo(e,t,s,r),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&po.enqueueReplaceState(a,a.state,null),Ys(e,r,a,n),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function yo(e,t){try{var r="",n=t;do{r+=U(n),n=n.return}while(n);var a=r}catch(Pn){a="\nError generating stack: "+Pn.message+"\n"+Pn.stack}return{value:e,source:t,stack:a,digest:null}}function bo(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function vo(e,t){try{console.error(t.value)}catch(Bn){setTimeout(function(){throw Bn})}}var Do="function"===typeof WeakMap?WeakMap:Map;function ko(e,t,r){(r=$s(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Zi||(Zi=!0,Xi=n),vo(0,t)},r}function wo(e,t,r){(r=$s(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){vo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(r.callback=function(){vo(0,t),"function"!==typeof n&&(null===eu?eu=new Set([this]):eu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function Co(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new Do;var a=new Set;n.set(t,a)}else void 0===(a=n.get(t))&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=Tu.bind(null,e,t,r),t.then(e,e))}function jo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Fo(e,t,r,n,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=$s(-1,1)).tag=2,Js(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var No=v.ReactCurrentOwner,Eo=!1;function Ao(e,t,r,n){t.child=null===e?As(t,null,r,n):Es(t,e.child,r,n)}function So(e,t,r,n,a){r=r.render;var s=t.ref;return Os(t,a),n=Cl(e,t,r,n,s,a),r=jl(),null===e||Eo?(ms&&r&&is(t),t.flags|=1,Ao(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Zo(e,t,a))}function _o(e,t,r,n,a){if(null===e){var s=r.type;return"function"!==typeof s||zu(s)||void 0!==s.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Hu(r.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Bo(e,t,s,n,a))}if(s=e.child,0===(e.lanes&a)){var l=s.memoizedProps;if((r=null!==(r=r.compare)?r:ln)(l,n)&&e.ref===t.ref)return Zo(e,t,a)}return t.flags|=1,(e=Uu(s,n)).ref=t.ref,e.return=t,t.child=e}function Bo(e,t,r,n,a){if(null!==e){var s=e.memoizedProps;if(ln(s,n)&&e.ref===t.ref){if(Eo=!1,t.pendingProps=n=s,0===(e.lanes&a))return t.lanes=e.lanes,Zo(e,t,a);0!==(131072&e.flags)&&(Eo=!0)}}return Ro(e,t,r,n,a)}function To(e,t,r){var n=t.pendingProps,a=n.children,s=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},La(Ui,zi),zi|=r;else{if(0===(1073741824&r))return e=null!==s?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,La(Ui,zi),zi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==s?s.baseLanes:r,La(Ui,zi),zi|=n}else null!==s?(n=s.baseLanes|r,t.memoizedState=null):n=r,La(Ui,zi),zi|=n;return Ao(e,t,a,r),t.child}function Lo(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ro(e,t,r,n,a){var s=za(r)?Ia:Pa.current;return s=Ma(t,s),Os(t,a),r=Cl(e,t,r,n,s,a),n=jl(),null===e||Eo?(ms&&n&&is(t),t.flags|=1,Ao(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Zo(e,t,a))}function Po(e,t,r,n,a){if(za(r)){var s=!0;Wa(t)}else s=!1;if(Os(t,a),null===t.stateNode)Yo(e,t),go(t,r,n),xo(t,r,n,a),n=!0;else if(null===e){var l=t.stateNode,o=t.memoizedProps;l.props=o;var i=l.context,u=r.contextType;"object"===typeof u&&null!==u?u=Is(u):u=Ma(t,u=za(r)?Ia:Pa.current);var c=r.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof l.getSnapshotBeforeUpdate;d||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(o!==n||i!==u)&&fo(t,l,n,u),Ws=!1;var m=t.memoizedState;l.state=m,Ys(t,n,l,a),i=t.memoizedState,o!==n||m!==i||Oa.current||Ws?("function"===typeof c&&(mo(t,r,c,n),i=t.memoizedState),(o=Ws||ho(t,r,o,n,m,i,u))?(d||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||("function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"===typeof l.componentDidMount&&(t.flags|=4194308)):("function"===typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=i),l.props=n,l.state=i,l.context=u,n=o):("function"===typeof l.componentDidMount&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,Ks(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:co(t.type,o),l.props=u,d=t.pendingProps,m=l.context,"object"===typeof(i=r.contextType)&&null!==i?i=Is(i):i=Ma(t,i=za(r)?Ia:Pa.current);var p=r.getDerivedStateFromProps;(c="function"===typeof p||"function"===typeof l.getSnapshotBeforeUpdate)||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(o!==d||m!==i)&&fo(t,l,n,i),Ws=!1,m=t.memoizedState,l.state=m,Ys(t,n,l,a);var h=t.memoizedState;o!==d||m!==h||Oa.current||Ws?("function"===typeof p&&(mo(t,r,p,n),h=t.memoizedState),(u=Ws||ho(t,r,u,n,m,h,i)||!1)?(c||"function"!==typeof l.UNSAFE_componentWillUpdate&&"function"!==typeof l.componentWillUpdate||("function"===typeof l.componentWillUpdate&&l.componentWillUpdate(n,h,i),"function"===typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(n,h,i)),"function"===typeof l.componentDidUpdate&&(t.flags|=4),"function"===typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof l.componentDidUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=h),l.props=n,l.state=h,l.context=i,n=u):("function"!==typeof l.componentDidUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Oo(e,t,r,n,s,a)}function Oo(e,t,r,n,a,s){Lo(e,t);var l=0!==(128&t.flags);if(!n&&!l)return a&&qa(t,r,!1),Zo(e,t,s);n=t.stateNode,No.current=t;var o=l&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&l?(t.child=Es(t,e.child,null,s),t.child=Es(t,null,o,s)):Ao(e,t,o,s),t.memoizedState=n.state,a&&qa(t,r,!0),t.child}function Io(e){var t=e.stateNode;t.pendingContext?Ha(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ha(0,t.context,!1),al(e,t.containerInfo)}function Mo(e,t,r,n,a){return Ds(),ks(a),t.flags|=256,Ao(e,t,r,n),t.child}var zo,Uo,Ho,Vo={dehydrated:null,treeContext:null,retryLane:0};function Wo(e){return{baseLanes:e,cachePool:null,transitions:null}}function qo(e,t,r){var n,a=t.pendingProps,l=il.current,o=!1,i=0!==(128&t.flags);if((n=i)||(n=(null===e||null!==e.memoizedState)&&0!==(2&l)),n?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(l|=1),La(il,1&l),null===e)return xs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(i=a.children,e=a.fallback,o?(a=t.mode,o=t.child,i={mode:"hidden",children:i},0===(1&a)&&null!==o?(o.childLanes=0,o.pendingProps=i):o=Wu(i,a,0,null),e=Vu(e,a,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Wo(r),t.memoizedState=Vo,e):Ko(t,i));if(null!==(l=e.memoizedState)&&null!==(n=l.dehydrated))return function(e,t,r,n,a,l,o){if(r)return 256&t.flags?(t.flags&=-257,$o(e,t,o,n=bo(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(l=n.fallback,a=t.mode,n=Wu({mode:"visible",children:n.children},a,0,null),(l=Vu(l,a,o,null)).flags|=2,n.return=t,l.return=t,n.sibling=l,t.child=n,0!==(1&t.mode)&&Es(t,e.child,null,o),t.child.memoizedState=Wo(o),t.memoizedState=Vo,l);if(0===(1&t.mode))return $o(e,t,o,null);if("$!"===a.data){if(n=a.nextSibling&&a.nextSibling.dataset)var i=n.dgst;return n=i,$o(e,t,o,n=bo(l=Error(s(419)),n,void 0))}if(i=0!==(o&e.childLanes),Eo||i){if(null!==(n=Oi)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(n.suspendedLanes|o))?0:a)&&a!==l.retryLane&&(l.retryLane=a,Vs(e,a),cu(n,e,a,-1))}return wu(),$o(e,t,o,n=bo(Error(s(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Ru.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,ds=ga(a.nextSibling),cs=t,ms=!0,ps=null,null!==e&&(ts[rs++]=as,ts[rs++]=ss,ts[rs++]=ns,as=e.id,ss=e.overflow,ns=t),t=Ko(t,n.children),t.flags|=4096,t)}(e,t,i,a,n,l,r);if(o){o=a.fallback,i=t.mode,n=(l=e.child).sibling;var u={mode:"hidden",children:a.children};return 0===(1&i)&&t.child!==l?((a=t.child).childLanes=0,a.pendingProps=u,t.deletions=null):(a=Uu(l,u)).subtreeFlags=14680064&l.subtreeFlags,null!==n?o=Uu(n,o):(o=Vu(o,i,r,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,i=null===(i=e.child.memoizedState)?Wo(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=Vo,a}return e=(o=e.child).sibling,a=Uu(o,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=r),a.return=t,a.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function Ko(e,t){return(t=Wu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function $o(e,t,r,n){return null!==n&&ks(n),Es(t,e.child,null,r),(e=Ko(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Jo(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Ps(e.return,t,r)}function Qo(e,t,r,n,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function Go(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(Ao(e,t,n.children,r),0!==(2&(n=il.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Jo(e,r,t);else if(19===e.tag)Jo(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(La(il,n),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===ul(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Qo(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ul(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Qo(t,!0,r,null,s);break;case"together":Qo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zo(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Wi|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(r=Uu(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Uu(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Xo(e,t){if(!ms)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ei(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=14680064&a.subtreeFlags,n|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function ti(e,t,r){var n=t.pendingProps;switch(us(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ei(t),null;case 1:case 17:return za(t.type)&&Ua(),ei(t),null;case 3:return n=t.stateNode,sl(),Ta(Oa),Ta(Pa),dl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(bs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ps&&(hu(ps),ps=null))),ei(t),null;case 5:ol(t);var a=nl(rl.current);if(r=t.type,null!==e&&null!=t.stateNode)Uo(e,t,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(s(166));return ei(t),null}if(e=nl(el.current),bs(t)){n=t.stateNode,r=t.type;var l=t.memoizedProps;switch(n[ya]=t,n[ba]=l,e=0!==(1&t.mode),r){case"dialog":Vn("cancel",n),Vn("close",n);break;case"iframe":case"object":case"embed":Vn("load",n);break;case"video":case"audio":for(a=0;a<Mn.length;a++)Vn(Mn[a],n);break;case"source":Vn("error",n);break;case"img":case"image":case"link":Vn("error",n),Vn("load",n);break;case"details":Vn("toggle",n);break;case"input":G(n,l),Vn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!l.multiple},Vn("invalid",n);break;case"textarea":ae(n,l),Vn("invalid",n)}for(var i in xe(r,l),a=null,l)if(l.hasOwnProperty(i)){var u=l[i];"children"===i?"string"===typeof u?n.textContent!==u&&(!0!==l.suppressHydrationWarning&&aa(n.textContent,u,e),a=["children",u]):"number"===typeof u&&n.textContent!==""+u&&(!0!==l.suppressHydrationWarning&&aa(n.textContent,u,e),a=["children",""+u]):o.hasOwnProperty(i)&&null!=u&&"onScroll"===i&&Vn("scroll",n)}switch(r){case"input":K(n),X(n,l,!0);break;case"textarea":K(n),le(n);break;case"select":case"option":break;default:"function"===typeof l.onClick&&(n.onclick=sa)}n=a,t.updateQueue=n,null!==n&&(t.flags|=4)}else{i=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),"select"===r&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[ya]=t,e[ba]=n,zo(e,t),t.stateNode=e;e:{switch(i=ye(r,n),r){case"dialog":Vn("cancel",e),Vn("close",e),a=n;break;case"iframe":case"object":case"embed":Vn("load",e),a=n;break;case"video":case"audio":for(a=0;a<Mn.length;a++)Vn(Mn[a],e);a=n;break;case"source":Vn("error",e),a=n;break;case"img":case"image":case"link":Vn("error",e),Vn("load",e),a=n;break;case"details":Vn("toggle",e),a=n;break;case"input":G(e,n),a=Q(e,n),Vn("invalid",e);break;case"option":default:a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=O({},n,{value:void 0}),Vn("invalid",e);break;case"textarea":ae(e,n),a=ne(e,n),Vn("invalid",e)}for(l in xe(r,a),u=a)if(u.hasOwnProperty(l)){var c=u[l];"style"===l?ge(e,c):"dangerouslySetInnerHTML"===l?null!=(c=c?c.__html:void 0)&&ce(e,c):"children"===l?"string"===typeof c?("textarea"!==r||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(o.hasOwnProperty(l)?null!=c&&"onScroll"===l&&Vn("scroll",e):null!=c&&b(e,l,c,i))}switch(r){case"input":K(e),X(e,n,!1);break;case"textarea":K(e),le(e);break;case"option":null!=n.value&&e.setAttribute("value",""+W(n.value));break;case"select":e.multiple=!!n.multiple,null!=(l=n.value)?re(e,!!n.multiple,l,!1):null!=n.defaultValue&&re(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=sa)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return ei(t),null;case 6:if(e&&null!=t.stateNode)Ho(0,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(s(166));if(r=nl(rl.current),nl(el.current),bs(t)){if(n=t.stateNode,r=t.memoizedProps,n[ya]=t,(l=n.nodeValue!==r)&&null!==(e=cs))switch(e.tag){case 3:aa(n.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&aa(n.nodeValue,r,0!==(1&e.mode))}l&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[ya]=t,t.stateNode=n}return ei(t),null;case 13:if(Ta(il),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ms&&null!==ds&&0!==(1&t.mode)&&0===(128&t.flags))vs(),Ds(),t.flags|=98560,l=!1;else if(l=bs(t),null!==n&&null!==n.dehydrated){if(null===e){if(!l)throw Error(s(318));if(!(l=null!==(l=t.memoizedState)?l.dehydrated:null))throw Error(s(317));l[ya]=t}else Ds(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ei(t),l=!1}else null!==ps&&(hu(ps),ps=null),l=!0;if(!l)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&il.current)?0===Hi&&(Hi=3):wu())),null!==t.updateQueue&&(t.flags|=4),ei(t),null);case 4:return sl(),null===e&&$n(t.stateNode.containerInfo),ei(t),null;case 10:return Rs(t.type._context),ei(t),null;case 19:if(Ta(il),null===(l=t.memoizedState))return ei(t),null;if(n=0!==(128&t.flags),null===(i=l.rendering))if(n)Xo(l,!1);else{if(0!==Hi||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=ul(e))){for(t.flags|=128,Xo(l,!1),null!==(n=i.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(l=r).flags&=14680066,null===(i=l.alternate)?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return La(il,1&il.current|2),t.child}e=e.sibling}null!==l.tail&&Ge()>Gi&&(t.flags|=128,n=!0,Xo(l,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=ul(i))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Xo(l,!0),null===l.tail&&"hidden"===l.tailMode&&!i.alternate&&!ms)return ei(t),null}else 2*Ge()-l.renderingStartTime>Gi&&1073741824!==r&&(t.flags|=128,n=!0,Xo(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(null!==(r=l.last)?r.sibling=i:t.child=i,l.last=i)}return null!==l.tail?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ge(),t.sibling=null,r=il.current,La(il,n?1&r|2:1&r),t):(ei(t),null);case 22:case 23:return bu(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&zi)&&(ei(t),6&t.subtreeFlags&&(t.flags|=8192)):ei(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function ri(e,t){switch(us(t),t.tag){case 1:return za(t.type)&&Ua(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return sl(),Ta(Oa),Ta(Pa),dl(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ol(t),null;case 13:if(Ta(il),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));Ds()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ta(il),null;case 4:return sl(),null;case 10:return Rs(t.type._context),null;case 22:case 23:return bu(),null;default:return null}}zo=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Uo=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,nl(el.current);var s,l=null;switch(r){case"input":a=Q(e,a),n=Q(e,n),l=[];break;case"select":a=O({},a,{value:void 0}),n=O({},n,{value:void 0}),l=[];break;case"textarea":a=ne(e,a),n=ne(e,n),l=[];break;default:"function"!==typeof a.onClick&&"function"===typeof n.onClick&&(e.onclick=sa)}for(c in xe(r,n),r=null,a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&null!=a[c])if("style"===c){var i=a[c];for(s in i)i.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(o.hasOwnProperty(c)?l||(l=[]):(l=l||[]).push(c,null));for(c in n){var u=n[c];if(i=null!=a?a[c]:void 0,n.hasOwnProperty(c)&&u!==i&&(null!=u||null!=i))if("style"===c)if(i){for(s in i)!i.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in u)u.hasOwnProperty(s)&&i[s]!==u[s]&&(r||(r={}),r[s]=u[s])}else r||(l||(l=[]),l.push(c,r)),r=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,i=i?i.__html:void 0,null!=u&&i!==u&&(l=l||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(l=l||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(o.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Vn("scroll",e),l||i===u||(l=[])):(l=l||[]).push(c,u))}r&&(l=l||[]).push("style",r);var c=l;(t.updateQueue=c)&&(t.flags|=4)}},Ho=function(e,t,r,n){r!==n&&(t.flags|=4)};var ni=!1,ai=!1,si="function"===typeof WeakSet?WeakSet:Set,li=null;function oi(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){Bu(e,t,n)}else r.current=null}function ii(e,t,r){try{r()}catch(n){Bu(e,t,n)}}var ui=!1;function ci(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&ii(t,r,s)}a=a.next}while(a!==n)}}function di(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function mi(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function pi(e){var t=e.alternate;null!==t&&(e.alternate=null,pi(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ya],delete t[ba],delete t[wa],delete t[Ca],delete t[ja])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function hi(e){return 5===e.tag||3===e.tag||4===e.tag}function gi(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||hi(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function fi(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=sa));else if(4!==n&&null!==(e=e.child))for(fi(e,t,r),e=e.sibling;null!==e;)fi(e,t,r),e=e.sibling}function xi(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(xi(e,t,r),e=e.sibling;null!==e;)xi(e,t,r),e=e.sibling}var yi=null,bi=!1;function vi(e,t,r){for(r=r.child;null!==r;)Di(e,t,r),r=r.sibling}function Di(e,t,r){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(nt,r)}catch(In){}switch(r.tag){case 5:ai||oi(r,t);case 6:var n=yi,a=bi;yi=null,vi(e,t,r),bi=a,null!==(yi=n)&&(bi?(e=yi,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):yi.removeChild(r.stateNode));break;case 18:null!==yi&&(bi?(e=yi,r=r.stateNode,8===e.nodeType?ha(e.parentNode,r):1===e.nodeType&&ha(e,r),Ut(e)):ha(yi,r.stateNode));break;case 4:n=yi,a=bi,yi=r.stateNode.containerInfo,bi=!0,vi(e,t,r),yi=n,bi=a;break;case 0:case 11:case 14:case 15:if(!ai&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){a=n=n.next;do{var s=a,l=s.destroy;s=s.tag,void 0!==l&&(0!==(2&s)||0!==(4&s))&&ii(r,t,l),a=a.next}while(a!==n)}vi(e,t,r);break;case 1:if(!ai&&(oi(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(In){Bu(r,t,In)}vi(e,t,r);break;case 21:vi(e,t,r);break;case 22:1&r.mode?(ai=(n=ai)||null!==r.memoizedState,vi(e,t,r),ai=n):vi(e,t,r);break;default:vi(e,t,r)}}function ki(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new si),t.forEach(function(t){var n=Pu.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))})}}function wi(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var a=r[n];try{var l=e,o=t,i=o;e:for(;null!==i;){switch(i.tag){case 5:yi=i.stateNode,bi=!1;break e;case 3:case 4:yi=i.stateNode.containerInfo,bi=!0;break e}i=i.return}if(null===yi)throw Error(s(160));Di(l,o,a),yi=null,bi=!1;var u=a.alternate;null!==u&&(u.return=null),a.return=null}catch(c){Bu(a,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Ci(t,e),t=t.sibling}function Ci(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wi(t,e),ji(e),4&n){try{ci(3,e,e.return),di(3,e)}catch(Kn){Bu(e,e.return,Kn)}try{ci(5,e,e.return)}catch(Kn){Bu(e,e.return,Kn)}}break;case 1:wi(t,e),ji(e),512&n&&null!==r&&oi(r,r.return);break;case 5:if(wi(t,e),ji(e),512&n&&null!==r&&oi(r,r.return),32&e.flags){var a=e.stateNode;try{de(a,"")}catch(Kn){Bu(e,e.return,Kn)}}if(4&n&&null!=(a=e.stateNode)){var l=e.memoizedProps,o=null!==r?r.memoizedProps:l,i=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===i&&"radio"===l.type&&null!=l.name&&Y(a,l),ye(i,o);var c=ye(i,l);for(o=0;o<u.length;o+=2){var d=u[o],m=u[o+1];"style"===d?ge(a,m):"dangerouslySetInnerHTML"===d?ce(a,m):"children"===d?de(a,m):b(a,d,m,c)}switch(i){case"input":Z(a,l);break;case"textarea":se(a,l);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var h=l.value;null!=h?re(a,!!l.multiple,h,!1):p!==!!l.multiple&&(null!=l.defaultValue?re(a,!!l.multiple,l.defaultValue,!0):re(a,!!l.multiple,l.multiple?[]:"",!1))}a[ba]=l}catch(Kn){Bu(e,e.return,Kn)}}break;case 6:if(wi(t,e),ji(e),4&n){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(Kn){Bu(e,e.return,Kn)}}break;case 3:if(wi(t,e),ji(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(Kn){Bu(e,e.return,Kn)}break;case 4:default:wi(t,e),ji(e);break;case 13:wi(t,e),ji(e),8192&(a=e.child).flags&&(l=null!==a.memoizedState,a.stateNode.isHidden=l,!l||null!==a.alternate&&null!==a.alternate.memoizedState||(Qi=Ge())),4&n&&ki(e);break;case 22:if(d=null!==r&&null!==r.memoizedState,1&e.mode?(ai=(c=ai)||d,wi(t,e),ai=c):wi(t,e),ji(e),8192&n){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(li=e,d=e.child;null!==d;){for(m=li=d;null!==li;){switch(h=(p=li).child,p.tag){case 0:case 11:case 14:case 15:ci(4,p,p.return);break;case 1:oi(p,p.return);var g=p.stateNode;if("function"===typeof g.componentWillUnmount){n=p,r=p.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(Kn){Bu(n,r,Kn)}}break;case 5:oi(p,p.return);break;case 22:if(null!==p.memoizedState){Ai(m);continue}}null!==h?(h.return=p,li=h):Ai(m)}d=d.sibling}e:for(d=null,m=e;;){if(5===m.tag){if(null===d){d=m;try{a=m.stateNode,c?"function"===typeof(l=a.style).setProperty?l.setProperty("display","none","important"):l.display="none":(i=m.stateNode,o=void 0!==(u=m.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,i.style.display=he("display",o))}catch(Kn){Bu(e,e.return,Kn)}}}else if(6===m.tag){if(null===d)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(Kn){Bu(e,e.return,Kn)}}else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===e)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;null===m.sibling;){if(null===m.return||m.return===e)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:wi(t,e),ji(e),4&n&&ki(e);case 21:}}function ji(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(hi(r)){var n=r;break e}r=r.return}throw Error(s(160))}switch(n.tag){case 5:var a=n.stateNode;32&n.flags&&(de(a,""),n.flags&=-33),xi(e,gi(e),a);break;case 3:case 4:var l=n.stateNode.containerInfo;fi(e,gi(e),l);break;default:throw Error(s(161))}}catch(Da){Bu(e,e.return,Da)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Fi(e,t,r){li=e,Ni(e,t,r)}function Ni(e,t,r){for(var n=0!==(1&e.mode);null!==li;){var a=li,s=a.child;if(22===a.tag&&n){var l=null!==a.memoizedState||ni;if(!l){var o=a.alternate,i=null!==o&&null!==o.memoizedState||ai;o=ni;var u=ai;if(ni=l,(ai=i)&&!u)for(li=a;null!==li;)i=(l=li).child,22===l.tag&&null!==l.memoizedState?Si(a):null!==i?(i.return=l,li=i):Si(a);for(;null!==s;)li=s,Ni(s,t,r),s=s.sibling;li=a,ni=o,ai=u}Ei(e)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,li=s):Ei(e)}}function Ei(e){for(;null!==li;){var t=li;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:ai||di(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!ai)if(null===r)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:co(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;null!==l&&Zs(t,l,n);break;case 3:var o=t.updateQueue;if(null!==o){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Zs(t,o,r)}break;case 5:var i=t.stateNode;if(null===r&&4&t.flags){r=i;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var m=d.dehydrated;null!==m&&Ut(m)}}}break;default:throw Error(s(163))}ai||512&t.flags&&mi(t)}catch(kn){Bu(t,t.return,kn)}}if(t===e){li=null;break}if(null!==(r=t.sibling)){r.return=t.return,li=r;break}li=t.return}}function Ai(e){for(;null!==li;){var t=li;if(t===e){li=null;break}var r=t.sibling;if(null!==r){r.return=t.return,li=r;break}li=t.return}}function Si(e){for(;null!==li;){var t=li;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{di(4,t)}catch(Da){Bu(t,r,Da)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var a=t.return;try{n.componentDidMount()}catch(Da){Bu(t,a,Da)}}var s=t.return;try{mi(t)}catch(Da){Bu(t,s,Da)}break;case 5:var l=t.return;try{mi(t)}catch(Da){Bu(t,l,Da)}}}catch(Da){Bu(t,t.return,Da)}if(t===e){li=null;break}var o=t.sibling;if(null!==o){o.return=t.return,li=o;break}li=t.return}}var _i,Bi=Math.ceil,Ti=v.ReactCurrentDispatcher,Li=v.ReactCurrentOwner,Ri=v.ReactCurrentBatchConfig,Pi=0,Oi=null,Ii=null,Mi=0,zi=0,Ui=Ba(0),Hi=0,Vi=null,Wi=0,qi=0,Ki=0,$i=null,Ji=null,Qi=0,Gi=1/0,Yi=null,Zi=!1,Xi=null,eu=null,tu=!1,ru=null,nu=0,au=0,su=null,lu=-1,ou=0;function iu(){return 0!==(6&Pi)?Ge():-1!==lu?lu:lu=Ge()}function uu(e){return 0===(1&e.mode)?1:0!==(2&Pi)&&0!==Mi?Mi&-Mi:null!==ws.transition?(0===ou&&(ou=ht()),ou):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function cu(e,t,r,n){if(50<au)throw au=0,su=null,Error(s(185));ft(e,r,n),0!==(2&Pi)&&e===Oi||(e===Oi&&(0===(2&Pi)&&(qi|=r),4===Hi&&gu(e,Mi)),du(e,n),1===r&&0===Pi&&0===(1&t.mode)&&(Gi=Ge()+500,$a&&Ga()))}function du(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-st(s),o=1<<l,i=a[l];-1===i?0!==(o&r)&&0===(o&n)||(a[l]=mt(o,t)):i<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var n=dt(e,e===Oi?Mi:0);if(0===n)null!==r&&$e(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&$e(r),1===t)0===e.tag?function(e){$a=!0,Qa(e)}(fu.bind(null,e)):Qa(fu.bind(null,e)),ma(function(){0===(6&Pi)&&Ga()}),r=null;else{switch(bt(n)){case 1:r=Ze;break;case 4:r=Xe;break;case 16:default:r=et;break;case 536870912:r=rt}r=Ou(r,mu.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function mu(e,t){if(lu=-1,ou=0,0!==(6&Pi))throw Error(s(327));var r=e.callbackNode;if(Su()&&e.callbackNode!==r)return null;var n=dt(e,e===Oi?Mi:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=Cu(e,n);else{t=n;var a=Pi;Pi|=2;var l=ku();for(Oi===e&&Mi===t||(Yi=null,Gi=Ge()+500,vu(e,t));;)try{Fu();break}catch(In){Du(e,In)}Ls(),Ti.current=l,Pi=a,null!==Ii?t=0:(Oi=null,Mi=0,t=Hi)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(n=a,t=pu(e,a))),1===t)throw r=Vi,vu(e,0),gu(e,n),du(e,Ge()),r;if(6===t)gu(e,n);else{if(a=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!sn(s(),a))return!1}catch(o){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=Cu(e,n))&&(0!==(l=pt(e))&&(n=l,t=pu(e,l))),1===t))throw r=Vi,vu(e,0),gu(e,n),du(e,Ge()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(s(345));case 2:case 5:Au(e,Ji,Yi);break;case 3:if(gu(e,n),(130023424&n)===n&&10<(t=Qi+500-Ge())){if(0!==dt(e,0))break;if(((a=e.suspendedLanes)&n)!==n){iu(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ua(Au.bind(null,e,Ji,Yi),t);break}Au(e,Ji,Yi);break;case 4:if(gu(e,n),(4194240&n)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-st(n);l=1<<o,(o=t[o])>a&&(a=o),n&=~l}if(n=a,10<(n=(120>(n=Ge()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Bi(n/1960))-n)){e.timeoutHandle=ua(Au.bind(null,e,Ji,Yi),n);break}Au(e,Ji,Yi);break;default:throw Error(s(329))}}}return du(e,Ge()),e.callbackNode===r?mu.bind(null,e):null}function pu(e,t){var r=$i;return e.current.memoizedState.isDehydrated&&(vu(e,t).flags|=256),2!==(e=Cu(e,t))&&(t=Ji,Ji=r,null!==t&&hu(t)),e}function hu(e){null===Ji?Ji=e:Ji.push.apply(Ji,e)}function gu(e,t){for(t&=~Ki,t&=~qi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-st(t),n=1<<r;e[r]=-1,t&=~n}}function fu(e){if(0!==(6&Pi))throw Error(s(327));Su();var t=dt(e,0);if(0===(1&t))return du(e,Ge()),null;var r=Cu(e,t);if(0!==e.tag&&2===r){var n=pt(e);0!==n&&(t=n,r=pu(e,n))}if(1===r)throw r=Vi,vu(e,0),gu(e,t),du(e,Ge()),r;if(6===r)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Au(e,Ji,Yi),du(e,Ge()),null}function xu(e,t){var r=Pi;Pi|=1;try{return e(t)}finally{0===(Pi=r)&&(Gi=Ge()+500,$a&&Ga())}}function yu(e){null!==ru&&0===ru.tag&&0===(6&Pi)&&Su();var t=Pi;Pi|=1;var r=Ri.transition,n=yt;try{if(Ri.transition=null,yt=1,e)return e()}finally{yt=n,Ri.transition=r,0===(6&(Pi=t))&&Ga()}}function bu(){zi=Ui.current,Ta(Ui)}function vu(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,ca(r)),null!==Ii)for(r=Ii.return;null!==r;){var n=r;switch(us(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Ua();break;case 3:sl(),Ta(Oa),Ta(Pa),dl();break;case 5:ol(n);break;case 4:sl();break;case 13:case 19:Ta(il);break;case 10:Rs(n.type._context);break;case 22:case 23:bu()}r=r.return}if(Oi=e,Ii=e=Uu(e.current,null),Mi=zi=t,Hi=0,Vi=null,Ki=qi=Wi=0,Ji=$i=null,null!==Ms){for(t=0;t<Ms.length;t++)if(null!==(n=(r=Ms[t]).interleaved)){r.interleaved=null;var a=n.next,s=r.pending;if(null!==s){var l=s.next;s.next=a,n.next=l}r.pending=n}Ms=null}return e}function Du(e,t){for(;;){var r=Ii;try{if(Ls(),ml.current=lo,yl){for(var n=gl.memoizedState;null!==n;){var a=n.queue;null!==a&&(a.pending=null),n=n.next}yl=!1}if(hl=0,xl=fl=gl=null,bl=!1,vl=0,Li.current=null,null===r||null===r.return){Hi=1,Vi=t,Ii=null;break}e:{var l=e,o=r.return,i=r,u=t;if(t=Mi,i.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=i,m=d.tag;if(0===(1&d.mode)&&(0===m||11===m||15===m)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=jo(o);if(null!==h){h.flags&=-257,Fo(h,o,i,0,t),1&h.mode&&Co(l,c,t),u=c;var g=(t=h).updateQueue;if(null===g){var f=new Set;f.add(u),t.updateQueue=f}else g.add(u);break e}if(0===(1&t)){Co(l,c,t),wu();break e}u=Error(s(426))}else if(ms&&1&i.mode){var x=jo(o);if(null!==x){0===(65536&x.flags)&&(x.flags|=256),Fo(x,o,i,0,t),ks(yo(u,i));break e}}l=u=yo(u,i),4!==Hi&&(Hi=2),null===$i?$i=[l]:$i.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,Gs(l,ko(0,u,t));break e;case 1:i=u;var y=l.type,b=l.stateNode;if(0===(128&l.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===eu||!eu.has(b)))){l.flags|=65536,t&=-t,l.lanes|=t,Gs(l,wo(l,i,t));break e}}l=l.return}while(null!==l)}Eu(r)}catch(v){t=v,Ii===r&&null!==r&&(Ii=r=r.return);continue}break}}function ku(){var e=Ti.current;return Ti.current=lo,null===e?lo:e}function wu(){0!==Hi&&3!==Hi&&2!==Hi||(Hi=4),null===Oi||0===(268435455&Wi)&&0===(268435455&qi)||gu(Oi,Mi)}function Cu(e,t){var r=Pi;Pi|=2;var n=ku();for(Oi===e&&Mi===t||(Yi=null,vu(e,t));;)try{ju();break}catch(Hs){Du(e,Hs)}if(Ls(),Pi=r,Ti.current=n,null!==Ii)throw Error(s(261));return Oi=null,Mi=0,Hi}function ju(){for(;null!==Ii;)Nu(Ii)}function Fu(){for(;null!==Ii&&!Je();)Nu(Ii)}function Nu(e){var t=_i(e.alternate,e,zi);e.memoizedProps=e.pendingProps,null===t?Eu(e):Ii=t,Li.current=null}function Eu(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=ti(r,t,zi)))return void(Ii=r)}else{if(null!==(r=ri(r,t)))return r.flags&=32767,void(Ii=r);if(null===e)return Hi=6,void(Ii=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ii=t);Ii=t=e}while(null!==t);0===Hi&&(Hi=5)}function Au(e,t,r){var n=yt,a=Ri.transition;try{Ri.transition=null,yt=1,function(e,t,r,n){do{Su()}while(null!==ru);if(0!==(6&Pi))throw Error(s(327));r=e.finishedWork;var a=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var l=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-st(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}(e,l),e===Oi&&(Ii=Oi=null,Mi=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||tu||(tu=!0,Ou(et,function(){return Su(),null})),l=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||l){l=Ri.transition,Ri.transition=null;var o=yt;yt=1;var i=Pi;Pi|=4,Li.current=null,function(e,t){if(la=Vt,mn(e=dn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var a=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{r.nodeType,l.nodeType}catch(Rn){r=null;break e}var o=0,i=-1,u=-1,c=0,d=0,m=e,p=null;t:for(;;){for(var h;m!==r||0!==a&&3!==m.nodeType||(i=o+a),m!==l||0!==n&&3!==m.nodeType||(u=o+n),3===m.nodeType&&(o+=m.nodeValue.length),null!==(h=m.firstChild);)p=m,m=h;for(;;){if(m===e)break t;if(p===r&&++c===a&&(i=o),p===l&&++d===n&&(u=o),null!==(h=m.nextSibling))break;p=(m=p).parentNode}m=h}r=-1===i||-1===u?null:{start:i,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(oa={focusedElem:e,selectionRange:r},Vt=!1,li=t;null!==li;)if(e=(t=li).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,li=e;else for(;null!==li;){t=li;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var f=g.memoizedProps,x=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?f:co(t.type,f),x);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(s(163))}}catch(Rn){Bu(t,t.return,Rn)}if(null!==(e=t.sibling)){e.return=t.return,li=e;break}li=t.return}g=ui,ui=!1}(e,r),Ci(r,e),pn(oa),Vt=!!la,oa=la=null,e.current=r,Fi(r,e,a),Qe(),Pi=i,yt=o,Ri.transition=l}else e.current=r;if(tu&&(tu=!1,ru=e,nu=a),l=e.pendingLanes,0===l&&(eu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(nt,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),du(e,Ge()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Zi)throw Zi=!1,e=Xi,Xi=null,e;0!==(1&nu)&&0!==e.tag&&Su(),l=e.pendingLanes,0!==(1&l)?e===su?au++:(au=0,su=e):au=0,Ga()}(e,t,r,n)}finally{Ri.transition=a,yt=n}return null}function Su(){if(null!==ru){var e=bt(nu),t=Ri.transition,r=yt;try{if(Ri.transition=null,yt=16>e?16:e,null===ru)var n=!1;else{if(e=ru,ru=null,nu=0,0!==(6&Pi))throw Error(s(331));var a=Pi;for(Pi|=4,li=e.current;null!==li;){var l=li,o=l.child;if(0!==(16&li.flags)){var i=l.deletions;if(null!==i){for(var u=0;u<i.length;u++){var c=i[u];for(li=c;null!==li;){var d=li;switch(d.tag){case 0:case 11:case 15:ci(8,d,l)}var m=d.child;if(null!==m)m.return=d,li=m;else for(;null!==li;){var p=(d=li).sibling,h=d.return;if(pi(d),d===c){li=null;break}if(null!==p){p.return=h,li=p;break}li=h}}}var g=l.alternate;if(null!==g){var f=g.child;if(null!==f){g.child=null;do{var x=f.sibling;f.sibling=null,f=x}while(null!==f)}}li=l}}if(0!==(2064&l.subtreeFlags)&&null!==o)o.return=l,li=o;else e:for(;null!==li;){if(0!==(2048&(l=li).flags))switch(l.tag){case 0:case 11:case 15:ci(9,l,l.return)}var y=l.sibling;if(null!==y){y.return=l.return,li=y;break e}li=l.return}}var b=e.current;for(li=b;null!==li;){var v=(o=li).child;if(0!==(2064&o.subtreeFlags)&&null!==v)v.return=o,li=v;else e:for(o=b;null!==li;){if(0!==(2048&(i=li).flags))try{switch(i.tag){case 0:case 11:case 15:di(9,i)}}catch(k){Bu(i,i.return,k)}if(i===o){li=null;break e}var D=i.sibling;if(null!==D){D.return=i.return,li=D;break e}li=i.return}}if(Pi=a,Ga(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(nt,e)}catch(k){}n=!0}return n}finally{yt=r,Ri.transition=t}}return!1}function _u(e,t,r){e=Js(e,t=ko(0,t=yo(r,t),1),1),t=iu(),null!==e&&(ft(e,1,t),du(e,t))}function Bu(e,t,r){if(3===e.tag)_u(e,e,r);else for(;null!==t;){if(3===t.tag){_u(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===eu||!eu.has(n))){t=Js(t,e=wo(t,e=yo(r,e),1),1),e=iu(),null!==t&&(ft(t,1,e),du(t,e));break}}t=t.return}}function Tu(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=iu(),e.pingedLanes|=e.suspendedLanes&r,Oi===e&&(Mi&r)===r&&(4===Hi||3===Hi&&(130023424&Mi)===Mi&&500>Ge()-Qi?vu(e,0):Ki|=r),du(e,t)}function Lu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var r=iu();null!==(e=Vs(e,t))&&(ft(e,t,r),du(e,r))}function Ru(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Lu(e,r)}function Pu(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(s(314))}null!==n&&n.delete(t),Lu(e,r)}function Ou(e,t){return Ke(e,t)}function Iu(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mu(e,t,r,n){return new Iu(e,t,r,n)}function zu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Uu(e,t){var r=e.alternate;return null===r?((r=Mu(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Hu(e,t,r,n,a,l){var o=2;if(n=e,"function"===typeof e)zu(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case w:return Vu(r.children,a,l,t);case C:o=8,a|=8;break;case j:return(e=Mu(12,r,t,2|a)).elementType=j,e.lanes=l,e;case A:return(e=Mu(13,r,t,a)).elementType=A,e.lanes=l,e;case S:return(e=Mu(19,r,t,a)).elementType=S,e.lanes=l,e;case T:return Wu(r,a,l,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case F:o=10;break e;case N:o=9;break e;case E:o=11;break e;case _:o=14;break e;case B:o=16,n=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Mu(o,r,t,a)).elementType=e,t.type=n,t.lanes=l,t}function Vu(e,t,r,n){return(e=Mu(7,e,n,t)).lanes=r,e}function Wu(e,t,r,n){return(e=Mu(22,e,n,t)).elementType=T,e.lanes=r,e.stateNode={isHidden:!1},e}function qu(e,t,r){return(e=Mu(6,e,null,t)).lanes=r,e}function Ku(e,t,r){return(t=Mu(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $u(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Ju(e,t,r,n,a,s,l,o,i){return e=new $u(e,t,r,o,i),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Mu(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},qs(s),e}function Qu(e){if(!e)return Ra;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(za(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var r=e.type;if(za(r))return Va(e,r,t)}return t}function Gu(e,t,r,n,a,s,l,o,i){return(e=Ju(r,n,!0,e,0,s,0,o,i)).context=Qu(null),r=e.current,(s=$s(n=iu(),a=uu(r))).callback=void 0!==t&&null!==t?t:null,Js(r,s,a),e.current.lanes=a,ft(e,a,n),du(e,n),e}function Yu(e,t,r,n){var a=t.current,s=iu(),l=uu(a);return r=Qu(r),null===t.context?t.context=r:t.pendingContext=r,(t=$s(s,l)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Js(a,t,l))&&(cu(e,a,l,s),Qs(e,a,l)),l}function Zu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Xu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function ec(e,t){Xu(e,t),(e=e.alternate)&&Xu(e,t)}_i=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Oa.current)Eo=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return Eo=!1,function(e,t,r){switch(t.tag){case 3:Io(t),Ds();break;case 5:ll(t);break;case 1:za(t.type)&&Wa(t);break;case 4:al(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;La(Ss,n._currentValue),n._currentValue=a;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(La(il,1&il.current),t.flags|=128,null):0!==(r&t.child.childLanes)?qo(e,t,r):(La(il,1&il.current),null!==(e=Zo(e,t,r))?e.sibling:null);La(il,1&il.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(128&e.flags)){if(n)return Go(e,t,r);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),La(il,il.current),n)break;return null;case 22:case 23:return t.lanes=0,To(e,t,r)}return Zo(e,t,r)}(e,t,r);Eo=0!==(131072&e.flags)}else Eo=!1,ms&&0!==(1048576&t.flags)&&os(t,es,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Yo(e,t),e=t.pendingProps;var a=Ma(t,Pa.current);Os(t,r),a=Cl(null,t,n,e,a,r);var l=jl();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,za(n)?(l=!0,Wa(t)):l=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,qs(t),a.updater=po,t.stateNode=a,a._reactInternals=t,xo(t,n,e,r),t=Oo(null,t,n,!0,l,r)):(t.tag=0,ms&&l&&is(t),Ao(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Yo(e,t),e=t.pendingProps,n=(a=n._init)(n._payload),t.type=n,a=t.tag=function(e){if("function"===typeof e)return zu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===_)return 14}return 2}(n),e=co(n,e),a){case 0:t=Ro(null,t,n,e,r);break e;case 1:t=Po(null,t,n,e,r);break e;case 11:t=So(null,t,n,e,r);break e;case 14:t=_o(null,t,n,co(n.type,e),r);break e}throw Error(s(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,Ro(e,t,n,a=t.elementType===n?a:co(n,a),r);case 1:return n=t.type,a=t.pendingProps,Po(e,t,n,a=t.elementType===n?a:co(n,a),r);case 3:e:{if(Io(t),null===e)throw Error(s(387));n=t.pendingProps,a=(l=t.memoizedState).element,Ks(e,t),Ys(t,n,null,r);var o=t.memoizedState;if(n=o.element,l.isDehydrated){if(l={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=Mo(e,t,n,r,a=yo(Error(s(423)),t));break e}if(n!==a){t=Mo(e,t,n,r,a=yo(Error(s(424)),t));break e}for(ds=ga(t.stateNode.containerInfo.firstChild),cs=t,ms=!0,ps=null,r=As(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(Ds(),n===a){t=Zo(e,t,r);break e}Ao(e,t,n,r)}t=t.child}return t;case 5:return ll(t),null===e&&xs(t),n=t.type,a=t.pendingProps,l=null!==e?e.memoizedProps:null,o=a.children,ia(n,a)?o=null:null!==l&&ia(n,l)&&(t.flags|=32),Lo(e,t),Ao(e,t,o,r),t.child;case 6:return null===e&&xs(t),null;case 13:return qo(e,t,r);case 4:return al(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Es(t,null,n,r):Ao(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,So(e,t,n,a=t.elementType===n?a:co(n,a),r);case 7:return Ao(e,t,t.pendingProps,r),t.child;case 8:case 12:return Ao(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,l=t.memoizedProps,o=a.value,La(Ss,n._currentValue),n._currentValue=o,null!==l)if(sn(l.value,o)){if(l.children===a.children&&!Oa.current){t=Zo(e,t,r);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var i=l.dependencies;if(null!==i){o=l.child;for(var u=i.firstContext;null!==u;){if(u.context===n){if(1===l.tag){(u=$s(-1,r&-r)).tag=2;var c=l.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}l.lanes|=r,null!==(u=l.alternate)&&(u.lanes|=r),Ps(l.return,r,t),i.lanes|=r;break}u=u.next}}else if(10===l.tag)o=l.type===t.type?null:l.child;else if(18===l.tag){if(null===(o=l.return))throw Error(s(341));o.lanes|=r,null!==(i=o.alternate)&&(i.lanes|=r),Ps(o,r,t),o=l.sibling}else o=l.child;if(null!==o)o.return=l;else for(o=l;null!==o;){if(o===t){o=null;break}if(null!==(l=o.sibling)){l.return=o.return,o=l;break}o=o.return}l=o}Ao(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Os(t,r),n=n(a=Is(a)),t.flags|=1,Ao(e,t,n,r),t.child;case 14:return a=co(n=t.type,t.pendingProps),_o(e,t,n,a=co(n.type,a),r);case 15:return Bo(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:co(n,a),Yo(e,t),t.tag=1,za(n)?(e=!0,Wa(t)):e=!1,Os(t,r),go(t,n,a),xo(t,n,a,r),Oo(null,t,n,!0,e,r);case 19:return Go(e,t,r);case 22:return To(e,t,r)}throw Error(s(156,t.tag))};var tc="function"===typeof reportError?reportError:function(e){console.error(e)};function rc(e){this._internalRoot=e}function nc(e){this._internalRoot=e}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function sc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function lc(){}function oc(e,t,r,n,a){var s=r._reactRootContainer;if(s){var l=s;if("function"===typeof a){var o=a;a=function(){var e=Zu(l);o.call(e)}}Yu(t,l,e,a)}else l=function(e,t,r,n,a){if(a){if("function"===typeof n){var s=n;n=function(){var e=Zu(l);s.call(e)}}var l=Gu(t,n,e,0,null,!1,0,"",lc);return e._reactRootContainer=l,e[ka]=l.current,$n(8===e.nodeType?e.parentNode:e),yu(),l}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof n){var o=n;n=function(){var e=Zu(i);o.call(e)}}var i=Ju(e,0,!1,null,0,!1,0,"",lc);return e._reactRootContainer=i,e[ka]=i.current,$n(8===e.nodeType?e.parentNode:e),yu(function(){Yu(t,i,r,n)}),i}(r,t,e,a,n);return Zu(l)}nc.prototype.render=rc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Yu(e,t,null,null)},nc.prototype.unmount=rc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;yu(function(){Yu(null,e,null,null)}),t[ka]=null}},nc.prototype.unstable_scheduleHydration=function(e){if(e){var t=wt();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Bt.length&&0!==t&&t<Bt[r].priority;r++);Bt.splice(r,0,e),0===r&&Pt(e)}},vt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ct(t.pendingLanes);0!==r&&(xt(t,1|r),du(t,Ge()),0===(6&Pi)&&(Gi=Ge()+500,Ga()))}break;case 13:yu(function(){var t=Vs(e,1);if(null!==t){var r=iu();cu(t,e,1,r)}}),ec(e,1)}},Dt=function(e){if(13===e.tag){var t=Vs(e,134217728);if(null!==t)cu(t,e,134217728,iu());ec(e,134217728)}},kt=function(e){if(13===e.tag){var t=uu(e),r=Vs(e,t);if(null!==r)cu(r,e,t,iu());ec(e,t)}},wt=function(){return yt},Ct=function(e,t){var r=yt;try{return yt=e,t()}finally{yt=r}},De=function(e,t,r){switch(t){case"input":if(Z(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Aa(n);if(!a)throw Error(s(90));$(n),Z(n,a)}}}break;case"textarea":se(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Ne=xu,Ee=yu;var ic={usingClientEntryPoint:!1,Events:[Na,Ea,Aa,je,Fe,xu]},uc={findFiberByHostInstance:Fa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cc={bundleType:uc.bundleType,version:uc.version,rendererPackageName:uc.rendererPackageName,rendererConfig:uc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:uc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dc.isDisabled&&dc.supportsFiber)try{nt=dc.inject(cc),at=dc}catch(ra){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ic,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(s(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!ac(e))throw Error(s(299));var r=!1,n="",a=tc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Ju(e,1,!1,null,0,r,0,n,a),e[ka]=t.current,$n(8===e.nodeType?e.parentNode:e),new rc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return yu(e)},t.hydrate=function(e,t,r){if(!sc(t))throw Error(s(200));return oc(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!ac(e))throw Error(s(405));var n=null!=r&&r.hydratedSources||null,a=!1,l="",o=tc;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(a=!0),void 0!==r.identifierPrefix&&(l=r.identifierPrefix),void 0!==r.onRecoverableError&&(o=r.onRecoverableError)),t=Gu(t,null,e,1,null!=r?r:null,a,0,l,o),e[ka]=t.current,$n(e),n)for(e=0;e<n.length;e++)a=(a=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new nc(t)},t.render=function(e,t,r){if(!sc(t))throw Error(s(200));return oc(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!sc(e))throw Error(s(40));return!!e._reactRootContainer&&(yu(function(){oc(null,null,e,!1,function(){e._reactRootContainer=null,e[ka]=null})}),!0)},t.unstable_batchedUpdates=xu,t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!sc(r))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return oc(e,t,r,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},391(e,t,r){var n=r(950);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},950(e,t,r){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(730)},153(e,t,r){var n=r(43),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,r){var n,s={},u=null,c=null;for(n in void 0!==r&&(u=""+r),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)l.call(t,n)&&!i.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===s[n]&&(s[n]=t[n]);return{$$typeof:a,type:e,key:u,ref:c,props:s,_owner:o.current}}t.Fragment=s,t.jsx=u,t.jsxs=u},202(e,t){var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),i=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,f={};function x(e,t,r){this.props=e,this.context=t,this.refs=f,this.updater=r||h}function y(){}function b(e,t,r){this.props=e,this.context=t,this.refs=f,this.updater=r||h}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=x.prototype;var v=b.prototype=new y;v.constructor=b,g(v,x.prototype),v.isPureReactComponent=!0;var D=Array.isArray,k=Object.prototype.hasOwnProperty,w={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function j(e,t,n){var a,s={},l=null,o=null;if(null!=t)for(a in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(l=""+t.key),t)k.call(t,a)&&!C.hasOwnProperty(a)&&(s[a]=t[a]);var i=arguments.length-2;if(1===i)s.children=n;else if(1<i){for(var u=Array(i),c=0;c<i;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(a in i=e.defaultProps)void 0===s[a]&&(s[a]=i[a]);return{$$typeof:r,type:e,key:l,ref:o,props:s,_owner:w.current}}function F(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var N=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function A(e,t,a,s,l){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var i=!1;if(null===e)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case r:case n:i=!0}}if(i)return l=l(i=e),e=""===s?"."+E(i,0):s,D(l)?(a="",null!=e&&(a=e.replace(N,"$&/")+"/"),A(l,t,a,"",function(e){return e})):null!=l&&(F(l)&&(l=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(l,a+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(N,"$&/")+"/")+e)),t.push(l)),1;if(i=0,s=""===s?".":s+":",D(e))for(var u=0;u<e.length;u++){var c=s+E(o=e[u],u);i+=A(o,t,a,c,l)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(o=e.next()).done;)i+=A(o=o.value,t,a,c=s+E(o,u++),l);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function S(e,t,r){if(null==e)return e;var n=[],a=0;return A(e,n,"","",function(e){return t.call(r,e,a++)}),n}function _(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var B={current:null},T={transition:null},L={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:T,ReactCurrentOwner:w};function R(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:S,forEach:function(e,t,r){S(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return S(e,function(){t++}),t},toArray:function(e){return S(e,function(e){return e})||[]},only:function(e){if(!F(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=x,t.Fragment=a,t.Profiler=l,t.PureComponent=b,t.StrictMode=s,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=R,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=g({},e.props),s=e.key,l=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(l=t.ref,o=w.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(u in t)k.call(t,u)&&!C.hasOwnProperty(u)&&(a[u]=void 0===t[u]&&void 0!==i?i[u]:t[u])}var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){i=Array(u);for(var c=0;c<u;c++)i[c]=arguments[c+2];a.children=i}return{$$typeof:r,type:e.type,key:s,ref:l,props:a,_owner:o}},t.createContext=function(e){return(e={$$typeof:i,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=j,t.createFactory=function(e){var t=j.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=F,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:_}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=T.transition;T.transition={};try{e()}finally{T.transition=t}},t.unstable_act=R,t.useCallback=function(e,t){return B.current.useCallback(e,t)},t.useContext=function(e){return B.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return B.current.useDeferredValue(e)},t.useEffect=function(e,t){return B.current.useEffect(e,t)},t.useId=function(){return B.current.useId()},t.useImperativeHandle=function(e,t,r){return B.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return B.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return B.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return B.current.useMemo(e,t)},t.useReducer=function(e,t,r){return B.current.useReducer(e,t,r)},t.useRef=function(e){return B.current.useRef(e)},t.useState=function(e){return B.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return B.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return B.current.useTransition()},t.version="18.3.1"},43(e,t,r){e.exports=r(202)},579(e,t,r){e.exports=r(153)},234(e,t){function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,a=e[n];if(!(0<s(a,t)))break e;e[n]=t,e[r]=a,r=n}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length,l=a>>>1;n<l;){var o=2*(n+1)-1,i=e[o],u=o+1,c=e[u];if(0>s(i,r))u<a&&0>s(c,i)?(e[n]=c,e[u]=r,n=u):(e[n]=i,e[o]=r,n=o);else{if(!(u<a&&0>s(c,r)))break e;e[n]=c,e[u]=r,n=u}}}return t}function s(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var o=Date,i=o.now();t.unstable_now=function(){return o.now()-i}}var u=[],c=[],d=1,m=null,p=3,h=!1,g=!1,f=!1,x="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=n(c);null!==t;){if(null===t.callback)a(c);else{if(!(t.startTime<=e))break;a(c),t.sortIndex=t.expirationTime,r(u,t)}t=n(c)}}function D(e){if(f=!1,v(e),!g)if(null!==n(u))g=!0,T(k);else{var t=n(c);null!==t&&L(D,t.startTime-e)}}function k(e,r){g=!1,f&&(f=!1,y(F),F=-1),h=!0;var s=p;try{for(v(r),m=n(u);null!==m&&(!(m.expirationTime>r)||e&&!A());){var l=m.callback;if("function"===typeof l){m.callback=null,p=m.priorityLevel;var o=l(m.expirationTime<=r);r=t.unstable_now(),"function"===typeof o?m.callback=o:m===n(u)&&a(u),v(r)}else a(u);m=n(u)}if(null!==m)var i=!0;else{var d=n(c);null!==d&&L(D,d.startTime-r),i=!1}return i}finally{m=null,p=s,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,C=!1,j=null,F=-1,N=5,E=-1;function A(){return!(t.unstable_now()-E<N)}function S(){if(null!==j){var e=t.unstable_now();E=e;var r=!0;try{r=j(!0,e)}finally{r?w():(C=!1,j=null)}}else C=!1}if("function"===typeof b)w=function(){b(S)};else if("undefined"!==typeof MessageChannel){var _=new MessageChannel,B=_.port2;_.port1.onmessage=S,w=function(){B.postMessage(null)}}else w=function(){x(S,0)};function T(e){j=e,C||(C=!0,w())}function L(e,r){F=x(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||h||(g=!0,T(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var r=p;p=t;try{return e()}finally{p=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=p;p=e;try{return t()}finally{p=r}},t.unstable_scheduleCallback=function(e,a,s){var l=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?l+s:l:s=l,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>l?(e.sortIndex=s,r(c,e),null===n(u)&&e===n(c)&&(f?(y(F),F=-1):f=!0,L(D,s-l))):(e.sortIndex=o,r(u,e),g||h||(g=!0,T(k))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=p;return function(){var r=p;p=t;try{return e.apply(this,arguments)}finally{p=r}}}},853(e,t,r){e.exports=r(234)},294(e,t,r){var n=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(r(222)),a=r(146);function s(e,t){var r={};return e&&"string"===typeof e?((0,n.default)(e,function(e,n){e&&n&&(r[(0,a.camelCase)(e,t)]=n)}),r):r}s.default=s,e.exports=s},146(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.camelCase=void 0;var r=/^--[a-zA-Z0-9_-]+$/,n=/-([a-z])/g,a=/^[^-]+$/,s=/^-(webkit|moz|ms|o|khtml)-/,l=/^-(ms)-/,o=function(e,t){return t.toUpperCase()},i=function(e,t){return"".concat(t,"-")};t.camelCase=function(e,t){return void 0===t&&(t={}),function(e){return!e||a.test(e)||r.test(e)}(e)?e:(e=e.toLowerCase(),(e=t.reactCompat?e.replace(l,i):e.replace(s,i)).replace(n,o))}},222(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let r=null;if(!e||"string"!==typeof e)return r;const n=(0,a.default)(e),s="function"===typeof t;return n.forEach(e=>{if("declaration"!==e.type)return;const{property:n,value:a}=e;s?t(n,a,e):a&&(r=r||{},r[n]=a)}),r};const a=n(r(106))}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,r),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"===typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"===typeof n.then)return n}var s=Object.create(null);r.r(s);var l={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&n;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>l[e]=()=>n[e]);return l.default=()=>n,r.d(s,l),s}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(Hs){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="./";var n={};r.r(n),r.d(n,{hasBrowserEnv:()=>$t,hasStandardBrowserEnv:()=>Qt,hasStandardBrowserWebWorkerEnv:()=>Gt,navigator:()=>Jt,origin:()=>Yt});var a={};r.r(a),r.d(a,{boolean:()=>iu,booleanish:()=>uu,commaOrSpaceSeparated:()=>hu,commaSeparated:()=>pu,number:()=>du,overloadedBoolean:()=>cu,spaceSeparated:()=>mu});var s={};r.r(s),r.d(s,{attentionMarkers:()=>Wd,contentInitial:()=>Id,disable:()=>qd,document:()=>Od,flow:()=>zd,flowInitial:()=>Md,insideSpan:()=>Vd,string:()=>Ud,text:()=>Hd});var l,o=r(43),i=r.t(o,2),u=r(391),c=r(950),d=r.t(c,2);function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(l||(l={}));const p="popstate";function h(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function g(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Hs){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function x(e,t,r,n){return void 0===r&&(r=null),m({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?b(t):t,{state:r,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function y(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function b(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function v(e,t,r,n){void 0===n&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,o=a.history,i=l.Pop,u=null,c=d();function d(){return(o.state||{idx:null}).idx}function g(){i=l.Pop;let e=d(),t=null==e?null:e-c;c=e,u&&u({action:i,location:v.location,delta:t})}function b(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,r="string"===typeof e?e:y(e);return r=r.replace(/ $/,"%20"),h(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}null==c&&(c=0,o.replaceState(m({},o.state,{idx:c}),""));let v={get action(){return i},get location(){return e(a,o)},listen(e){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(p,g),u=e,()=>{a.removeEventListener(p,g),u=null}},createHref:e=>t(a,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){i=l.Push;let n=x(v.location,e,t);r&&r(n,e),c=d()+1;let m=f(n,c),p=v.createHref(n);try{o.pushState(m,"",p)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;a.location.assign(p)}s&&u&&u({action:i,location:v.location,delta:1})},replace:function(e,t){i=l.Replace;let n=x(v.location,e,t);r&&r(n,e),c=d();let a=f(n,c),m=v.createHref(n);o.replaceState(a,"",m),s&&u&&u({action:i,location:v.location,delta:0})},go:e=>o.go(e)};return v}var D;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(D||(D={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function k(e,t,r){return void 0===r&&(r="/"),w(e,t,r,!1)}function w(e,t,r,n){let a=O(("string"===typeof t?b(t):t).pathname||"/",r);if(null==a)return null;let s=C(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r]);return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let l=null;for(let o=0;null==l&&o<s.length;++o){let e=P(a);l=L(s[o],e,n)}return l}function C(e,t,r,n){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===n&&(n="");let a=(e,a,s)=>{let l={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};l.relativePath.startsWith("/")&&(h(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),l.relativePath=l.relativePath.slice(n.length));let o=q([n,l.relativePath]),i=r.concat(l);e.children&&e.children.length>0&&(h(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),C(e.children,t,i,o)),(null!=e.path||e.index)&&t.push({path:o,score:T(o,e.index),routesMeta:i})};return e.forEach((e,t)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let n of j(e.path))a(e,t,n);else a(e,t)}),t}function j(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(0===n.length)return a?[s,""]:[s];let l=j(n.join("/")),o=[];return o.push(...l.map(e=>""===e?s:[s,e].join("/"))),a&&o.push(...l),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const F=/^:[\w-]+$/,N=3,E=2,A=1,S=10,_=-2,B=e=>"*"===e;function T(e,t){let r=e.split("/"),n=r.length;return r.some(B)&&(n+=_),t&&(n+=E),r.filter(e=>!B(e)).reduce((e,t)=>e+(F.test(t)?N:""===t?A:S),n)}function L(e,t,r){void 0===r&&(r=!1);let{routesMeta:n}=e,a={},s="/",l=[];for(let o=0;o<n.length;++o){let e=n[o],i=o===n.length-1,u="/"===s?t:t.slice(s.length)||"/",c=R({path:e.relativePath,caseSensitive:e.caseSensitive,end:i},u),d=e.route;if(!c&&i&&r&&!n[n.length-1].route.index&&(c=R({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},u)),!c)return null;Object.assign(a,c.params),l.push({params:a,pathname:q([s,c.pathname]),pathnameBase:K(q([s,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(s=q([s,c.pathnameBase]))}return l}function R(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);g("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(n.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let s=new RegExp(a,t?void 0:"i");return[s,n]}(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],l=s.replace(/(.)\/+$/,"$1"),o=a.slice(1),i=n.reduce((e,t,r)=>{let{paramName:n,isOptional:a}=t;if("*"===n){let e=o[r]||"";l=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const i=o[r];return e[n]=a&&!i?void 0:(i||"").replace(/%2F/g,"/"),e},{});return{params:i,pathname:s,pathnameBase:l,pattern:e}}function P(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return g(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}const I=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function M(e,t){void 0===t&&(t="/");let r,{pathname:n,search:a="",hash:s=""}="string"===typeof e?b(e):e;if(n)if(l=n,I.test(l))r=n;else{if(n.includes("//")){let e=n;n=n.replace(/\/\/+/g,"/"),g(!1,"Pathnames cannot have embedded double slashes - normalizing "+e+" -> "+n)}r=n.startsWith("/")?z(n.substring(1),"/"):z(n,t)}else r=t;var l;return{pathname:r,search:$(a),hash:J(s)}}function z(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}function U(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function H(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function V(e,t){let r=H(e);return t?r.map((e,t)=>t===r.length-1?e.pathname:e.pathnameBase):r.map(e=>e.pathnameBase)}function W(e,t,r,n){let a;void 0===n&&(n=!1),"string"===typeof e?a=b(e):(a=m({},e),h(!a.pathname||!a.pathname.includes("?"),U("?","pathname","search",a)),h(!a.pathname||!a.pathname.includes("#"),U("#","pathname","hash",a)),h(!a.search||!a.search.includes("#"),U("#","search","hash",a)));let s,l=""===e||""===a.pathname,o=l?"/":a.pathname;if(null==o)s=r;else{let e=t.length-1;if(!n&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}s=e>=0?t[e]:"/"}let i=M(a,s),u=o&&"/"!==o&&o.endsWith("/"),c=(l||"."===o)&&r.endsWith("/");return i.pathname.endsWith("/")||!u&&!c||(i.pathname+="/"),i}const q=e=>e.join("/").replace(/\/\/+/g,"/"),K=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",J=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function Q(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const G=["post","put","patch","delete"],Y=(new Set(G),["get",...G]);new Set(Y),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function Z(){return Z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z.apply(this,arguments)}const X=o.createContext(null);const ee=o.createContext(null);const te=o.createContext(null);const re=o.createContext(null);const ne=o.createContext({outlet:null,matches:[],isDataRoute:!1});const ae=o.createContext(null);function se(){return null!=o.useContext(re)}function le(){return se()||h(!1),o.useContext(re).location}function oe(e){o.useContext(te).static||o.useLayoutEffect(e)}function ie(){let{isDataRoute:e}=o.useContext(ne);return e?function(){let{router:e}=ye(fe.UseNavigateStable),t=ve(xe.UseNavigateStable),r=o.useRef(!1);return oe(()=>{r.current=!0}),o.useCallback(function(n,a){void 0===a&&(a={}),r.current&&("number"===typeof n?e.navigate(n):e.navigate(n,Z({fromRouteId:t},a)))},[e,t])}():function(){se()||h(!1);let e=o.useContext(X),{basename:t,future:r,navigator:n}=o.useContext(te),{matches:a}=o.useContext(ne),{pathname:s}=le(),l=JSON.stringify(V(a,r.v7_relativeSplatPath)),i=o.useRef(!1);oe(()=>{i.current=!0});let u=o.useCallback(function(r,a){if(void 0===a&&(a={}),!i.current)return;if("number"===typeof r)return void n.go(r);let o=W(r,JSON.parse(l),s,"path"===a.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:q([t,o.pathname])),(a.replace?n.replace:n.push)(o,a.state,a)},[t,n,l,s,e]);return u}()}function ue(e,t){let{relative:r}=void 0===t?{}:t,{future:n}=o.useContext(te),{matches:a}=o.useContext(ne),{pathname:s}=le(),l=JSON.stringify(V(a,n.v7_relativeSplatPath));return o.useMemo(()=>W(e,JSON.parse(l),s,"path"===r),[e,l,s,r])}function ce(e,t,r,n){se()||h(!1);let{navigator:a}=o.useContext(te),{matches:s}=o.useContext(ne),i=s[s.length-1],u=i?i.params:{},c=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;let d,m=le();if(t){var p;let e="string"===typeof t?b(t):t;"/"===c||(null==(p=e.pathname)?void 0:p.startsWith(c))||h(!1),d=e}else d=m;let g=d.pathname||"/",f=g;if("/"!==c){let e=c.replace(/^\//,"").split("/");f="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=k(e,{pathname:f});let y=ge(x&&x.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:q([c,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:q([c,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),s,r,n);return t&&y?o.createElement(re.Provider,{value:{location:Z({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:l.Pop}},y):y}function de(){let e=function(){var e;let t=o.useContext(ae),r=be(xe.UseRouteError),n=ve(xe.UseRouteError);if(void 0!==t)return t;return null==(e=r.errors)?void 0:e[n]}(),t=Q(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n};return o.createElement(o.Fragment,null,o.createElement("h2",null,"Unexpected Application Error!"),o.createElement("h3",{style:{fontStyle:"italic"}},t),r?o.createElement("pre",{style:a},r):null,null)}const me=o.createElement(de,null);class pe extends o.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?o.createElement(ne.Provider,{value:this.props.routeContext},o.createElement(ae.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function he(e){let{routeContext:t,match:r,children:n}=e,a=o.useContext(X);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),o.createElement(ne.Provider,{value:t},n)}function ge(e,t,r,n){var a;if(void 0===t&&(t=[]),void 0===r&&(r=null),void 0===n&&(n=null),null==e){var s;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(s=n)&&s.v7_partialHydration&&0===t.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let l=e,i=null==(a=r)?void 0:a.errors;if(null!=i){let e=l.findIndex(e=>e.route.id&&void 0!==(null==i?void 0:i[e.route.id]));e>=0||h(!1),l=l.slice(0,Math.min(l.length,e+1))}let u=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let o=0;o<l.length;o++){let e=l[o];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(c=o),e.route.id){let{loaderData:t,errors:n}=r,a=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||a){u=!0,l=c>=0?l.slice(0,c+1):[l[0]];break}}}return l.reduceRight((e,n,a)=>{let s,d=!1,m=null,p=null;var h;r&&(s=i&&n.route.id?i[n.route.id]:void 0,m=n.route.errorElement||me,u&&(c<0&&0===a?(h="route-fallback",!1||De[h]||(De[h]=!0),d=!0,p=null):c===a&&(d=!0,p=n.route.hydrateFallbackElement||null)));let g=t.concat(l.slice(0,a+1)),f=()=>{let t;return t=s?m:d?p:n.route.Component?o.createElement(n.route.Component,null):n.route.element?n.route.element:e,o.createElement(he,{match:n,routeContext:{outlet:e,matches:g,isDataRoute:null!=r},children:t})};return r&&(n.route.ErrorBoundary||n.route.errorElement||0===a)?o.createElement(pe,{location:r.location,revalidation:r.revalidation,component:m,error:s,children:f(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):f()},null)}var fe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(fe||{}),xe=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(xe||{});function ye(e){let t=o.useContext(X);return t||h(!1),t}function be(e){let t=o.useContext(ee);return t||h(!1),t}function ve(e){let t=function(){let e=o.useContext(ne);return e||h(!1),e}(),r=t.matches[t.matches.length-1];return r.route.id||h(!1),r.route.id}const De={};function ke(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}i.startTransition;function we(e){h(!1)}function Ce(e){let{basename:t="/",children:r=null,location:n,navigationType:a=l.Pop,navigator:s,static:i=!1,future:u}=e;se()&&h(!1);let c=t.replace(/^\/*/,"/"),d=o.useMemo(()=>({basename:c,navigator:s,static:i,future:Z({v7_relativeSplatPath:!1},u)}),[c,u,s,i]);"string"===typeof n&&(n=b(n));let{pathname:m="/",search:p="",hash:g="",state:f=null,key:x="default"}=n,y=o.useMemo(()=>{let e=O(m,c);return null==e?null:{location:{pathname:e,search:p,hash:g,state:f,key:x},navigationType:a}},[c,m,p,g,f,x,a]);return null==y?null:o.createElement(te.Provider,{value:d},o.createElement(re.Provider,{children:r,value:y}))}function je(e){let{children:t,location:r}=e;return ce(Fe(t),r)}new Promise(()=>{});o.Component;function Fe(e,t){void 0===t&&(t=[]);let r=[];return o.Children.forEach(e,(e,n)=>{if(!o.isValidElement(e))return;let a=[...t,n];if(e.type===o.Fragment)return void r.push.apply(r,Fe(e.props.children,a));e.type!==we&&h(!1),e.props.index&&e.props.children&&h(!1);let s={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=Fe(e.props.children,a)),r.push(s)}),r}function Ne(){return Ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ne.apply(this,arguments)}function Ee(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}function Ae(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(e=>[r,e]):[[r,n]])},[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Se=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Hs){}new Map;const _e=i.startTransition;d.flushSync,i.useId;function Be(e){let{basename:t,children:r,future:n,window:a}=e,s=o.useRef();var l;null==s.current&&(s.current=(void 0===(l={window:a,v5Compat:!0})&&(l={}),v(function(e,t){let{pathname:r,search:n,hash:a}=e.location;return x("",{pathname:r,search:n,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:y(t)},null,l)));let i=s.current,[u,c]=o.useState({action:i.action,location:i.location}),{v7_startTransition:d}=n||{},m=o.useCallback(e=>{d&&_e?_e(()=>c(e)):c(e)},[c,d]);return o.useLayoutEffect(()=>i.listen(m),[i,m]),o.useEffect(()=>ke(n),[n]),o.createElement(Ce,{basename:t,children:r,location:u.location,navigationType:u.action,navigator:i,future:n})}const Te="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Le=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Re=o.forwardRef(function(e,t){let r,{onClick:n,relative:a,reloadDocument:s,replace:l,state:i,target:u,to:c,preventScrollReset:d,viewTransition:m}=e,p=Ee(e,Se),{basename:g}=o.useContext(te),f=!1;if("string"===typeof c&&Le.test(c)&&(r=c,Te))try{let e=new URL(window.location.href),t=c.startsWith("//")?new URL(e.protocol+c):new URL(c),r=O(t.pathname,g);t.origin===e.origin&&null!=r?c=r+t.search+t.hash:f=!0}catch(Hs){}let x=function(e,t){let{relative:r}=void 0===t?{}:t;se()||h(!1);let{basename:n,navigator:a}=o.useContext(te),{hash:s,pathname:l,search:i}=ue(e,{relative:r}),u=l;return"/"!==n&&(u="/"===l?n:q([n,l])),a.createHref({pathname:u,search:i,hash:s})}(c,{relative:a}),b=function(e,t){let{target:r,replace:n,state:a,preventScrollReset:s,relative:l,viewTransition:i}=void 0===t?{}:t,u=ie(),c=le(),d=ue(e,{relative:l});return o.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let r=void 0!==n?n:y(c)===y(d);u(e,{replace:r,state:a,preventScrollReset:s,relative:l,viewTransition:i})}},[c,u,d,n,a,r,e,s,l,i])}(c,{replace:l,state:i,target:u,preventScrollReset:d,relative:a,viewTransition:m});return o.createElement("a",Ne({},p,{href:r||x,onClick:f||s?n:function(e){n&&n(e),e.defaultPrevented||b(e)},ref:t,target:u}))});var Pe,Oe;function Ie(e){let t=o.useRef(Ae(e)),r=o.useRef(!1),n=le(),a=o.useMemo(()=>function(e,t){let r=Ae(e);return t&&t.forEach((e,n)=>{r.has(n)||t.getAll(n).forEach(e=>{r.append(n,e)})}),r}(n.search,r.current?null:t.current),[n.search]),s=ie(),l=o.useCallback((e,t)=>{const n=Ae("function"===typeof e?e(a):e);r.current=!0,s("?"+n,t)},[s,a]);return[a,l]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Pe||(Pe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Oe||(Oe={}));function Me(e,t){return function(){return e.apply(t,arguments)}}const{toString:ze}=Object.prototype,{getPrototypeOf:Ue}=Object,{iterator:He,toStringTag:Ve}=Symbol,We=(qe=Object.create(null),e=>{const t=ze.call(e);return qe[t]||(qe[t]=t.slice(8,-1).toLowerCase())});var qe;const Ke=e=>(e=e.toLowerCase(),t=>We(t)===e),$e=e=>t=>typeof t===e,{isArray:Je}=Array,Qe=$e("undefined");function Ge(e){return null!==e&&!Qe(e)&&null!==e.constructor&&!Qe(e.constructor)&&Xe(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Ye=Ke("ArrayBuffer");const Ze=$e("string"),Xe=$e("function"),et=$e("number"),tt=e=>null!==e&&"object"===typeof e,rt=e=>{if("object"!==We(e))return!1;const t=Ue(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Ve in e)&&!(He in e)},nt=Ke("Date"),at=Ke("File"),st=Ke("Blob"),lt=Ke("FileList"),ot=Ke("URLSearchParams"),[it,ut,ct,dt]=["ReadableStream","Request","Response","Headers"].map(Ke);function mt(e,t){let r,n,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Je(e))for(r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else{if(Ge(e))return;const n=a?Object.getOwnPropertyNames(e):Object.keys(e),s=n.length;let l;for(r=0;r<s;r++)l=n[r],t.call(null,e[l],l,e)}}function pt(e,t){if(Ge(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n,a=r.length;for(;a-- >0;)if(n=r[a],t===n.toLowerCase())return n;return null}const ht="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:r.g,gt=e=>!Qe(e)&&e!==ht;const ft=(xt="undefined"!==typeof Uint8Array&&Ue(Uint8Array),e=>xt&&e instanceof xt);var xt;const yt=Ke("HTMLFormElement"),bt=(e=>{let{hasOwnProperty:t}=e;return(e,r)=>t.call(e,r)})(Object.prototype),vt=Ke("RegExp"),Dt=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};mt(r,(r,a)=>{let s;!1!==(s=t(r,a,e))&&(n[a]=s||r)}),Object.defineProperties(e,n)};const kt=Ke("AsyncFunction"),wt=((e,t)=>{return e?setImmediate:t?(r="axios@".concat(Math.random()),n=[],ht.addEventListener("message",e=>{let{source:t,data:a}=e;t===ht&&a===r&&n.length&&n.shift()()},!1),e=>{n.push(e),ht.postMessage(r,"*")}):e=>setTimeout(e);var r,n})("function"===typeof setImmediate,Xe(ht.postMessage)),Ct="undefined"!==typeof queueMicrotask?queueMicrotask.bind(ht):"undefined"!==typeof process&&process.nextTick||wt,jt={isArray:Je,isArrayBuffer:Ye,isBuffer:Ge,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Xe(e.append)&&("formdata"===(t=We(e))||"object"===t&&Xe(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Ye(e.buffer),t},isString:Ze,isNumber:et,isBoolean:e=>!0===e||!1===e,isObject:tt,isPlainObject:rt,isEmptyObject:e=>{if(!tt(e)||Ge(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(Hs){return!1}},isReadableStream:it,isRequest:ut,isResponse:ct,isHeaders:dt,isUndefined:Qe,isDate:nt,isFile:at,isBlob:st,isRegExp:vt,isFunction:Xe,isStream:e=>tt(e)&&Xe(e.pipe),isURLSearchParams:ot,isTypedArray:ft,isFileList:lt,forEach:mt,merge:function e(){const{caseless:t,skipUndefined:r}=gt(this)&&this||{},n={},a=(a,s)=>{if("__proto__"===s||"constructor"===s||"prototype"===s)return;const l=t&&pt(n,s)||s;rt(n[l])&&rt(a)?n[l]=e(n[l],a):rt(a)?n[l]=e({},a):Je(a)?n[l]=a.slice():r&&Qe(a)||(n[l]=a)};for(let s=0,l=arguments.length;s<l;s++)arguments[s]&&mt(arguments[s],a);return n},extend:function(e,t,r){let{allOwnKeys:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return mt(t,(t,n)=>{r&&Xe(t)?Object.defineProperty(e,n,{value:Me(t,r),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,n,{value:t,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:n}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,n)=>{let a,s,l;const o={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)l=a[s],n&&!n(l,e,t)||o[l]||(t[l]=e[l],o[l]=!0);e=!1!==r&&Ue(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:We,kindOfTest:Ke,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return-1!==n&&n===r},toArray:e=>{if(!e)return null;if(Je(e))return e;let t=e.length;if(!et(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[He]).call(e);let n;for(;(n=r.next())&&!n.done;){const r=n.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:yt,hasOwnProperty:bt,hasOwnProp:bt,reduceDescriptors:Dt,freezeMethods:e=>{Dt(e,(t,r)=>{if(Xe(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=e[r];Xe(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))})},toObjectSet:(e,t)=>{const r={},n=e=>{e.forEach(e=>{r[e]=!0})};return Je(e)?n(e):n(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,r){return t.toUpperCase()+r}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:pt,global:ht,isContextDefined:gt,isSpecCompliantForm:function(e){return!!(e&&Xe(e.append)&&"FormData"===e[Ve]&&e[He])},toJSONObject:e=>{const t=new Array(10),r=(e,n)=>{if(tt(e)){if(t.indexOf(e)>=0)return;if(Ge(e))return e;if(!("toJSON"in e)){t[n]=e;const a=Je(e)?[]:{};return mt(e,(e,t)=>{const s=r(e,n+1);!Qe(s)&&(a[t]=s)}),t[n]=void 0,a}}return e};return r(e,0)},isAsyncFn:kt,isThenable:e=>e&&(tt(e)||Xe(e))&&Xe(e.then)&&Xe(e.catch),setImmediate:wt,asap:Ct,isIterable:e=>null!=e&&Xe(e[He])};class Ft extends Error{static from(e,t,r,n,a,s){const l=new Ft(e.message,t||e.code,r,n,a);return l.cause=e,l.name=e.name,s&&Object.assign(l,s),l}constructor(e,t,r,n,a){super(e),this.name="AxiosError",this.isAxiosError=!0,t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:jt.toJSONObject(this.config),code:this.code,status:this.status}}}Ft.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE",Ft.ERR_BAD_OPTION="ERR_BAD_OPTION",Ft.ECONNABORTED="ECONNABORTED",Ft.ETIMEDOUT="ETIMEDOUT",Ft.ERR_NETWORK="ERR_NETWORK",Ft.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS",Ft.ERR_DEPRECATED="ERR_DEPRECATED",Ft.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE",Ft.ERR_BAD_REQUEST="ERR_BAD_REQUEST",Ft.ERR_CANCELED="ERR_CANCELED",Ft.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT",Ft.ERR_INVALID_URL="ERR_INVALID_URL";const Nt=Ft;function Et(e){return jt.isPlainObject(e)||jt.isArray(e)}function At(e){return jt.endsWith(e,"[]")?e.slice(0,-2):e}function St(e,t,r){return e?e.concat(t).map(function(e,t){return e=At(e),!r&&t?"["+e+"]":e}).join(r?".":""):t}const _t=jt.toFlatObject(jt,{},null,function(e){return/^is[A-Z]/.test(e)});const Bt=function(e,t,r){if(!jt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(r=jt.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!jt.isUndefined(t[e])})).metaTokens,a=r.visitor||u,s=r.dots,l=r.indexes,o=(r.Blob||"undefined"!==typeof Blob&&Blob)&&jt.isSpecCompliantForm(t);if(!jt.isFunction(a))throw new TypeError("visitor must be a function");function i(e){if(null===e)return"";if(jt.isDate(e))return e.toISOString();if(jt.isBoolean(e))return e.toString();if(!o&&jt.isBlob(e))throw new Nt("Blob is not supported. Use a Buffer instead.");return jt.isArrayBuffer(e)||jt.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,r,a){let o=e;if(e&&!a&&"object"===typeof e)if(jt.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else if(jt.isArray(e)&&function(e){return jt.isArray(e)&&!e.some(Et)}(e)||(jt.isFileList(e)||jt.endsWith(r,"[]"))&&(o=jt.toArray(e)))return r=At(r),o.forEach(function(e,n){!jt.isUndefined(e)&&null!==e&&t.append(!0===l?St([r],n,s):null===l?r:r+"[]",i(e))}),!1;return!!Et(e)||(t.append(St(a,r,s),i(e)),!1)}const c=[],d=Object.assign(_t,{defaultVisitor:u,convertValue:i,isVisitable:Et});if(!jt.isObject(e))throw new TypeError("data must be an object");return function e(r,n){if(!jt.isUndefined(r)){if(-1!==c.indexOf(r))throw Error("Circular reference detected in "+n.join("."));c.push(r),jt.forEach(r,function(r,s){!0===(!(jt.isUndefined(r)||null===r)&&a.call(t,r,jt.isString(s)?s.trim():s,n,d))&&e(r,n?n.concat(s):[s])}),c.pop()}}(e),t};function Tt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Lt(e,t){this._pairs=[],e&&Bt(e,this,t)}const Rt=Lt.prototype;Rt.append=function(e,t){this._pairs.push([e,t])},Rt.toString=function(e){const t=e?function(t){return e.call(this,t,Tt)}:Tt;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const Pt=Lt;function Ot(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function It(e,t,r){if(!t)return e;const n=r&&r.encode||Ot,a=jt.isFunction(r)?{serialize:r}:r,s=a&&a.serialize;let l;if(l=s?s(t,a):jt.isURLSearchParams(t)?t.toString():new Pt(t,a).toString(n),l){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+l}return e}const Mt=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){jt.forEach(this.handlers,function(t){null!==t&&e(t)})}},zt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0};function Ut(e){return Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ut(e)}function Ht(e){var t=function(e,t){if("object"!=Ut(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ut(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ut(t)?t:t+""}function Vt(e,t,r){return(t=Ht(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function qt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(r),!0).forEach(function(t){Vt(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wt(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const Kt={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Pt,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},$t="undefined"!==typeof window&&"undefined"!==typeof document,Jt="object"===typeof navigator&&navigator||void 0,Qt=$t&&(!Jt||["ReactNative","NativeScript","NS"].indexOf(Jt.product)<0),Gt="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Yt=$t&&window.location.href||"http://localhost",Zt=qt(qt({},n),Kt);const Xt=function(e){function t(e,r,n,a){let s=e[a++];if("__proto__"===s)return!0;const l=Number.isFinite(+s),o=a>=e.length;if(s=!s&&jt.isArray(n)?n.length:s,o)return jt.hasOwnProp(n,s)?n[s]=[n[s],r]:n[s]=r,!l;n[s]&&jt.isObject(n[s])||(n[s]=[]);return t(e,r,n[s],a)&&jt.isArray(n[s])&&(n[s]=function(e){const t={},r=Object.keys(e);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],t[s]=e[s];return t}(n[s])),!l}if(jt.isFormData(e)&&jt.isFunction(e.entries)){const r={};return jt.forEachEntry(e,(e,n)=>{t(function(e){return jt.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),n,r,0)}),r}return null};const er={transitional:zt,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",n=r.indexOf("application/json")>-1,a=jt.isObject(e);a&&jt.isHTMLForm(e)&&(e=new FormData(e));if(jt.isFormData(e))return n?JSON.stringify(Xt(e)):e;if(jt.isArrayBuffer(e)||jt.isBuffer(e)||jt.isStream(e)||jt.isFile(e)||jt.isBlob(e)||jt.isReadableStream(e))return e;if(jt.isArrayBufferView(e))return e.buffer;if(jt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Bt(e,new Zt.classes.URLSearchParams,qt({visitor:function(e,t,r,n){return Zt.isNode&&jt.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=jt.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Bt(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||n?(t.setContentType("application/json",!1),function(e,t,r){if(jt.isString(e))try{return(t||JSON.parse)(e),jt.trim(e)}catch(Hs){if("SyntaxError"!==Hs.name)throw Hs}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||er.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(jt.isResponse(e)||jt.isReadableStream(e))return e;if(e&&jt.isString(e)&&(r&&!this.responseType||n)){const r=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e,this.parseReviver)}catch(Hs){if(r){if("SyntaxError"===Hs.name)throw Nt.from(Hs,Nt.ERR_BAD_RESPONSE,this,null,this.response);throw Hs}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Zt.classes.FormData,Blob:Zt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};jt.forEach(["delete","get","head","post","put","patch"],e=>{er.headers[e]={}});const tr=er,rr=jt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nr=Symbol("internals");function ar(e){return e&&String(e).trim().toLowerCase()}function sr(e){return!1===e||null==e?e:jt.isArray(e)?e.map(sr):String(e)}function lr(e,t,r,n,a){return jt.isFunction(n)?n.call(this,t,r):(a&&(t=r),jt.isString(t)?jt.isString(n)?-1!==t.indexOf(n):jt.isRegExp(n)?n.test(t):void 0:void 0)}class or{constructor(e){e&&this.set(e)}set(e,t,r){const n=this;function a(e,t,r){const a=ar(t);if(!a)throw new Error("header name must be a non-empty string");const s=jt.findKey(n,a);(!s||void 0===n[s]||!0===r||void 0===r&&!1!==n[s])&&(n[s||t]=sr(e))}const s=(e,t)=>jt.forEach(e,(e,r)=>a(e,r,t));if(jt.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(jt.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let r,n,a;return e&&e.split("\n").forEach(function(e){a=e.indexOf(":"),r=e.substring(0,a).trim().toLowerCase(),n=e.substring(a+1).trim(),!r||t[r]&&rr[r]||("set-cookie"===r?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t})(e),t);else if(jt.isObject(e)&&jt.isIterable(e)){let r,n,a={};for(const t of e){if(!jt.isArray(t))throw TypeError("Object iterator must return a key-value pair");a[n=t[0]]=(r=a[n])?jt.isArray(r)?[...r,t[1]]:[r,t[1]]:t[1]}s(a,t)}else null!=e&&a(t,e,r);return this}get(e,t){if(e=ar(e)){const r=jt.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}(e);if(jt.isFunction(t))return t.call(this,e,r);if(jt.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ar(e)){const r=jt.findKey(this,e);return!(!r||void 0===this[r]||t&&!lr(0,this[r],r,t))}return!1}delete(e,t){const r=this;let n=!1;function a(e){if(e=ar(e)){const a=jt.findKey(r,e);!a||t&&!lr(0,r[a],a,t)||(delete r[a],n=!0)}}return jt.isArray(e)?e.forEach(a):a(e),n}clear(e){const t=Object.keys(this);let r=t.length,n=!1;for(;r--;){const a=t[r];e&&!lr(0,this[a],a,e,!0)||(delete this[a],n=!0)}return n}normalize(e){const t=this,r={};return jt.forEach(this,(n,a)=>{const s=jt.findKey(r,a);if(s)return t[s]=sr(n),void delete t[a];const l=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}(a):String(a).trim();l!==a&&delete t[a],t[l]=sr(n),r[l]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return jt.forEach(this,(r,n)=>{null!=r&&!1!==r&&(t[n]=e&&jt.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,r]=e;return t+": "+r}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return n.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[nr]=this[nr]={accessors:{}}).accessors,r=this.prototype;function n(e){const n=ar(e);t[n]||(!function(e,t){const r=jt.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(e,r,a){return this[n].call(this,t,e,r,a)},configurable:!0})})}(r,e),t[n]=!0)}return jt.isArray(e)?e.forEach(n):n(e),this}}or.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),jt.reduceDescriptors(or.prototype,(e,t)=>{let{value:r}=e,n=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(e){this[n]=e}}}),jt.freezeMethods(or);const ir=or;function ur(e,t){const r=this||tr,n=t||r,a=ir.from(n.headers);let s=n.data;return jt.forEach(e,function(e){s=e.call(r,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function cr(e){return!(!e||!e.__CANCEL__)}const dr=class extends Nt{constructor(e,t,r){super(null==e?"canceled":e,Nt.ERR_CANCELED,t,r),this.name="CanceledError",this.__CANCEL__=!0}};function mr(e,t,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new Nt("Request failed with status code "+r.status,[Nt.ERR_BAD_REQUEST,Nt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}const pr=function(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a,s=0,l=0;return t=void 0!==t?t:1e3,function(o){const i=Date.now(),u=n[l];a||(a=i),r[s]=o,n[s]=i;let c=l,d=0;for(;c!==s;)d+=r[c++],c%=e;if(s=(s+1)%e,s===l&&(l=(l+1)%e),i-a<t)return;const m=u&&i-u;return m?Math.round(1e3*d/m):void 0}};const hr=function(e,t){let r,n,a=0,s=1e3/t;const l=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();a=s,r=null,n&&(clearTimeout(n),n=null),e(...t)};return[function(){const e=Date.now(),t=e-a;for(var o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];t>=s?l(i,e):(r=i,n||(n=setTimeout(()=>{n=null,l(r)},s-t)))},()=>r&&l(r)]},gr=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=0;const a=pr(50,250);return hr(r=>{const s=r.loaded,l=r.lengthComputable?r.total:void 0,o=s-n,i=a(o);n=s;e({loaded:s,total:l,progress:l?s/l:void 0,bytes:o,rate:i||void 0,estimated:i&&l&&s<=l?(l-s)/i:void 0,event:r,lengthComputable:null!=l,[t?"download":"upload"]:!0})},r)},fr=(e,t)=>{const r=null!=e;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},xr=e=>function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return jt.asap(()=>e(...r))},yr=Zt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Zt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Zt.origin),Zt.navigator&&/(msie|trident)/i.test(Zt.navigator.userAgent)):()=>!0,br=Zt.hasStandardBrowserEnv?{write(e,t,r,n,a,s,l){if("undefined"===typeof document)return;const o=["".concat(e,"=").concat(encodeURIComponent(t))];jt.isNumber(r)&&o.push("expires=".concat(new Date(r).toUTCString())),jt.isString(n)&&o.push("path=".concat(n)),jt.isString(a)&&o.push("domain=".concat(a)),!0===s&&o.push("secure"),jt.isString(l)&&o.push("SameSite=".concat(l)),document.cookie=o.join("; ")},read(e){if("undefined"===typeof document)return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}};function vr(e,t,r){let n=!("string"===typeof(a=t)&&/^([a-z][a-z\d+\-.]*:)?\/\//i.test(a));var a;return e&&(n||0==r)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Dr=e=>e instanceof ir?qt({},e):e;function kr(e,t){t=t||{};const r={};function n(e,t,r,n){return jt.isPlainObject(e)&&jt.isPlainObject(t)?jt.merge.call({caseless:n},e,t):jt.isPlainObject(t)?jt.merge({},t):jt.isArray(t)?t.slice():t}function a(e,t,r,a){return jt.isUndefined(t)?jt.isUndefined(e)?void 0:n(void 0,e,0,a):n(e,t,0,a)}function s(e,t){if(!jt.isUndefined(t))return n(void 0,t)}function l(e,t){return jt.isUndefined(t)?jt.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function o(r,a,s){return s in t?n(r,a):s in e?n(void 0,r):void 0}const i={url:s,method:s,data:s,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(e,t,r)=>a(Dr(e),Dr(t),0,!0)};return jt.forEach(Object.keys(qt(qt({},e),t)),function(n){if("__proto__"===n||"constructor"===n||"prototype"===n)return;const s=jt.hasOwnProp(i,n)?i[n]:a,l=s(e[n],t[n],n);jt.isUndefined(l)&&s!==o||(r[n]=l)}),r}const wr=e=>{const t=kr({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:l,auth:o}=t;if(t.headers=l=ir.from(l),t.url=It(vr(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),jt.isFormData(r))if(Zt.hasStandardBrowserEnv||Zt.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(jt.isFunction(r.getHeaders)){const e=r.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[r,n]=e;t.includes(r.toLowerCase())&&l.set(r,n)})}if(Zt.hasStandardBrowserEnv&&(n&&jt.isFunction(n)&&(n=n(t)),n||!1!==n&&yr(t.url))){const e=a&&s&&br.read(s);e&&l.set(a,e)}return t},Cr="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,r){const n=wr(e);let a=n.data;const s=ir.from(n.headers).normalize();let l,o,i,u,c,{responseType:d,onUploadProgress:m,onDownloadProgress:p}=n;function h(){u&&u(),c&&c(),n.cancelToken&&n.cancelToken.unsubscribe(l),n.signal&&n.signal.removeEventListener("abort",l)}let g=new XMLHttpRequest;function f(){if(!g)return;const n=ir.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders());mr(function(e){t(e),h()},function(e){r(e),h()},{data:d&&"text"!==d&&"json"!==d?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:n,config:e,request:g}),g=null}g.open(n.method.toUpperCase(),n.url,!0),g.timeout=n.timeout,"onloadend"in g?g.onloadend=f:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(f)},g.onabort=function(){g&&(r(new Nt("Request aborted",Nt.ECONNABORTED,e,g)),g=null)},g.onerror=function(t){const n=t&&t.message?t.message:"Network Error",a=new Nt(n,Nt.ERR_NETWORK,e,g);a.event=t||null,r(a),g=null},g.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const a=n.transitional||zt;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),r(new Nt(t,a.clarifyTimeoutError?Nt.ETIMEDOUT:Nt.ECONNABORTED,e,g)),g=null},void 0===a&&s.setContentType(null),"setRequestHeader"in g&&jt.forEach(s.toJSON(),function(e,t){g.setRequestHeader(t,e)}),jt.isUndefined(n.withCredentials)||(g.withCredentials=!!n.withCredentials),d&&"json"!==d&&(g.responseType=n.responseType),p&&([i,c]=gr(p,!0),g.addEventListener("progress",i)),m&&g.upload&&([o,u]=gr(m),g.upload.addEventListener("progress",o),g.upload.addEventListener("loadend",u)),(n.cancelToken||n.signal)&&(l=t=>{g&&(r(!t||t.type?new dr(null,e,g):t),g.abort(),g=null)},n.cancelToken&&n.cancelToken.subscribe(l),n.signal&&(n.signal.aborted?l():n.signal.addEventListener("abort",l)));const x=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);x&&-1===Zt.protocols.indexOf(x)?r(new Nt("Unsupported protocol "+x+":",Nt.ERR_BAD_REQUEST,e)):g.send(a||null)})},jr=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,n=new AbortController;const a=function(e){if(!r){r=!0,l();const t=e instanceof Error?e:this.reason;n.abort(t instanceof Nt?t:new dr(t instanceof Error?t.message:t))}};let s=t&&setTimeout(()=>{s=null,a(new Nt("timeout of ".concat(t,"ms exceeded"),Nt.ETIMEDOUT))},t);const l=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)}),e=null)};e.forEach(e=>e.addEventListener("abort",a));const{signal:o}=n;return o.unsubscribe=()=>jt.asap(l),o}};function Fr(e,t){this.v=e,this.k=t}function Nr(e){return function(){return new Er(e.apply(this,arguments))}}function Er(e){var t,r;function n(t,r){try{var s=e[t](r),l=s.value,o=l instanceof Fr;Promise.resolve(o?l.v:l).then(function(r){if(o){var i="return"===t?"return":"next";if(!l.k||r.done)return n(i,r);r=e[i](r).value}a(s.done?"return":"normal",r)},function(e){n("throw",e)})}catch(e){a("throw",e)}}function a(e,a){switch(e){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?n(t.key,t.arg):r=null}this._invoke=function(e,a){return new Promise(function(s,l){var o={key:e,arg:a,resolve:s,reject:l,next:null};r?r=r.next=o:(t=r=o,n(e,a))})},"function"!=typeof e.return&&(this.return=void 0)}function Ar(e){return new Fr(e,0)}function Sr(e){var t={},r=!1;function n(t,n){return r=!0,n=new Promise(function(r){r(e[t](n))}),{done:!1,value:new Fr(n,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return r?(r=!1,e):n("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(r)throw r=!1,e;return n("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return r?(r=!1,e):n("return",e)}),t}function _r(e){var t,r,n,a=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);a--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new Br(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function Br(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Br=function(e){this.s=e,this.n=e.next},Br.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new Br(e)}Er.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Er.prototype.next=function(e){return this._invoke("next",e)},Er.prototype.throw=function(e){return this._invoke("throw",e)},Er.prototype.return=function(e){return this._invoke("return",e)};const Tr=function*(e,t){let r=e.byteLength;if(!t||r<t)return void(yield e);let n,a=0;for(;a<r;)n=a+t,yield e.slice(a,n),a=n},Lr=function(){var e=Nr(function*(e,t){var r,n=!1,a=!1;try{for(var s,l=_r(Rr(e));n=!(s=yield Ar(l.next())).done;n=!1){const e=s.value;yield*Sr(_r(Tr(e,t)))}}catch(o){a=!0,r=o}finally{try{n&&null!=l.return&&(yield Ar(l.return()))}finally{if(a)throw r}}});return function(t,r){return e.apply(this,arguments)}}(),Rr=function(){var e=Nr(function*(e){if(e[Symbol.asyncIterator])return void(yield*Sr(_r(e)));const t=e.getReader();try{for(;;){const{done:e,value:r}=yield Ar(t.read());if(e)break;yield r}}finally{yield Ar(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),Pr=(e,t,r,n)=>{const a=Lr(e,t);let s,l=0,o=e=>{s||(s=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await a.next();if(t)return o(),void e.close();let s=n.byteLength;if(r){let e=l+=s;r(e)}e.enqueue(new Uint8Array(n))}catch(t){throw o(t),t}},cancel:e=>(o(e),a.return())},{highWaterMark:2})},{isFunction:Or}=jt,Ir=(e=>{let{Request:t,Response:r}=e;return{Request:t,Response:r}})(jt.global),{ReadableStream:Mr,TextEncoder:zr}=jt.global,Ur=function(e){try{for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return!!e(...r)}catch(Hs){return!1}},Hr=e=>{e=jt.merge.call({skipUndefined:!0},Ir,e);const{fetch:t,Request:r,Response:n}=e,a=t?Or(t):"function"===typeof fetch,s=Or(r),l=Or(n);if(!a)return!1;const o=a&&Or(Mr),i=a&&("function"===typeof zr?(u=new zr,e=>u.encode(e)):async e=>new Uint8Array(await new r(e).arrayBuffer()));var u;const c=s&&o&&Ur(()=>{let e=!1;const t=new r(Zt.origin,{body:new Mr,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),d=l&&o&&Ur(()=>jt.isReadableStream(new n("").body)),m={stream:d&&(e=>e.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!m[e]&&(m[e]=(t,r)=>{let n=t&&t[e];if(n)return n.call(t);throw new Nt("Response type '".concat(e,"' is not supported"),Nt.ERR_NOT_SUPPORT,r)})});const p=async(e,t)=>{const n=jt.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(jt.isBlob(e))return e.size;if(jt.isSpecCompliantForm(e)){const t=new r(Zt.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return jt.isArrayBufferView(e)||jt.isArrayBuffer(e)?e.byteLength:(jt.isURLSearchParams(e)&&(e+=""),jt.isString(e)?(await i(e)).byteLength:void 0)})(t):n};return async e=>{let{url:a,method:l,data:o,signal:i,cancelToken:u,timeout:h,onDownloadProgress:g,onUploadProgress:f,responseType:x,headers:y,withCredentials:b="same-origin",fetchOptions:v}=wr(e),D=t||fetch;x=x?(x+"").toLowerCase():"text";let k=jr([i,u&&u.toAbortSignal()],h),w=null;const C=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let j;try{if(f&&c&&"get"!==l&&"head"!==l&&0!==(j=await p(y,o))){let e,t=new r(a,{method:"POST",body:o,duplex:"half"});if(jt.isFormData(o)&&(e=t.headers.get("content-type"))&&y.setContentType(e),t.body){const[e,r]=fr(j,gr(xr(f)));o=Pr(t.body,65536,e,r)}}jt.isString(b)||(b=b?"include":"omit");const t=s&&"credentials"in r.prototype,i=qt(qt({},v),{},{signal:k,method:l.toUpperCase(),headers:y.normalize().toJSON(),body:o,duplex:"half",credentials:t?b:void 0});w=s&&new r(a,i);let u=await(s?D(w,v):D(a,i));const h=d&&("stream"===x||"response"===x);if(d&&(g||h&&C)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=u[t]});const t=jt.toFiniteNumber(u.headers.get("content-length")),[r,a]=g&&fr(t,gr(xr(g),!0))||[];u=new n(Pr(u.body,65536,r,()=>{a&&a(),C&&C()}),e)}x=x||"text";let F=await m[jt.findKey(m,x)||"text"](u,e);return!h&&C&&C(),await new Promise((t,r)=>{mr(t,r,{data:F,headers:ir.from(u.headers),status:u.status,statusText:u.statusText,config:e,request:w})})}catch(F){if(C&&C(),F&&"TypeError"===F.name&&/Load failed|fetch/i.test(F.message))throw Object.assign(new Nt("Network Error",Nt.ERR_NETWORK,e,w,F&&F.response),{cause:F.cause||F});throw Nt.from(F,F&&F.code,e,w,F&&F.response)}}},Vr=new Map,Wr=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:a}=t,s=[n,a,r];let l,o,i=s.length,u=Vr;for(;i--;)l=s[i],o=u.get(l),void 0===o&&u.set(l,o=i?new Map:Hr(t)),u=o;return o},qr=(Wr(),{http:null,xhr:Cr,fetch:{get:Wr}});jt.forEach(qr,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Hs){}Object.defineProperty(e,"adapterName",{value:t})}});const Kr=e=>"- ".concat(e),$r=e=>jt.isFunction(e)||null===e||!1===e;const Jr={getAdapter:function(e,t){e=jt.isArray(e)?e:[e];const{length:r}=e;let n,a;const s={};for(let l=0;l<r;l++){let r;if(n=e[l],a=n,!$r(n)&&(a=qr[(r=String(n)).toLowerCase()],void 0===a))throw new Nt("Unknown adapter '".concat(r,"'"));if(a&&(jt.isFunction(a)||(a=a.get(t))))break;s[r||"#"+l]=a}if(!a){const e=Object.entries(s).map(e=>{let[t,r]=e;return"adapter ".concat(t," ")+(!1===r?"is not supported by the environment":"is not available in the build")});let t=r?e.length>1?"since :\n"+e.map(Kr).join("\n"):" "+Kr(e[0]):"as no adapter specified";throw new Nt("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return a},adapters:qr};function Qr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new dr(null,e)}function Gr(e){Qr(e),e.headers=ir.from(e.headers),e.data=ur.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Jr.getAdapter(e.adapter||tr.adapter,e)(e).then(function(t){return Qr(e),t.data=ur.call(e,e.transformResponse,t),t.headers=ir.from(t.headers),t},function(t){return cr(t)||(Qr(e),t&&t.response&&(t.response.data=ur.call(e,e.transformResponse,t.response),t.response.headers=ir.from(t.response.headers))),Promise.reject(t)})}const Yr="1.13.5",Zr={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Zr[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Xr={};Zr.transitional=function(e,t,r){function n(e,t){return"[Axios v"+Yr+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,a,s)=>{if(!1===e)throw new Nt(n(a," has been removed"+(t?" in "+t:"")),Nt.ERR_DEPRECATED);return t&&!Xr[a]&&(Xr[a]=!0,console.warn(n(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,a,s)}},Zr.spelling=function(e){return(t,r)=>(console.warn("".concat(r," is likely a misspelling of ").concat(e)),!0)};const en={assertOptions:function(e,t,r){if("object"!==typeof e)throw new Nt("options must be an object",Nt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const s=n[a],l=t[s];if(l){const t=e[s],r=void 0===t||l(t,s,e);if(!0!==r)throw new Nt("option "+s+" must be "+r,Nt.ERR_BAD_OPTION_VALUE);continue}if(!0!==r)throw new Nt("Unknown option "+s,Nt.ERR_BAD_OPTION)}},validators:Zr},tn=en.validators;class rn{constructor(e){this.defaults=e||{},this.interceptors={request:new Mt,response:new Mt}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{r.stack?t&&!String(r.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(r.stack+="\n"+t):r.stack=t}catch(Hs){}}throw r}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=kr(this.defaults,t);const{transitional:r,paramsSerializer:n,headers:a}=t;void 0!==r&&en.assertOptions(r,{silentJSONParsing:tn.transitional(tn.boolean),forcedJSONParsing:tn.transitional(tn.boolean),clarifyTimeoutError:tn.transitional(tn.boolean),legacyInterceptorReqResOrdering:tn.transitional(tn.boolean)},!1),null!=n&&(jt.isFunction(n)?t.paramsSerializer={serialize:n}:en.assertOptions(n,{encode:tn.function,serialize:tn.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),en.assertOptions(t,{baseUrl:tn.spelling("baseURL"),withXsrfToken:tn.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&jt.merge(a.common,a[t.method]);a&&jt.forEach(["delete","get","head","post","put","patch","common"],e=>{delete a[e]}),t.headers=ir.concat(s,a);const l=[];let o=!0;this.interceptors.request.forEach(function(e){if("function"===typeof e.runWhen&&!1===e.runWhen(t))return;o=o&&e.synchronous;const r=t.transitional||zt;r&&r.legacyInterceptorReqResOrdering?l.unshift(e.fulfilled,e.rejected):l.push(e.fulfilled,e.rejected)});const i=[];let u;this.interceptors.response.forEach(function(e){i.push(e.fulfilled,e.rejected)});let c,d=0;if(!o){const e=[Gr.bind(this),void 0];for(e.unshift(...l),e.push(...i),c=e.length,u=Promise.resolve(t);d<c;)u=u.then(e[d++],e[d++]);return u}c=l.length;let m=t;for(;d<c;){const e=l[d++],t=l[d++];try{m=e(m)}catch(p){t.call(this,p);break}}try{u=Gr.call(this,m)}catch(p){return Promise.reject(p)}for(d=0,c=i.length;d<c;)u=u.then(i[d++],i[d++]);return u}getUri(e){return It(vr((e=kr(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}jt.forEach(["delete","get","head","options"],function(e){rn.prototype[e]=function(t,r){return this.request(kr(r||{},{method:e,url:t,data:(r||{}).data}))}}),jt.forEach(["post","put","patch"],function(e){function t(t){return function(r,n,a){return this.request(kr(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}rn.prototype[e]=t(),rn.prototype[e+"Form"]=t(!0)});const nn=rn;class an{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const r=this;this.promise.then(e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null}),this.promise.then=e=>{let t;const n=new Promise(e=>{r.subscribe(e),t=e}).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e(function(e,n,a){r.reason||(r.reason=new dr(e,n,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new an(function(t){e=t});return{token:t,cancel:e}}}const sn=an;const ln={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(ln).forEach(e=>{let[t,r]=e;ln[r]=t});const on=ln;const un=function e(t){const r=new nn(t),n=Me(nn.prototype.request,r);return jt.extend(n,nn.prototype,r,{allOwnKeys:!0}),jt.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(kr(t,r))},n}(tr);un.Axios=nn,un.CanceledError=dr,un.CancelToken=sn,un.isCancel=cr,un.VERSION=Yr,un.toFormData=Bt,un.AxiosError=Nt,un.Cancel=un.CanceledError,un.all=function(e){return Promise.all(e)},un.spread=function(e){return function(t){return e.apply(null,t)}},un.isAxiosError=function(e){return jt.isObject(e)&&!0===e.isAxiosError},un.mergeConfig=kr,un.AxiosHeaders=ir,un.formToJSON=e=>Xt(jt.isHTMLForm(e)?new FormData(e):e),un.getAdapter=Jr.getAdapter,un.HttpStatusCode=on,un.default=un;const cn=un;var dn=r(579);cn.defaults.withCredentials=!0;const mn=(0,o.createContext)(void 0),pn=()=>{const e=(0,o.useContext)(mn);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e},hn=e=>{let{children:t}=e;const[r,n]=(0,o.useState)(null),[a,s]=(0,o.useState)(!0);(0,o.useEffect)(()=>{cn.defaults.baseURL=(()=>{const e=document.querySelector("base");if(e&&e.href)return new URL(e.href).pathname.replace(/\/$/,"");return""})(),l()},[]);const l=async()=>{try{const e=(await cn.get("/api/auth/me")).data;n({username:e.username,email:e.email,scopes:e.scopes||[],groups:e.groups||[],auth_method:e.auth_method||"basic",provider:e.provider,can_modify_servers:e.can_modify_servers||!1,is_admin:e.is_admin||!1,ui_permissions:e.ui_permissions||{}})}catch(e){n(null)}finally{s(!1)}},i={user:r,login:async(e,t)=>{const r=new FormData;r.append("username",e),r.append("password",t);200===(await cn.post("/api/auth/login",r,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).status&&await l()},logout:async()=>{try{await cn.post("/api/auth/logout")}catch(e){}finally{n(null)}},loading:a};return(0,dn.jsx)(mn.Provider,{value:i,children:t})};const gn=(0,o.createContext)(void 0),fn=e=>{let{children:t}=e;const[r,n]=(0,o.useState)("dark");(0,o.useEffect)(()=>{const e=localStorage.getItem("theme");n(e||"dark")},[]),(0,o.useEffect)(()=>{const e=window.document.documentElement;"dark"===r?e.classList.add("dark"):e.classList.remove("dark"),localStorage.setItem("theme",r)},[r]);const a={theme:r,toggleTheme:()=>{n(e=>"light"===e?"dark":"light")}};return(0,dn.jsx)(gn.Provider,{value:a,children:t})};function xn(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function yn(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch(e=>setTimeout(()=>{throw e}))}function bn(){let e=[],t={addEventListener:(e,r,n,a)=>(e.addEventListener(r,n,a),t.add(()=>e.removeEventListener(r,n,a))),requestAnimationFrame(){let e=requestAnimationFrame(...arguments);return t.add(()=>cancelAnimationFrame(e))},nextFrame(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.requestAnimationFrame(()=>t.requestAnimationFrame(...r))},setTimeout(){let e=setTimeout(...arguments);return t.add(()=>clearTimeout(e))},microTask(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];let a={current:!0};return yn(()=>{a.current&&r[0]()}),t.add(()=>{a.current=!1})},style(e,t,r){let n=e.style.getPropertyValue(t);return Object.assign(e.style,{[t]:r}),this.add(()=>{Object.assign(e.style,{[t]:n})})},group(e){let t=bn();return e(t),this.add(()=>t.dispose())},add:t=>(e.push(t),()=>{let r=e.indexOf(t);if(r>=0)for(let t of e.splice(r,1))t()}),dispose(){for(let t of e.splice(0))t()}};return t}function vn(){let[e]=(0,o.useState)(bn);return(0,o.useEffect)(()=>()=>e.dispose(),[e]),e}var Dn=Object.defineProperty,kn=(e,t,r)=>(((e,t,r)=>{t in e?Dn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r);let wn=new class{constructor(){kn(this,"current",this.detect()),kn(this,"handoffState","pending"),kn(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return"server"===this.current}get isClient(){return"client"===this.current}detect(){return"undefined"==typeof window||"undefined"==typeof document?"server":"client"}handoff(){"pending"===this.handoffState&&(this.handoffState="complete")}get isHandoffComplete(){return"complete"===this.handoffState}},Cn=(e,t)=>{wn.isServer?(0,o.useEffect)(e,t):(0,o.useLayoutEffect)(e,t)};function jn(e){let t=(0,o.useRef)(e);return Cn(()=>{t.current=e},[e]),t}let Fn=function(e){let t=jn(e);return o.useCallback(function(){return t.current(...arguments)},[t])};function Nn(){let e=function(){let e="undefined"==typeof document;return"useSyncExternalStore"in i&&(e=>e.useSyncExternalStore)(i)(()=>()=>{},()=>!1,()=>!e)}(),[t,r]=o.useState(wn.isHandoffComplete);return t&&!1===wn.isHandoffComplete&&r(!1),o.useEffect(()=>{!0!==t&&r(!0)},[t]),o.useEffect(()=>wn.handoff(),[]),!e&&t}var En;let An=null!=(En=o.useId)?En:function(){let e=Nn(),[t,r]=o.useState(e?()=>wn.nextId():null);return Cn(()=>{null===t&&r(wn.nextId())},[t]),null!=t?""+t:void 0};function Sn(e,t){if(e in t){let s=t[e];for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];return"function"==typeof s?s(...n):s}let s=new Error('Tried to handle "'.concat(e,'" but there is no handler defined. Only defined handlers are: ').concat(Object.keys(t).map(e=>'"'.concat(e,'"')).join(", "),"."));throw Error.captureStackTrace&&Error.captureStackTrace(s,Sn),s}function _n(e){return wn.isServer?null:e instanceof Node?e.ownerDocument:null!=e&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let Bn=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>"".concat(e,":not([tabindex='-1'])")).join(",");var Tn=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(Tn||{}),Ln=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Ln||{}),Rn=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Rn||{});function Pn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;return null==e?[]:Array.from(e.querySelectorAll(Bn)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}var On=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(On||{});function In(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;var r;return e!==(null==(r=_n(e))?void 0:r.body)&&Sn(t,{0:()=>e.matches(Bn),1(){let t=e;for(;null!==t;){if(t.matches(Bn))return!0;t=t.parentElement}return!1}})}function Mn(e){let t=_n(e);bn().nextFrame(()=>{t&&!In(t.activeElement,0)&&Un(e)})}var zn=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(zn||{});function Un(e){null==e||e.focus({preventScroll:!0})}"undefined"!=typeof window&&"undefined"!=typeof document&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{1===e.detail?delete document.documentElement.dataset.headlessuiFocusVisible:0===e.detail&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let Hn=["textarea","input"].join(",");function Vn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e;return e.slice().sort((e,r)=>{let n=t(e),a=t(r);if(null===n||null===a)return 0;let s=n.compareDocumentPosition(a);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Wn(e,t){return qn(Pn(),t,{relativeTo:e})}function qn(e,t){let{sorted:r=!0,relativeTo:n=null,skipElements:a=[]}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,l=Array.isArray(e)?r?Vn(e):e:Pn(e);a.length>0&&l.length>1&&(l=l.filter(e=>!a.includes(e))),n=null!=n?n:s.activeElement;let o,i=(()=>{if(5&t)return 1;if(10&t)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=(()=>{if(1&t)return 0;if(2&t)return Math.max(0,l.indexOf(n))-1;if(4&t)return Math.max(0,l.indexOf(n))+1;if(8&t)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=32&t?{preventScroll:!0}:{},d=0,m=l.length;do{if(d>=m||d+m<=0)return 0;let e=u+d;if(16&t)e=(e+m)%m;else{if(e<0)return 3;if(e>=m)return 1}o=l[e],null==o||o.focus(c),d+=i}while(o!==s.activeElement);return 6&t&&function(e){var t,r;return null!=(r=null==(t=null==e?void 0:e.matches)?void 0:t.call(e,Hn))&&r}(o)&&o.select(),2}function Kn(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function $n(){return Kn()||/Android/gi.test(window.navigator.userAgent)}function Jn(e,t,r){let n=jn(t);(0,o.useEffect)(()=>{function t(e){n.current(e)}return document.addEventListener(e,t,r),()=>document.removeEventListener(e,t,r)},[e,r])}function Qn(e,t,r){let n=jn(t);(0,o.useEffect)(()=>{function t(e){n.current(e)}return window.addEventListener(e,t,r),()=>window.removeEventListener(e,t,r)},[e,r])}function Gn(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=(0,o.useRef)(!1);function a(r,a){if(!n.current||r.defaultPrevented)return;let s=a(r);if(null===s||!s.getRootNode().contains(s)||!s.isConnected)return;let l=function e(t){return"function"==typeof t?e(t()):Array.isArray(t)||t instanceof Set?t:[t]}(e);for(let e of l){if(null===e)continue;let t=e instanceof HTMLElement?e:e.current;if(null!=t&&t.contains(s)||r.composed&&r.composedPath().includes(t))return}return!In(s,On.Loose)&&-1!==s.tabIndex&&r.preventDefault(),t(r,s)}(0,o.useEffect)(()=>{requestAnimationFrame(()=>{n.current=r})},[r]);let s=(0,o.useRef)(null);Jn("pointerdown",e=>{var t,r;n.current&&(s.current=(null==(r=null==(t=e.composedPath)?void 0:t.call(e))?void 0:r[0])||e.target)},!0),Jn("mousedown",e=>{var t,r;n.current&&(s.current=(null==(r=null==(t=e.composedPath)?void 0:t.call(e))?void 0:r[0])||e.target)},!0),Jn("click",e=>{$n()||s.current&&(a(e,()=>s.current),s.current=null)},!0),Jn("touchend",e=>a(e,()=>e.target instanceof HTMLElement?e.target:null),!0),Qn("blur",e=>a(e,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Yn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,o.useMemo)(()=>_n(...t),[...t])}function Zn(e){var t;if(e.type)return e.type;let r=null!=(t=e.as)?t:"button";return"string"==typeof r&&"button"===r.toLowerCase()?"button":void 0}function Xn(e,t){let[r,n]=(0,o.useState)(()=>Zn(e));return Cn(()=>{n(Zn(e))},[e.type,e.as]),Cn(()=>{r||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&n("button")},[r,t]),r}let ea=Symbol();function ta(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];let n=(0,o.useRef)(t);(0,o.useEffect)(()=>{n.current=t},[t]);let a=Fn(e=>{for(let t of n.current)null!=t&&("function"==typeof t?t(e):t.current=e)});return t.every(e=>null==e||(null==e?void 0:e[ea]))?void 0:a}let ra=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function na(e){var t,r;let n=null!=(t=e.innerText)?t:"",a=e.cloneNode(!0);if(!(a instanceof HTMLElement))return n;let s=!1;for(let o of a.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))o.remove(),s=!0;let l=s?null!=(r=a.innerText)?r:"":n;return ra.test(l)&&(l=l.replace(ra,"")),l}function aa(e){let t=(0,o.useRef)(""),r=(0,o.useRef)("");return Fn(()=>{let n=e.current;if(!n)return"";let a=n.innerText;if(t.current===a)return r.current;let s=function(e){let t=e.getAttribute("aria-label");if("string"==typeof t)return t.trim();let r=e.getAttribute("aria-labelledby");if(r){let e=r.split(" ").map(e=>{let t=document.getElementById(e);if(t){let e=t.getAttribute("aria-label");return"string"==typeof e?e.trim():na(t).trim()}return null}).filter(Boolean);if(e.length>0)return e.join(", ")}return na(e).trim()}(n).trim().toLowerCase();return t.current=a,r.current=s,s})}function sa(e){return[e.screenX,e.screenY]}let la=(0,o.createContext)(null);la.displayName="OpenClosedContext";var oa=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(oa||{});function ia(){return(0,o.useContext)(la)}function ua(e){let{value:t,children:r}=e;return o.createElement(la.Provider,{value:t},r)}function ca(e){let t=e.parentElement,r=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(r=t),t=t.parentElement;let n=""===(null==t?void 0:t.getAttribute("disabled"));return(!n||!function(e){if(!e)return!1;let t=e.previousElementSibling;for(;null!==t;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}(r))&&n}var da=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(da||{});function ma(e,t){let r=t.resolveItems();if(r.length<=0)return null;let n=t.resolveActiveIndex(),a=null!=n?n:-1;switch(e.focus){case 0:for(let e=0;e<r.length;++e)if(!t.resolveDisabled(r[e],e,r))return e;return n;case 1:for(let e=a-1;e>=0;--e)if(!t.resolveDisabled(r[e],e,r))return e;return n;case 2:for(let e=a+1;e<r.length;++e)if(!t.resolveDisabled(r[e],e,r))return e;return n;case 3:for(let e=r.length-1;e>=0;--e)if(!t.resolveDisabled(r[e],e,r))return e;return n;case 4:for(let n=0;n<r.length;++n)if(t.resolveId(r[n],n,r)===e.id)return n;return n;case 5:return null;default:!function(e){throw new Error("Unexpected object: "+e)}(e)}}function pa(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Array.from(new Set(t.flatMap(e=>"string"==typeof e?e.split(" "):[]))).filter(Boolean).join(" ")}const ha=["static"],ga=["unmount"],fa=["as","children","refName"];var xa=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(xa||{}),ya=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(ya||{});function ba(e){let{ourProps:t,theirProps:r,slot:n,defaultTag:a,features:s,visible:l=!0,name:o,mergeRefs:i}=e;i=null!=i?i:Da;let u=ka(r,t);if(l)return va(u,n,a,o,i);let c=null!=s?s:0;if(2&c){let{static:e=!1}=u,t=xn(u,ha);if(e)return va(t,n,a,o,i)}if(1&c){let{unmount:e=!0}=u,t=xn(u,ga);return Sn(e?0:1,{0:()=>null,1:()=>va(qt(qt({},t),{},{hidden:!0,style:{display:"none"}}),n,a,o,i)})}return va(u,n,a,o,i)}function va(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,s=ja(e,["unmount","static"]),{as:l=r,children:i,refName:u="ref"}=s,c=xn(s,fa),d=void 0!==e.ref?{[u]:e.ref}:{},m="function"==typeof i?i(t):i;"className"in c&&c.className&&"function"==typeof c.className&&(c.className=c.className(t));let p={};if(t){let e=!1,r=[];for(let[n,a]of Object.entries(t))"boolean"==typeof a&&(e=!0),!0===a&&r.push(n);e&&(p["data-headlessui-state"]=r.join(" "))}if(l===o.Fragment&&Object.keys(Ca(c)).length>0){if(!(0,o.isValidElement)(m)||Array.isArray(m)&&m.length>1)throw new Error(['Passing props on "Fragment"!',"","The current component <".concat(n,' /> is rendering a "Fragment".'),"However we need to passthrough the following props:",Object.keys(c).map(e=>"  - ".concat(e)).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(e=>"  - ".concat(e)).join("\n")].join("\n"));let e=m.props,t="function"==typeof(null==e?void 0:e.className)?function(){return pa(null==e?void 0:e.className(...arguments),c.className)}:pa(null==e?void 0:e.className,c.className),r=t?{className:t}:{};return(0,o.cloneElement)(m,Object.assign({},ka(m.props,Ca(ja(c,["ref"]))),p,d,{ref:a(m.ref,d.ref)},r))}return(0,o.createElement)(l,Object.assign({},ja(c,["ref"]),l!==o.Fragment&&d,l!==o.Fragment&&p),m)}function Da(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.every(e=>null==e)?void 0:e=>{for(let r of t)null!=r&&("function"==typeof r?r(e):r.current=e)}}function ka(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)return{};if(1===t.length)return t[0];let n={},a={};for(let s of t)for(let e in s)e.startsWith("on")&&"function"==typeof s[e]?(null!=a[e]||(a[e]=[]),a[e].push(s[e])):n[e]=s[e];if(n.disabled||n["aria-disabled"])return Object.assign(n,Object.fromEntries(Object.keys(a).map(e=>[e,void 0])));for(let s in a)Object.assign(n,{[s](e){let t=a[s];for(var r=arguments.length,n=new Array(r>1?r-1:0),l=1;l<r;l++)n[l-1]=arguments[l];for(let a of t){if((e instanceof Event||(null==e?void 0:e.nativeEvent)instanceof Event)&&e.defaultPrevented)return;a(e,...n)}}});return n}function wa(e){var t;return Object.assign((0,o.forwardRef)(e),{displayName:null!=(t=e.displayName)?t:e.name})}function Ca(e){let t=Object.assign({},e);for(let r in t)void 0===t[r]&&delete t[r];return t}function ja(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Object.assign({},e);for(let n of t)n in r&&delete r[n];return r}var Fa=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Fa||{});const Na=["__demoMode"],Ea=["id"],Aa=["id"],Sa=["id","disabled"];var _a=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(_a||{}),Ba=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Ba||{}),Ta=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e))(Ta||{});function La(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e,r=null!==e.activeItemIndex?e.items[e.activeItemIndex]:null,n=Vn(t(e.items.slice()),e=>e.dataRef.current.domRef.current),a=r?n.indexOf(r):null;return-1===a&&(a=null),{items:n,activeItemIndex:a}}let Ra={1:e=>1===e.menuState?e:qt(qt({},e),{},{activeItemIndex:null,menuState:1}),0:e=>0===e.menuState?e:qt(qt({},e),{},{__demoMode:!1,menuState:0}),2:(e,t)=>{var r;let n=La(e),a=ma(t,{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return qt(qt(qt({},e),n),{},{searchQuery:"",activeItemIndex:a,activationTrigger:null!=(r=t.trigger)?r:1})},3:(e,t)=>{let r=""!==e.searchQuery?0:1,n=e.searchQuery+t.value.toLowerCase(),a=(null!==e.activeItemIndex?e.items.slice(e.activeItemIndex+r).concat(e.items.slice(0,e.activeItemIndex+r)):e.items).find(e=>{var t;return(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(n))&&!e.dataRef.current.disabled}),s=a?e.items.indexOf(a):-1;return-1===s||s===e.activeItemIndex?qt(qt({},e),{},{searchQuery:n}):qt(qt({},e),{},{searchQuery:n,activeItemIndex:s,activationTrigger:1})},4:e=>""===e.searchQuery?e:qt(qt({},e),{},{searchQuery:"",searchActiveItemIndex:null}),5:(e,t)=>{let r=La(e,e=>[...e,{id:t.id,dataRef:t.dataRef}]);return qt(qt({},e),r)},6:(e,t)=>{let r=La(e,e=>{let r=e.findIndex(e=>e.id===t.id);return-1!==r&&e.splice(r,1),e});return qt(qt(qt({},e),r),{},{activationTrigger:1})}},Pa=(0,o.createContext)(null);function Oa(e){let t=(0,o.useContext)(Pa);if(null===t){let t=new Error("<".concat(e," /> is missing a parent <Menu /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(t,Oa),t}return t}function Ia(e,t){return Sn(t.type,Ra,e,t)}Pa.displayName="MenuContext";let Ma=o.Fragment;let za=xa.RenderStrategy|xa.Static;let Ua=o.Fragment;let Ha=wa(function(e,t){let{__demoMode:r=!1}=e,n=xn(e,Na),a=(0,o.useReducer)(Ia,{__demoMode:r,menuState:r?0:1,buttonRef:(0,o.createRef)(),itemsRef:(0,o.createRef)(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:s,itemsRef:l,buttonRef:i},u]=a,c=ta(t);Gn([i,l],(e,t)=>{var r;u({type:1}),In(t,On.Loose)||(e.preventDefault(),null==(r=i.current)||r.focus())},0===s);let d=Fn(()=>{u({type:1})}),m=(0,o.useMemo)(()=>({open:0===s,close:d}),[s,d]),p={ref:c};return o.createElement(Pa.Provider,{value:a},o.createElement(ua,{value:Sn(s,{0:oa.Open,1:oa.Closed})},ba({ourProps:p,theirProps:n,slot:m,defaultTag:Ma,name:"Menu"})))}),Va=wa(function(e,t){var r;let n=An(),{id:a="headlessui-menu-button-".concat(n)}=e,s=xn(e,Ea),[l,i]=Oa("Menu.Button"),u=ta(l.buttonRef,t),c=vn(),d=Fn(e=>{switch(e.key){case Fa.Space:case Fa.Enter:case Fa.ArrowDown:e.preventDefault(),e.stopPropagation(),i({type:0}),c.nextFrame(()=>i({type:2,focus:da.First}));break;case Fa.ArrowUp:e.preventDefault(),e.stopPropagation(),i({type:0}),c.nextFrame(()=>i({type:2,focus:da.Last}))}}),m=Fn(e=>{if(e.key===Fa.Space)e.preventDefault()}),p=Fn(t=>{if(ca(t.currentTarget))return t.preventDefault();e.disabled||(0===l.menuState?(i({type:1}),c.nextFrame(()=>{var e;return null==(e=l.buttonRef.current)?void 0:e.focus({preventScroll:!0})})):(t.preventDefault(),i({type:0})))}),h=(0,o.useMemo)(()=>({open:0===l.menuState}),[l]);return ba({ourProps:{ref:u,id:a,type:Xn(e,l.buttonRef),"aria-haspopup":"menu","aria-controls":null==(r=l.itemsRef.current)?void 0:r.id,"aria-expanded":0===l.menuState,onKeyDown:d,onKeyUp:m,onClick:p},theirProps:s,slot:h,defaultTag:"button",name:"Menu.Button"})}),Wa=wa(function(e,t){var r,n;let a=An(),{id:s="headlessui-menu-items-".concat(a)}=e,l=xn(e,Aa),[i,u]=Oa("Menu.Items"),c=ta(i.itemsRef,t),d=Yn(i.itemsRef),m=vn(),p=ia(),h=null!==p?(p&oa.Open)===oa.Open:0===i.menuState;(0,o.useEffect)(()=>{let e=i.itemsRef.current;e&&0===i.menuState&&e!==(null==d?void 0:d.activeElement)&&e.focus({preventScroll:!0})},[i.menuState,i.itemsRef,d]),function(e){let{container:t,accept:r,walk:n,enabled:a=!0}=e,s=(0,o.useRef)(r),l=(0,o.useRef)(n);(0,o.useEffect)(()=>{s.current=r,l.current=n},[r,n]),Cn(()=>{if(!t||!a)return;let e=_n(t);if(!e)return;let r=s.current,n=l.current,o=Object.assign(e=>r(e),{acceptNode:r}),i=e.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,o,!1);for(;i.nextNode();)n(i.currentNode)},[t,a,s,l])}({container:i.itemsRef.current,enabled:0===i.menuState,accept:e=>"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}});let g=Fn(e=>{var t,r;switch(m.dispose(),e.key){case Fa.Space:if(""!==i.searchQuery)return e.preventDefault(),e.stopPropagation(),u({type:3,value:e.key});case Fa.Enter:if(e.preventDefault(),e.stopPropagation(),u({type:1}),null!==i.activeItemIndex){let{dataRef:e}=i.items[i.activeItemIndex];null==(r=null==(t=e.current)?void 0:t.domRef.current)||r.click()}Mn(i.buttonRef.current);break;case Fa.ArrowDown:return e.preventDefault(),e.stopPropagation(),u({type:2,focus:da.Next});case Fa.ArrowUp:return e.preventDefault(),e.stopPropagation(),u({type:2,focus:da.Previous});case Fa.Home:case Fa.PageUp:return e.preventDefault(),e.stopPropagation(),u({type:2,focus:da.First});case Fa.End:case Fa.PageDown:return e.preventDefault(),e.stopPropagation(),u({type:2,focus:da.Last});case Fa.Escape:e.preventDefault(),e.stopPropagation(),u({type:1}),bn().nextFrame(()=>{var e;return null==(e=i.buttonRef.current)?void 0:e.focus({preventScroll:!0})});break;case Fa.Tab:e.preventDefault(),e.stopPropagation(),u({type:1}),bn().nextFrame(()=>{Wn(i.buttonRef.current,e.shiftKey?Tn.Previous:Tn.Next)});break;default:1===e.key.length&&(u({type:3,value:e.key}),m.setTimeout(()=>u({type:4}),350))}}),f=Fn(e=>{if(e.key===Fa.Space)e.preventDefault()}),x=(0,o.useMemo)(()=>({open:0===i.menuState}),[i]);return ba({ourProps:{"aria-activedescendant":null===i.activeItemIndex||null==(r=i.items[i.activeItemIndex])?void 0:r.id,"aria-labelledby":null==(n=i.buttonRef.current)?void 0:n.id,id:s,onKeyDown:g,onKeyUp:f,role:"menu",tabIndex:0,ref:c},theirProps:l,slot:x,defaultTag:"div",features:za,visible:h,name:"Menu.Items"})}),qa=wa(function(e,t){let r=An(),{id:n="headlessui-menu-item-".concat(r),disabled:a=!1}=e,s=xn(e,Sa),[l,i]=Oa("Menu.Item"),u=null!==l.activeItemIndex&&l.items[l.activeItemIndex].id===n,c=(0,o.useRef)(null),d=ta(t,c);Cn(()=>{if(l.__demoMode||0!==l.menuState||!u||0===l.activationTrigger)return;let e=bn();return e.requestAnimationFrame(()=>{var e,t;null==(t=null==(e=c.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})}),e.dispose},[l.__demoMode,c,u,l.menuState,l.activationTrigger,l.activeItemIndex]);let m=aa(c),p=(0,o.useRef)({disabled:a,domRef:c,get textValue(){return m()}});Cn(()=>{p.current.disabled=a},[p,a]),Cn(()=>(i({type:5,id:n,dataRef:p}),()=>i({type:6,id:n})),[p,n]);let h=Fn(()=>{i({type:1})}),g=Fn(e=>{if(a)return e.preventDefault();i({type:1}),Mn(l.buttonRef.current)}),f=Fn(()=>{if(a)return i({type:2,focus:da.Nothing});i({type:2,focus:da.Specific,id:n})}),x=function(){let e=(0,o.useRef)([-1,-1]);return{wasMoved(t){let r=sa(t);return(e.current[0]!==r[0]||e.current[1]!==r[1])&&(e.current=r,!0)},update(t){e.current=sa(t)}}}(),y=Fn(e=>x.update(e)),b=Fn(e=>{x.wasMoved(e)&&(a||u||i({type:2,focus:da.Specific,id:n,trigger:0}))}),v=Fn(e=>{x.wasMoved(e)&&(a||u&&i({type:2,focus:da.Nothing}))}),D=(0,o.useMemo)(()=>({active:u,disabled:a,close:h}),[u,a,h]);return ba({ourProps:{id:n,ref:d,role:"menuitem",tabIndex:!0===a?void 0:-1,"aria-disabled":!0===a||void 0,disabled:void 0,onClick:g,onFocus:f,onPointerEnter:y,onMouseEnter:y,onPointerMove:b,onMouseMove:b,onPointerLeave:v,onMouseLeave:v},theirProps:s,slot:D,defaultTag:Ua,name:"Menu.Item"})}),Ka=Object.assign(Ha,{Button:Va,Items:Wa,Item:qa});function $a(){let e=(0,o.useRef)(!1);return Cn(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function Ja(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];e&&r.length>0&&e.classList.add(...r)}function Qa(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];e&&r.length>0&&e.classList.remove(...r)}function Ga(e,t,r,n){let a=r?"enter":"leave",s=bn(),l=void 0!==n?function(e){let t={called:!1};return function(){if(!t.called)return t.called=!0,e(...arguments)}}(n):()=>{};"enter"===a&&(e.removeAttribute("hidden"),e.style.display="");let o=Sn(a,{enter:()=>t.enter,leave:()=>t.leave}),i=Sn(a,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),u=Sn(a,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return Qa(e,...t.base,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),Ja(e,...t.base,...o,...u),s.nextFrame(()=>{Qa(e,...t.base,...o,...u),Ja(e,...t.base,...o,...i),function(e,t){let r=bn();if(!e)return r.dispose;let{transitionDuration:n,transitionDelay:a}=getComputedStyle(e),[s,l]=[n,a].map(e=>{let[t=0]=e.split(",").filter(Boolean).map(e=>e.includes("ms")?parseFloat(e):1e3*parseFloat(e)).sort((e,t)=>t-e);return t}),o=s+l;if(0!==o){r.group(r=>{r.setTimeout(()=>{t(),r.dispose()},o),r.addEventListener(e,"transitionrun",e=>{e.target===e.currentTarget&&r.dispose()})});let n=r.addEventListener(e,"transitionend",e=>{e.target===e.currentTarget&&(t(),n())})}else t();r.add(()=>t()),r.dispose}(e,()=>(Qa(e,...t.base,...o),Ja(e,...t.base,...t.entered),l()))}),s.dispose}const Ya=["beforeEnter","afterEnter","beforeLeave","afterLeave","enter","enterFrom","enterTo","entered","leave","leaveFrom","leaveTo"],Za=["show","appear","unmount"];function Xa(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(/\s+/).filter(e=>e.length>1)}let es=(0,o.createContext)(null);es.displayName="TransitionContext";var ts=(e=>(e.Visible="visible",e.Hidden="hidden",e))(ts||{});let rs=(0,o.createContext)(null);function ns(e){return"children"in e?ns(e.children):e.current.filter(e=>{let{el:t}=e;return null!==t.current}).filter(e=>{let{state:t}=e;return"visible"===t}).length>0}function as(e,t){let r=jn(e),n=(0,o.useRef)([]),a=$a(),s=vn(),l=Fn(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ya.Hidden,l=n.current.findIndex(t=>{let{el:r}=t;return r===e});-1!==l&&(Sn(t,{[ya.Unmount](){n.current.splice(l,1)},[ya.Hidden](){n.current[l].state="hidden"}}),s.microTask(()=>{var e;!ns(n)&&a.current&&(null==(e=r.current)||e.call(r))}))}),i=Fn(e=>{let t=n.current.find(t=>{let{el:r}=t;return r===e});return t?"visible"!==t.state&&(t.state="visible"):n.current.push({el:e,state:"visible"}),()=>l(e,ya.Unmount)}),u=(0,o.useRef)([]),c=(0,o.useRef)(Promise.resolve()),d=(0,o.useRef)({enter:[],leave:[],idle:[]}),m=Fn((e,r,n)=>{u.current.splice(0),t&&(t.chains.current[r]=t.chains.current[r].filter(t=>{let[r]=t;return r!==e})),null==t||t.chains.current[r].push([e,new Promise(e=>{u.current.push(e)})]),null==t||t.chains.current[r].push([e,new Promise(e=>{Promise.all(d.current[r].map(e=>{let[t,r]=e;return r})).then(()=>e())})]),"enter"===r?c.current=c.current.then(()=>null==t?void 0:t.wait.current).then(()=>n(r)):n(r)}),p=Fn((e,t,r)=>{Promise.all(d.current[t].splice(0).map(e=>{let[t,r]=e;return r})).then(()=>{var e;null==(e=u.current.shift())||e()}).then(()=>r(t))});return(0,o.useMemo)(()=>({children:n,register:i,unregister:l,onStart:m,onStop:p,wait:c,chains:d}),[i,l,n,m,p,d,c])}function ss(){}rs.displayName="NestingContext";let ls=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function os(e){var t;let r={};for(let n of ls)r[n]=null!=(t=e[n])?t:ss;return r}let is=xa.RenderStrategy;let us=wa(function(e,t){let{show:r,appear:n=!1,unmount:a=!0}=e,s=xn(e,Za),l=(0,o.useRef)(null),i=ta(l,t);Nn();let u=ia();if(void 0===r&&null!==u&&(r=(u&oa.Open)===oa.Open),![!0,!1].includes(r))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[c,d]=(0,o.useState)(r?"visible":"hidden"),m=as(()=>{d("hidden")}),[p,h]=(0,o.useState)(!0),g=(0,o.useRef)([r]);Cn(()=>{!1!==p&&g.current[g.current.length-1]!==r&&(g.current.push(r),h(!1))},[g,r]);let f=(0,o.useMemo)(()=>({show:r,appear:n,initial:p}),[r,n,p]);(0,o.useEffect)(()=>{if(r)d("visible");else if(ns(m)){let e=l.current;if(!e)return;let t=e.getBoundingClientRect();0===t.x&&0===t.y&&0===t.width&&0===t.height&&d("hidden")}else d("hidden")},[r,m]);let x={unmount:a},y=Fn(()=>{var t;p&&h(!1),null==(t=e.beforeEnter)||t.call(e)}),b=Fn(()=>{var t;p&&h(!1),null==(t=e.beforeLeave)||t.call(e)});return o.createElement(rs.Provider,{value:m},o.createElement(es.Provider,{value:f},ba({ourProps:qt(qt({},x),{},{as:o.Fragment,children:o.createElement(cs,qt(qt(qt({ref:i},x),s),{},{beforeEnter:y,beforeLeave:b}))}),theirProps:{},defaultTag:o.Fragment,features:is,visible:"visible"===c,name:"Transition"})))}),cs=wa(function(e,t){var r,n;let{beforeEnter:a,afterEnter:s,beforeLeave:l,afterLeave:i,enter:u,enterFrom:c,enterTo:d,entered:m,leave:p,leaveFrom:h,leaveTo:g}=e,f=xn(e,Ya),x=(0,o.useRef)(null),y=ta(x,t),b=null==(r=f.unmount)||r?ya.Unmount:ya.Hidden,{show:v,appear:D,initial:k}=function(){let e=(0,o.useContext)(es);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),[w,C]=(0,o.useState)(v?"visible":"hidden"),j=function(){let e=(0,o.useContext)(rs);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),{register:F,unregister:N}=j;(0,o.useEffect)(()=>F(x),[F,x]),(0,o.useEffect)(()=>{if(b===ya.Hidden&&x.current)return v&&"visible"!==w?void C("visible"):Sn(w,{hidden:()=>N(x),visible:()=>F(x)})},[w,x,F,N,v,b]);let E=jn({base:Xa(f.className),enter:Xa(u),enterFrom:Xa(c),enterTo:Xa(d),entered:Xa(m),leave:Xa(p),leaveFrom:Xa(h),leaveTo:Xa(g)}),A=function(e){let t=(0,o.useRef)(os(e));return(0,o.useEffect)(()=>{t.current=os(e)},[e]),t}({beforeEnter:a,afterEnter:s,beforeLeave:l,afterLeave:i}),S=Nn();(0,o.useEffect)(()=>{if(S&&"visible"===w&&null===x.current)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[x,w,S]);let _=D&&v&&k,B=!S||k&&!D?"idle":v?"enter":"leave",T=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,[t,r]=(0,o.useState)(e),n=$a(),a=(0,o.useCallback)(e=>{n.current&&r(t=>t|e)},[t,n]),s=(0,o.useCallback)(e=>Boolean(t&e),[t]),l=(0,o.useCallback)(e=>{n.current&&r(t=>t&~e)},[r,n]),i=(0,o.useCallback)(e=>{n.current&&r(t=>t^e)},[r]);return{flags:t,addFlag:a,hasFlag:s,removeFlag:l,toggleFlag:i}}(0),L=Fn(e=>Sn(e,{enter:()=>{T.addFlag(oa.Opening),A.current.beforeEnter()},leave:()=>{T.addFlag(oa.Closing),A.current.beforeLeave()},idle:()=>{}})),R=Fn(e=>Sn(e,{enter:()=>{T.removeFlag(oa.Opening),A.current.afterEnter()},leave:()=>{T.removeFlag(oa.Closing),A.current.afterLeave()},idle:()=>{}})),P=as(()=>{C("hidden"),N(x)},j),O=(0,o.useRef)(!1);!function(e){let{immediate:t,container:r,direction:n,classes:a,onStart:s,onStop:l}=e,o=$a(),i=vn(),u=jn(n);Cn(()=>{t&&(u.current="enter")},[t]),Cn(()=>{let e=bn();i.add(e.dispose);let t=r.current;if(t&&"idle"!==u.current&&o.current)return e.dispose(),s.current(u.current),e.add(Ga(t,a.current,"enter"===u.current,()=>{e.dispose(),l.current(u.current)})),e.dispose},[n])}({immediate:_,container:x,classes:E,direction:B,onStart:jn(e=>{O.current=!0,P.onStart(x,e,L)}),onStop:jn(e=>{O.current=!1,P.onStop(x,e,R),"leave"===e&&!ns(P)&&(C("hidden"),N(x))})});let I=f,M={ref:y};return _?I=qt(qt({},I),{},{className:pa(f.className,...E.current.enter,...E.current.enterFrom)}):O.current&&(I.className=pa(f.className,null==(n=x.current)?void 0:n.className),""===I.className&&delete I.className),o.createElement(rs.Provider,{value:P},o.createElement(ua,{value:Sn(w,{visible:oa.Open,hidden:oa.Closed})|T.flags},ba({ourProps:M,theirProps:I,defaultTag:"div",features:is,visible:"visible"===w,name:"Transition.Child"})))}),ds=wa(function(e,t){let r=null!==(0,o.useContext)(es),n=null!==ia();return o.createElement(o.Fragment,null,!r&&n?o.createElement(us,qt({ref:t},e)):o.createElement(cs,qt({ref:t},e)))}),ms=Object.assign(us,{Child:ds,Root:us});const ps=["title","titleId"];function hs(e,t){let{title:r,titleId:n}=e,a=xn(e,ps);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const gs=o.forwardRef(hs),fs=["title","titleId"];function xs(e,t){let{title:r,titleId:n}=e,a=xn(e,fs);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const ys=o.forwardRef(xs),bs=["title","titleId"];function vs(e,t){let{title:r,titleId:n}=e,a=xn(e,bs);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Ds=o.forwardRef(vs),ks=["title","titleId"];function ws(e,t){let{title:r,titleId:n}=e,a=xn(e,ks);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const Cs=o.forwardRef(ws),js=["title","titleId"];function Fs(e,t){let{title:r,titleId:n}=e,a=xn(e,js);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const Ns=o.forwardRef(Fs);function Es(e,t,r,n){let a=jn(r);(0,o.useEffect)(()=>{function r(e){a.current(e)}return(e=null!=e?e:window).addEventListener(t,r,n),()=>e.removeEventListener(t,r,n)},[e,t,n])}function As(e){let t=Fn(e),r=(0,o.useRef)(!1);(0,o.useEffect)(()=>(r.current=!1,()=>{r.current=!0,yn(()=>{r.current&&t()})}),[t])}var Ss=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Ss||{});function _s(e,t){let r=(0,o.useRef)([]),n=Fn(e);(0,o.useEffect)(()=>{let e=[...r.current];for(let[a,s]of t.entries())if(r.current[a]!==s){let a=n(t,e);return r.current=t,a}},[n,...t])}const Bs=["features"];var Ts=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Ts||{});let Ls=wa(function(e,t){var r;let{features:n=1}=e,a=xn(e,Bs);return ba({ourProps:{ref:t,"aria-hidden":2===(2&n)||(null!=(r=a["aria-hidden"])?r:void 0),hidden:4===(4&n)||void 0,style:qt({position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},4===(4&n)&&2!==(2&n)&&{display:"none"})},theirProps:a,slot:{},defaultTag:"div",name:"Hidden"})});let Rs=[];!function(e){function t(){"loading"!==document.readyState&&(e(),document.removeEventListener("DOMContentLoaded",t))}"undefined"!=typeof window&&"undefined"!=typeof document&&(document.addEventListener("DOMContentLoaded",t),t())}(()=>{function e(e){e.target instanceof HTMLElement&&e.target!==document.body&&Rs[0]!==e.target&&(Rs.unshift(e.target),Rs=Rs.filter(e=>null!=e&&e.isConnected),Rs.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});const Ps=["initialFocus","containers","features"];function Os(e){if(!e)return new Set;if("function"==typeof e)return new Set(e());let t=new Set;for(let r of e.current)r.current instanceof HTMLElement&&t.add(r.current);return t}var Is=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(Is||{});let Ms=wa(function(e,t){let r=(0,o.useRef)(null),n=ta(r,t),{initialFocus:a,containers:s,features:l=30}=e,i=xn(e,Ps);Nn()||(l=1);let u=Yn(r);!function(e,t){let{ownerDocument:r}=e,n=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=(0,o.useRef)(Rs.slice());return _s((e,r)=>{let[n]=e,[a]=r;!0===a&&!1===n&&yn(()=>{t.current.splice(0)}),!1===a&&!0===n&&(t.current=Rs.slice())},[e,Rs,t]),Fn(()=>{var e;return null!=(e=t.current.find(e=>null!=e&&e.isConnected))?e:null})}(t);_s(()=>{t||(null==r?void 0:r.activeElement)===(null==r?void 0:r.body)&&Un(n())},[t]),As(()=>{t&&Un(n())})}({ownerDocument:u},Boolean(16&l));let c=function(e,t){let{ownerDocument:r,container:n,initialFocus:a}=e,s=(0,o.useRef)(null),l=$a();return _s(()=>{if(!t)return;let e=n.current;e&&yn(()=>{if(!l.current)return;let t=null==r?void 0:r.activeElement;if(null!=a&&a.current){if((null==a?void 0:a.current)===t)return void(s.current=t)}else if(e.contains(t))return void(s.current=t);null!=a&&a.current?Un(a.current):qn(e,Tn.First)===Ln.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),s.current=null==r?void 0:r.activeElement})},[t]),s}({ownerDocument:u,container:r,initialFocus:a},Boolean(2&l));!function(e,t){let{ownerDocument:r,container:n,containers:a,previousActiveElement:s}=e,l=$a();Es(null==r?void 0:r.defaultView,"focus",e=>{if(!t||!l.current)return;let r=Os(a);n.current instanceof HTMLElement&&r.add(n.current);let o=s.current;if(!o)return;let i=e.target;i&&i instanceof HTMLElement?Us(r,i)?(s.current=i,Un(i)):(e.preventDefault(),e.stopPropagation(),Un(o)):Un(s.current)},!0)}({ownerDocument:u,container:r,containers:s,previousActiveElement:c},Boolean(8&l));let d=function(){let e=(0,o.useRef)(0);return Qn("keydown",t=>{"Tab"===t.key&&(e.current=t.shiftKey?1:0)},!0),e}(),m=Fn(e=>{let t=r.current;t&&Sn(d.current,{[Ss.Forwards]:()=>{qn(t,Tn.First,{skipElements:[e.relatedTarget]})},[Ss.Backwards]:()=>{qn(t,Tn.Last,{skipElements:[e.relatedTarget]})}})}),p=vn(),h=(0,o.useRef)(!1),g={ref:n,onKeyDown(e){"Tab"==e.key&&(h.current=!0,p.requestAnimationFrame(()=>{h.current=!1}))},onBlur(e){let t=Os(s);r.current instanceof HTMLElement&&t.add(r.current);let n=e.relatedTarget;n instanceof HTMLElement&&"true"!==n.dataset.headlessuiFocusGuard&&(Us(t,n)||(h.current?qn(r.current,Sn(d.current,{[Ss.Forwards]:()=>Tn.Next,[Ss.Backwards]:()=>Tn.Previous})|Tn.WrapAround,{relativeTo:e.target}):e.target instanceof HTMLElement&&Un(e.target)))}};return o.createElement(o.Fragment,null,Boolean(4&l)&&o.createElement(Ls,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:m,features:Ts.Focusable}),ba({ourProps:g,theirProps:i,defaultTag:"div",name:"FocusTrap"}),Boolean(4&l)&&o.createElement(Ls,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:m,features:Ts.Focusable}))}),zs=Object.assign(Ms,{features:Is});function Us(e,t){for(let r of e)if(r.contains(t))return!0;return!1}let Hs=(0,o.createContext)(!1);function Vs(){return(0,o.useContext)(Hs)}function Ws(e){return o.createElement(Hs.Provider,{value:e.force},e.children)}const qs=["target"];let Ks=o.Fragment;let $s=o.Fragment,Js=(0,o.createContext)(null);let Qs=(0,o.createContext)(null);let Gs=wa(function(e,t){let r=e,n=(0,o.useRef)(null),a=ta(function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Object.assign(e,{[ea]:t})}(e=>{n.current=e}),t),s=Yn(n),l=function(e){let t=Vs(),r=(0,o.useContext)(Js),n=Yn(e),[a,s]=(0,o.useState)(()=>{if(!t&&null!==r||wn.isServer)return null;let e=null==n?void 0:n.getElementById("headlessui-portal-root");if(e)return e;if(null===n)return null;let a=n.createElement("div");return a.setAttribute("id","headlessui-portal-root"),n.body.appendChild(a)});return(0,o.useEffect)(()=>{null!==a&&(null!=n&&n.body.contains(a)||null==n||n.body.appendChild(a))},[a,n]),(0,o.useEffect)(()=>{t||null!==r&&s(r.current)},[r,s,t]),a}(n),[i]=(0,o.useState)(()=>{var e;return wn.isServer?null:null!=(e=null==s?void 0:s.createElement("div"))?e:null}),u=(0,o.useContext)(Qs),d=Nn();return Cn(()=>{!l||!i||l.contains(i)||(i.setAttribute("data-headlessui-portal",""),l.appendChild(i))},[l,i]),Cn(()=>{if(i&&u)return u.register(i)},[u,i]),As(()=>{var e;!l||!i||(i instanceof Node&&l.contains(i)&&l.removeChild(i),l.childNodes.length<=0&&(null==(e=l.parentElement)||e.removeChild(l)))}),d&&l&&i?(0,c.createPortal)(ba({ourProps:{ref:a},theirProps:r,defaultTag:Ks,name:"Portal"}),i):null}),Ys=wa(function(e,t){let{target:r}=e,n=xn(e,qs),a={ref:ta(t)};return o.createElement(Js.Provider,{value:r},ba({ourProps:a,theirProps:n,defaultTag:$s,name:"Popover.Group"}))}),Zs=Object.assign(Gs,{Group:Ys});const Xs="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},{useState:el,useEffect:tl,useLayoutEffect:rl,useDebugValue:nl}=i;function al(e){const t=e.getSnapshot,r=e.value;try{const e=t();return!Xs(r,e)}catch(n){return!0}}const sl=!("undefined"!=typeof window&&"undefined"!=typeof window.document&&"undefined"!=typeof window.document.createElement)?function(e,t,r){return t()}:function(e,t,r){const n=t(),[{inst:a},s]=el({inst:{value:n,getSnapshot:t}});return rl(()=>{a.value=n,a.getSnapshot=t,al(a)&&s({inst:a})},[e,n,t]),tl(()=>(al(a)&&s({inst:a}),e(()=>{al(a)&&s({inst:a})})),[e]),nl(n),n},ll="useSyncExternalStore"in i?(e=>e.useSyncExternalStore)(i):sl;function ol(){let e;return{before(t){let{doc:r}=t;var n;let a=r.documentElement;e=(null!=(n=r.defaultView)?n:window).innerWidth-a.clientWidth},after(t){let{doc:r,d:n}=t,a=r.documentElement,s=a.clientWidth-a.offsetWidth,l=e-s;n.style(a,"paddingRight","".concat(l,"px"))}}}function il(){return Kn()?{before(e){let{doc:t,d:r,meta:n}=e;function a(e){return n.containers.flatMap(e=>e()).some(t=>t.contains(e))}r.microTask(()=>{var e;if("auto"!==window.getComputedStyle(t.documentElement).scrollBehavior){let e=bn();e.style(t.documentElement,"scrollBehavior","auto"),r.add(()=>r.microTask(()=>e.dispose()))}let n=null!=(e=window.scrollY)?e:window.pageYOffset,s=null;r.addEventListener(t,"click",e=>{if(e.target instanceof HTMLElement)try{let r=e.target.closest("a");if(!r)return;let{hash:n}=new URL(r.href),l=t.querySelector(n);l&&!a(l)&&(s=l)}catch(r){}},!0),r.addEventListener(t,"touchstart",e=>{if(e.target instanceof HTMLElement)if(a(e.target)){let t=e.target;for(;t.parentElement&&a(t.parentElement);)t=t.parentElement;r.style(t,"overscrollBehavior","contain")}else r.style(e.target,"touchAction","none")}),r.addEventListener(t,"touchmove",e=>{if(e.target instanceof HTMLElement)if(a(e.target)){let t=e.target;for(;t.parentElement&&""!==t.dataset.headlessuiPortal&&!(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth);)t=t.parentElement;""===t.dataset.headlessuiPortal&&e.preventDefault()}else e.preventDefault()},{passive:!1}),r.add(()=>{var e;let t=null!=(e=window.scrollY)?e:window.pageYOffset;n!==t&&window.scrollTo(0,n),s&&s.isConnected&&(s.scrollIntoView({block:"nearest"}),s=null)})})}}:{}}function ul(e){let t={};for(let r of e)Object.assign(t,r(t));return t}let cl=function(e,t){let r=e(),n=new Set;return{getSnapshot:()=>r,subscribe:e=>(n.add(e),()=>n.delete(e)),dispatch(e){for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];let o=t[e].call(r,...s);o&&(r=o,n.forEach(e=>e()))}}}(()=>new Map,{PUSH(e,t){var r;let n=null!=(r=this.get(e))?r:{doc:e,count:0,d:bn(),meta:new Set};return n.count++,n.meta.add(t),this.set(e,n),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t)),this},SCROLL_PREVENT(e){let{doc:t,d:r,meta:n}=e,a={doc:t,d:r,meta:ul(n)},s=[il(),ol(),{before(e){let{doc:t,d:r}=e;r.style(t.documentElement,"overflow","hidden")}}];s.forEach(e=>{let{before:t}=e;return null==t?void 0:t(a)}),s.forEach(e=>{let{after:t}=e;return null==t?void 0:t(a)})},SCROLL_ALLOW(e){let{d:t}=e;t.dispose()},TEARDOWN(e){let{doc:t}=e;this.delete(t)}});function dl(e,t,r){let n=function(e){return ll(e.subscribe,e.getSnapshot,e.getSnapshot)}(cl),a=e?n.get(e):void 0,s=!!a&&a.count>0;return Cn(()=>{if(e&&t)return cl.dispatch("PUSH",e,r),()=>cl.dispatch("POP",e,r)},[t,e]),s}cl.subscribe(()=>{let e=cl.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let e="hidden"===t.get(r.doc),n=0!==r.count;(n&&!e||!n&&e)&&cl.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),0===r.count&&cl.dispatch("TEARDOWN",r)}});let ml=new Map,pl=new Map;function hl(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Cn(()=>{var r;if(!t)return;let n="function"==typeof e?e():e.current;if(!n)return;let a=null!=(r=pl.get(n))?r:0;return pl.set(n,a+1),0!==a||(ml.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0),function(){var e;if(!n)return;let t=null!=(e=pl.get(n))?e:1;if(1===t?pl.delete(n):pl.set(n,t-1),1!==t)return;let r=ml.get(n);r&&(null===r["aria-hidden"]?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",r["aria-hidden"]),n.inert=r.inert,ml.delete(n))}},[e,t])}let gl=(0,o.createContext)(()=>{});gl.displayName="StackContext";var fl=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(fl||{});function xl(e){let{children:t,onUpdate:r,type:n,element:a,enabled:s}=e,l=(0,o.useContext)(gl),i=Fn(function(){null==r||r(...arguments),l(...arguments)});return Cn(()=>{let e=void 0===s||!0===s;return e&&i(0,n,a),()=>{e&&i(1,n,a)}},[i,n,a,s]),o.createElement(gl.Provider,{value:i},t)}const yl=["id"];let bl=(0,o.createContext)(null);function vl(){let e=(0,o.useContext)(bl);if(null===e){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,vl),e}return e}let Dl=wa(function(e,t){let r=An(),{id:n="headlessui-description-".concat(r)}=e,a=xn(e,yl),s=vl(),l=ta(t);return Cn(()=>s.register(n),[n,s.register]),ba({ourProps:qt(qt({ref:l},s.props),{},{id:n}),theirProps:a,slot:s.slot||{},defaultTag:"p",name:s.name||"Description"})}),kl=Object.assign(Dl,{});const wl=["id","open","onClose","initialFocus","role","__demoMode"],Cl=["id"],jl=["id"],Fl=["id"],Nl=["id"];var El=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(El||{}),Al=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(Al||{});let Sl={0:(e,t)=>e.titleId===t.id?e:qt(qt({},e),{},{titleId:t.id})},_l=(0,o.createContext)(null);function Bl(e){let t=(0,o.useContext)(_l);if(null===t){let t=new Error("<".concat(e," /> is missing a parent <Dialog /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(t,Bl),t}return t}function Tl(e,t){return Sn(t.type,Sl,e,t)}_l.displayName="DialogContext";let Ll=xa.RenderStrategy|xa.Static;let Rl=wa(function(e,t){let r=An(),{id:n="headlessui-dialog-".concat(r),open:a,onClose:s,initialFocus:l,role:i="dialog",__demoMode:u=!1}=e,c=xn(e,wl),[d,m]=(0,o.useState)(0),p=(0,o.useRef)(!1);i="dialog"===i||"alertdialog"===i?i:(p.current||(p.current=!0,console.warn("Invalid role [".concat(i,"] passed to <Dialog />. Only `dialog` and and `alertdialog` are supported. Using `dialog` instead."))),"dialog");let h=ia();void 0===a&&null!==h&&(a=(h&oa.Open)===oa.Open);let g=(0,o.useRef)(null),f=ta(g,t),x=Yn(g),y=e.hasOwnProperty("open")||null!==h,b=e.hasOwnProperty("onClose");if(!y&&!b)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!y)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!b)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if("boolean"!=typeof a)throw new Error("You provided an `open` prop to the `Dialog`, but the value is not a boolean. Received: ".concat(a));if("function"!=typeof s)throw new Error("You provided an `onClose` prop to the `Dialog`, but the value is not a function. Received: ".concat(s));let v=a?0:1,[D,k]=(0,o.useReducer)(Tl,{titleId:null,descriptionId:null,panelRef:(0,o.createRef)()}),w=Fn(()=>s(!1)),C=Fn(e=>k({type:0,id:e})),j=!!Nn()&&(!u&&0===v),F=d>1,N=null!==(0,o.useContext)(_l),[E,A]=function(){let e=(0,o.useContext)(Qs),t=(0,o.useRef)([]),r=Fn(r=>(t.current.push(r),e&&e.register(r),()=>n(r))),n=Fn(r=>{let n=t.current.indexOf(r);-1!==n&&t.current.splice(n,1),e&&e.unregister(r)}),a=(0,o.useMemo)(()=>({register:r,unregister:n,portals:t}),[r,n,t]);return[t,(0,o.useMemo)(()=>function(e){let{children:t}=e;return o.createElement(Qs.Provider,{value:a},t)},[a])]}(),S={get current(){var e;return null!=(e=D.panelRef.current)?e:g.current}},{resolveContainers:_,mainTreeNodeRef:B,MainTreeNode:T}=function(){let{defaultContainers:e=[],portals:t,mainTreeNodeRef:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var n;let a=(0,o.useRef)(null!=(n=null==r?void 0:r.current)?n:null),s=Yn(a),l=Fn(()=>{var r,n,l;let o=[];for(let t of e)null!==t&&(t instanceof HTMLElement?o.push(t):"current"in t&&t.current instanceof HTMLElement&&o.push(t.current));if(null!=t&&t.current)for(let e of t.current)o.push(e);for(let e of null!=(r=null==s?void 0:s.querySelectorAll("html > *, body > *"))?r:[])e!==document.body&&e!==document.head&&e instanceof HTMLElement&&"headlessui-portal-root"!==e.id&&(e.contains(a.current)||e.contains(null==(l=null==(n=a.current)?void 0:n.getRootNode())?void 0:l.host)||o.some(t=>e.contains(t))||o.push(e));return o});return{resolveContainers:l,contains:Fn(e=>l().some(t=>t.contains(e))),mainTreeNodeRef:a,MainTreeNode:(0,o.useMemo)(()=>function(){return null!=r?null:o.createElement(Ls,{features:Ts.Hidden,ref:a})},[a,r])}}({portals:E,defaultContainers:[S]}),L=F?"parent":"leaf",R=null!==h&&(h&oa.Closing)===oa.Closing,P=!N&&!R&&j,O=(0,o.useCallback)(()=>{var e,t;return null!=(t=Array.from(null!=(e=null==x?void 0:x.querySelectorAll("body > *"))?e:[]).find(e=>"headlessui-portal-root"!==e.id&&(e.contains(B.current)&&e instanceof HTMLElement)))?t:null},[B]);hl(O,P);let I=!!F||j,M=(0,o.useCallback)(()=>{var e,t;return null!=(t=Array.from(null!=(e=null==x?void 0:x.querySelectorAll("[data-headlessui-portal]"))?e:[]).find(e=>e.contains(B.current)&&e instanceof HTMLElement))?t:null},[B]);hl(M,I),Gn(_,e=>{e.preventDefault(),w()},!(!j||F));let z=!(F||0!==v);Es(null==x?void 0:x.defaultView,"keydown",e=>{z&&(e.defaultPrevented||e.key===Fa.Escape&&(e.preventDefault(),e.stopPropagation(),w()))}),function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>[document.body];dl(e,t,e=>{var t;return{containers:[...null!=(t=e.containers)?t:[],r]}})}(x,!(R||0!==v||N),_),(0,o.useEffect)(()=>{if(0!==v||!g.current)return;let e=new ResizeObserver(e=>{for(let t of e){let e=t.target.getBoundingClientRect();0===e.x&&0===e.y&&0===e.width&&0===e.height&&w()}});return e.observe(g.current),()=>e.disconnect()},[v,g,w]);let[U,H]=function(){let[e,t]=(0,o.useState)([]);return[e.length>0?e.join(" "):void 0,(0,o.useMemo)(()=>function(e){let r=Fn(e=>(t(t=>[...t,e]),()=>t(t=>{let r=t.slice(),n=r.indexOf(e);return-1!==n&&r.splice(n,1),r}))),n=(0,o.useMemo)(()=>({register:r,slot:e.slot,name:e.name,props:e.props}),[r,e.slot,e.name,e.props]);return o.createElement(bl.Provider,{value:n},e.children)},[t])]}(),V=(0,o.useMemo)(()=>[{dialogState:v,close:w,setTitleId:C},D],[v,D,w,C]),W=(0,o.useMemo)(()=>({open:0===v}),[v]),q={ref:f,id:n,role:i,"aria-modal":0===v||void 0,"aria-labelledby":D.titleId,"aria-describedby":U};return o.createElement(xl,{type:"Dialog",enabled:0===v,element:g,onUpdate:Fn((e,t)=>{"Dialog"===t&&Sn(e,{[fl.Add]:()=>m(e=>e+1),[fl.Remove]:()=>m(e=>e-1)})})},o.createElement(Ws,{force:!0},o.createElement(Zs,null,o.createElement(_l.Provider,{value:V},o.createElement(Zs.Group,{target:g},o.createElement(Ws,{force:!1},o.createElement(H,{slot:W,name:"Dialog.Description"},o.createElement(zs,{initialFocus:l,containers:_,features:j?Sn(L,{parent:zs.features.RestoreFocus,leaf:zs.features.All&~zs.features.FocusLock}):zs.features.None},o.createElement(A,null,ba({ourProps:q,theirProps:c,slot:W,defaultTag:"div",features:Ll,visible:0===v,name:"Dialog"}))))))))),o.createElement(T,null))}),Pl=wa(function(e,t){let r=An(),{id:n="headlessui-dialog-backdrop-".concat(r)}=e,a=xn(e,jl),[{dialogState:s},l]=Bl("Dialog.Backdrop"),i=ta(t);(0,o.useEffect)(()=>{if(null===l.panelRef.current)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[l.panelRef]);let u=(0,o.useMemo)(()=>({open:0===s}),[s]);return o.createElement(Ws,{force:!0},o.createElement(Zs,null,ba({ourProps:{ref:i,id:n,"aria-hidden":!0},theirProps:a,slot:u,defaultTag:"div",name:"Dialog.Backdrop"})))}),Ol=wa(function(e,t){let r=An(),{id:n="headlessui-dialog-panel-".concat(r)}=e,a=xn(e,Fl),[{dialogState:s},l]=Bl("Dialog.Panel"),i=ta(t,l.panelRef),u=(0,o.useMemo)(()=>({open:0===s}),[s]),c=Fn(e=>{e.stopPropagation()});return ba({ourProps:{ref:i,id:n,onClick:c},theirProps:a,slot:u,defaultTag:"div",name:"Dialog.Panel"})}),Il=wa(function(e,t){let r=An(),{id:n="headlessui-dialog-overlay-".concat(r)}=e,a=xn(e,Cl),[{dialogState:s,close:l}]=Bl("Dialog.Overlay"),i=ta(t),u=Fn(e=>{if(e.target===e.currentTarget){if(ca(e.currentTarget))return e.preventDefault();e.preventDefault(),e.stopPropagation(),l()}});return ba({ourProps:{ref:i,id:n,"aria-hidden":!0,onClick:u},theirProps:a,slot:(0,o.useMemo)(()=>({open:0===s}),[s]),defaultTag:"div",name:"Dialog.Overlay"})}),Ml=wa(function(e,t){let r=An(),{id:n="headlessui-dialog-title-".concat(r)}=e,a=xn(e,Nl),[{dialogState:s,setTitleId:l}]=Bl("Dialog.Title"),i=ta(t);(0,o.useEffect)(()=>(l(n),()=>l(null)),[n,l]);let u=(0,o.useMemo)(()=>({open:0===s}),[s]);return ba({ourProps:{ref:i,id:n},theirProps:a,slot:u,defaultTag:"h2",name:"Dialog.Title"})}),zl=Object.assign(Rl,{Backdrop:Pl,Panel:Ol,Overlay:Il,Title:Ml,Description:kl});const Ul=["title","titleId"];function Hl(e,t){let{title:r,titleId:n}=e,a=xn(e,Ul);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const Vl=o.forwardRef(Hl),Wl=["title","titleId"];function ql(e,t){let{title:r,titleId:n}=e,a=xn(e,Wl);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const Kl=o.forwardRef(ql),$l=["title","titleId"];function Jl(e,t){let{title:r,titleId:n}=e,a=xn(e,$l);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"}))}const Ql=o.forwardRef(Jl),Gl=["title","titleId"];function Yl(e,t){let{title:r,titleId:n}=e,a=xn(e,Gl);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const Zl=o.forwardRef(Yl),Xl=["title","titleId"];function eo(e,t){let{title:r,titleId:n}=e,a=xn(e,Xl);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const to=o.forwardRef(eo),ro=["title","titleId"];function no(e,t){let{title:r,titleId:n}=e,a=xn(e,ro);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const ao=o.forwardRef(no),so=["title","titleId"];function lo(e,t){let{title:r,titleId:n}=e,a=xn(e,so);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const oo=o.forwardRef(lo),io=["title","titleId"];function uo(e,t){let{title:r,titleId:n}=e,a=xn(e,io);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"}))}const co=o.forwardRef(uo),mo=["title","titleId"];function po(e,t){let{title:r,titleId:n}=e,a=xn(e,mo);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const ho=o.forwardRef(po),go=e=>{let{sidebarOpen:t,setSidebarOpen:r,stats:n,activeFilter:a,setActiveFilter:s}=e;const{user:l}=pn(),i=le(),[u,c]=(0,o.useState)(!1),[d,m]=(0,o.useState)(!1),[p,h]=(0,o.useState)(null),[g,f]=(0,o.useState)(!1),[x,y]=(0,o.useState)(!1),[b,v]=(0,o.useState)(""),D=[{key:"all",label:"All Services",count:"total"},{key:"enabled",label:"Enabled",count:"enabled"},{key:"disabled",label:"Disabled",count:"disabled"},{key:"unhealthy",label:"With Issues",count:"withIssues"}],k="/generate-token"===i.pathname;(0,o.useEffect)(()=>{console.log("Sidebar state changed:",t)},[t]);const w=e=>({"mcp-servers-restricted/read":"Read access to restricted MCP servers","mcp-servers/read":"Read access to all MCP servers","mcp-servers/write":"Write access to MCP servers","mcp-registry-user":"Basic registry user permissions","mcp-registry-admin":"Full registry administration access","health-check":"Health check and monitoring access","token-generation":"Ability to generate access tokens","server-management":"Manage server configurations"}[e]||"Custom permission scope"),C=async()=>{f(!0),v("");try{const e={description:"Generated via sidebar",expires_in_hours:8},t=await cn.post("/api/tokens/generate",e,{headers:{"Content-Type":"application/json"}});t.data.success&&(h(t.data),m(!0))}catch(r){var e,t;v((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to generate token")}finally{f(!1)}},j=()=>(0,dn.jsx)("div",{className:"flex h-full flex-col",children:k?(0,dn.jsxs)("div",{className:"flex-1 p-4 md:p-6",children:[(0,dn.jsxs)("div",{className:"space-y-2 mb-6",children:[(0,dn.jsxs)(Re,{to:"/",className:"flex items-center space-x-3 px-3 py-2 rounded-lg text-sm transition-colors focus:outline-none focus:ring-2 focus:ring-purple-500 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>window.innerWidth<768&&r(!1),tabIndex:0,children:[(0,dn.jsx)(Vl,{className:"h-4 w-4"}),(0,dn.jsx)("span",{children:"Back to Dashboard"})]}),(0,dn.jsxs)(Re,{to:"/generate-token",className:"flex items-center space-x-3 px-3 py-2 rounded-lg text-sm transition-colors focus:outline-none focus:ring-2 focus:ring-purple-500 bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300",tabIndex:0,children:[(0,dn.jsx)(Kl,{className:"h-4 w-4"}),(0,dn.jsx)("span",{children:"Generate Token"})]})]}),l&&(0,dn.jsx)("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg mb-6",children:(0,dn.jsxs)("div",{className:"text-sm",children:[(0,dn.jsx)("div",{className:"font-medium text-gray-900 dark:text-white mb-1",children:l.username}),(0,dn.jsxs)("div",{className:"text-xs text-gray-600 dark:text-gray-300 mb-2",children:[l.is_admin?(0,dn.jsx)("span",{className:"text-green-600 dark:text-green-400",children:"\ud83d\udd11 Admin Access"}):l.can_modify_servers?(0,dn.jsx)("span",{className:"text-blue-600 dark:text-blue-400",children:"\u2699\ufe0f Modify Access"}):(0,dn.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"\ud83d\udc41\ufe0f Read-only Access"}),"oauth2"===l.auth_method&&l.provider&&(0,dn.jsxs)("span",{className:"ml-1",children:["(",l.provider,")"]})]}),!l.is_admin&&l.scopes&&l.scopes.length>0&&(0,dn.jsxs)("div",{children:[(0,dn.jsxs)("button",{onClick:()=>c(!u),className:"flex items-center justify-between w-full text-xs text-gray-500 dark:text-gray-300 hover:text-gray-700 dark:hover:text-gray-100 transition-colors py-1",children:[(0,dn.jsxs)("span",{children:["Scopes (",l.scopes.length,")"]}),u?(0,dn.jsx)(Ql,{className:"h-3 w-3"}):(0,dn.jsx)(Cs,{className:"h-3 w-3"})]}),u&&(0,dn.jsx)("div",{className:"mt-2 space-y-2 max-h-32 overflow-y-auto",children:l.scopes.map(e=>(0,dn.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-2 rounded text-xs",children:[(0,dn.jsx)("div",{className:"font-medium text-blue-800 dark:text-blue-200",children:e}),(0,dn.jsx)("div",{className:"text-blue-600 dark:text-blue-300 mt-1",children:w(e)})]},e))})]})]})}),(0,dn.jsxs)("div",{className:"text-center",children:[(0,dn.jsx)(Kl,{className:"h-12 w-12 text-purple-600 mx-auto mb-4"}),(0,dn.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Token Generation"}),(0,dn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Create personal access tokens for programmatic access to MCP servers"}),(0,dn.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 space-y-1",children:[(0,dn.jsx)("p",{children:"\u2022 Tokens inherit your current permissions"}),(0,dn.jsx)("p",{children:"\u2022 Configure expiration time and scopes"}),(0,dn.jsx)("p",{children:"\u2022 Use tokens for programmatic access"})]})]})]}):(0,dn.jsxs)(dn.Fragment,{children:[(0,dn.jsx)("div",{className:"p-4 md:p-6 border-b border-gray-200 dark:border-gray-700",children:l&&(0,dn.jsx)("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:(0,dn.jsxs)("div",{className:"text-sm",children:[(0,dn.jsx)("div",{className:"font-medium text-gray-900 dark:text-white mb-1",children:l.username}),(0,dn.jsxs)("div",{className:"text-xs text-gray-600 dark:text-gray-300 mb-2",children:[l.is_admin?(0,dn.jsx)("span",{className:"text-green-600 dark:text-green-400",children:"\ud83d\udd11 Admin Access"}):l.can_modify_servers?(0,dn.jsx)("span",{className:"text-blue-600 dark:text-blue-400",children:"\u2699\ufe0f Modify Access"}):(0,dn.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"\ud83d\udc41\ufe0f Read-only Access"}),"oauth2"===l.auth_method&&l.provider&&(0,dn.jsxs)("span",{className:"ml-1",children:["(",l.provider,")"]})]}),(0,dn.jsxs)("div",{className:"mb-2",children:[(0,dn.jsx)("button",{onClick:C,disabled:g,className:"w-full flex items-center justify-center space-x-2 px-3 py-2 rounded-lg text-xs font-medium transition-colors bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300 hover:bg-purple-200 dark:hover:bg-purple-800 disabled:opacity-50 disabled:cursor-not-allowed",children:g?(0,dn.jsxs)(dn.Fragment,{children:[(0,dn.jsx)("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-purple-700 dark:border-purple-300"}),(0,dn.jsx)("span",{children:"Loading..."})]}):(0,dn.jsxs)(dn.Fragment,{children:[(0,dn.jsx)(Kl,{className:"h-3 w-3"}),(0,dn.jsx)("span",{children:"Get JWT Token"})]})}),b&&(0,dn.jsx)("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:b})]}),!l.is_admin&&l.scopes&&l.scopes.length>0&&(0,dn.jsxs)("div",{children:[(0,dn.jsxs)("button",{onClick:()=>c(!u),className:"flex items-center justify-between w-full text-xs text-gray-500 dark:text-gray-300 hover:text-gray-700 dark:hover:text-gray-100 transition-colors py-1",children:[(0,dn.jsxs)("span",{children:["Scopes (",l.scopes.length,")"]}),u?(0,dn.jsx)(Ql,{className:"h-3 w-3"}):(0,dn.jsx)(Cs,{className:"h-3 w-3"})]}),u&&(0,dn.jsx)("div",{className:"mt-2 space-y-2 max-h-32 overflow-y-auto",children:l.scopes.map(e=>(0,dn.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-2 rounded text-xs",children:[(0,dn.jsx)("div",{className:"font-medium text-blue-800 dark:text-blue-200",children:e}),(0,dn.jsx)("div",{className:"text-blue-600 dark:text-blue-300 mt-1",children:w(e)})]},e))})]})]})})}),(0,dn.jsxs)("div",{className:"flex-1 p-4 md:p-6",children:[(0,dn.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,dn.jsx)(Zl,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"}),(0,dn.jsx)("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Filter Services"})]}),(0,dn.jsx)("div",{className:"space-y-2",children:D.map(e=>(0,dn.jsx)("button",{onClick:()=>s(e.key),className:"w-full text-left px-3 py-2 rounded-lg text-sm transition-colors focus:outline-none focus:ring-2 focus:ring-purple-500 ".concat(a===e.key?"bg-primary-100 dark:bg-primary-900 text-primary-700 dark:text-primary-300 border border-primary-200 dark:border-primary-800":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),tabIndex:0,children:(0,dn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,dn.jsx)("span",{children:e.label}),(0,dn.jsx)("span",{className:"text-xs bg-gray-200 dark:bg-gray-700 px-2 py-1 rounded-full",children:n[e.count]})]})},e.key))})]}),(0,dn.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4 md:p-6",children:[(0,dn.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,dn.jsx)(to,{className:"h-5 w-5 text-gray-500"}),(0,dn.jsx)("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Statistics"})]}),(0,dn.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,dn.jsxs)("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,dn.jsx)("div",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:n.total}),(0,dn.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-300",children:"Total"})]}),(0,dn.jsxs)("div",{className:"text-center p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[(0,dn.jsx)("div",{className:"text-xl font-semibold text-green-600 dark:text-green-400",children:n.enabled}),(0,dn.jsx)("div",{className:"text-xs text-green-600 dark:text-green-400",children:"Enabled"})]}),(0,dn.jsxs)("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,dn.jsx)("div",{className:"text-xl font-semibold text-gray-500 dark:text-gray-300",children:n.disabled}),(0,dn.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-300",children:"Disabled"})]}),(0,dn.jsxs)("div",{className:"text-center p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[(0,dn.jsx)("div",{className:"text-xl font-semibold text-red-600 dark:text-red-400",children:n.withIssues}),(0,dn.jsx)("div",{className:"text-xs text-red-600 dark:text-red-400",children:"Issues"})]})]})]})]})});return(0,dn.jsxs)(dn.Fragment,{children:[window.innerWidth<768&&(0,dn.jsx)(ms.Root,{show:t,as:o.Fragment,children:(0,dn.jsxs)(zl,{as:"div",className:"relative z-50",onClose:r,children:[(0,dn.jsx)(ms.Child,{as:o.Fragment,enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,dn.jsx)("div",{className:"fixed inset-0 bg-gray-900/80"})}),(0,dn.jsx)("div",{className:"fixed inset-0 flex",children:(0,dn.jsx)(ms.Child,{as:o.Fragment,enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",children:(0,dn.jsxs)(zl.Panel,{className:"relative mr-16 flex w-full max-w-xs flex-1",children:[(0,dn.jsx)(ms.Child,{as:o.Fragment,enter:"ease-in-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,dn.jsx)("div",{className:"absolute left-full top-0 flex w-16 justify-center pt-5",children:(0,dn.jsx)("button",{type:"button",className:"-m-2.5 p-2.5",onClick:()=>r(!1),"aria-label":"Close sidebar",children:(0,dn.jsx)(ao,{className:"h-6 w-6 text-white"})})})}),(0,dn.jsx)("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700",children:(0,dn.jsx)(j,{})})]})})})]})}),window.innerWidth>=768&&(0,dn.jsx)(ms,{show:t,as:o.Fragment,children:(0,dn.jsx)(ms.Child,{as:o.Fragment,enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",children:(0,dn.jsx)("div",{className:"fixed left-0 top-16 bottom-0 z-40 w-64 lg:w-72 xl:w-80 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 overflow-y-auto",children:(0,dn.jsx)(j,{})})})}),(0,dn.jsx)(ms,{appear:!0,show:d,as:o.Fragment,children:(0,dn.jsxs)(zl,{as:"div",className:"relative z-50",onClose:()=>m(!1),children:[(0,dn.jsx)(ms.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,dn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,dn.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,dn.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,dn.jsx)(ms.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,dn.jsxs)(zl.Panel,{className:"w-full max-w-3xl transform overflow-hidden rounded-2xl bg-white dark:bg-gray-800 p-6 text-left align-middle shadow-xl transition-all",children:[(0,dn.jsx)(zl.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900 dark:text-white mb-4",children:"JWT Access Token"}),p&&(0,dn.jsxs)("div",{className:"space-y-4",children:[(0,dn.jsxs)("div",{className:"flex space-x-2",children:[(0,dn.jsx)("button",{onClick:async()=>{if(!p)return;const e=JSON.stringify(p,null,2);try{await navigator.clipboard.writeText(e),y(!0),setTimeout(()=>y(!1),2e3)}catch(b){console.error("Failed to copy:",b)}},className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:x?(0,dn.jsxs)(dn.Fragment,{children:[(0,dn.jsx)(oo,{className:"h-4 w-4"}),(0,dn.jsx)("span",{children:"Copied!"})]}):(0,dn.jsxs)(dn.Fragment,{children:[(0,dn.jsx)(co,{className:"h-4 w-4"}),(0,dn.jsx)("span",{children:"Copy JSON"})]})}),(0,dn.jsxs)("button",{onClick:()=>{if(!p)return;const e=JSON.stringify(p,null,2),t=new Blob([e],{type:"application/json"}),r=URL.createObjectURL(t),n=document.createElement("a");n.href=r,n.download="mcp-registry-api-tokens-".concat((new Date).toISOString().split("T")[0],".json"),document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)},className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[(0,dn.jsx)(ho,{className:"h-4 w-4"}),(0,dn.jsx)("span",{children:"Download JSON"})]})]}),(0,dn.jsx)("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4 max-h-96 overflow-y-auto",children:(0,dn.jsx)("pre",{className:"text-xs text-gray-800 dark:text-gray-200 whitespace-pre-wrap break-all",children:JSON.stringify(p,null,2)})}),(0,dn.jsx)("div",{className:"flex justify-end",children:(0,dn.jsx)("button",{onClick:()=>m(!1),className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors text-sm",children:"Close"})})]})]})})})})]})})]})},fo={deployment_mode:"with-gateway",registry_mode:"full",nginx_updates_enabled:!0,features:{mcp_servers:!0,agents:!0,skills:!0,federation:!0,gateway_proxy:!0}};let xo=null;function yo(){const[e,t]=(0,o.useState)(xo),[r,n]=(0,o.useState)(!xo),[a,s]=(0,o.useState)(null);return(0,o.useEffect)(()=>{xo||(n(!0),cn.get("/api/config").then(e=>{xo=e.data,t(e.data),s(null)}).catch(e=>{console.error("Failed to load registry config:",e),s(e),t(fo)}).finally(()=>n(!1)))},[]),{config:e,loading:r,error:a}}const bo=()=>{const[e,t]=(0,o.useState)({total:0,enabled:0,disabled:0,withIssues:0}),[r,n]=(0,o.useState)([]),[a,s]=(0,o.useState)([]),[l,i]=(0,o.useState)("all"),[u,c]=(0,o.useState)(!0),[d,m]=(0,o.useState)(null),{config:p}=yo(),h=(0,o.useCallback)(async()=>{try{c(!0),m(null);const e=!1!==(null===p||void 0===p?void 0:p.features.mcp_servers),r=!1!==(null===p||void 0===p?void 0:p.features.agents),a=!1!==(null===p||void 0===p?void 0:p.features.skills),l=[];e?l.push(cn.get("/api/servers").catch(()=>({data:{servers:[]}}))):l.push(Promise.resolve({data:{servers:[]}})),r?l.push(cn.get("/api/agents").catch(()=>({data:{agents:[]}}))):l.push(Promise.resolve({data:{agents:[]}})),a?l.push(cn.get("/api/skills?include_disabled=true").catch(()=>({data:{skills:[]}}))):l.push(Promise.resolve({data:{skills:[]}}));const[o,i,u]=await Promise.all(l),d=(o.data||{}).servers||[],h=(i.data||{}).agents||[],g=(u.data||{}).skills||[];console.log("\ud83d\udd0d Server filtering debug info:"),console.log("\ud83d\udcca Total servers returned from API: ".concat(d.length)),console.log("\ud83d\udccb Server list:",d.map(e=>({name:e.display_name,path:e.path,enabled:e.is_enabled}))),console.log("\ud83d\udcca Total agents returned from API: ".concat(h.length)),console.log("\ud83d\udccb Agent list:",h.map(e=>({name:e.name,path:e.path,enabled:e.is_enabled})));const f=d.map(e=>{console.log("\ud83d\udd50 Server ".concat(e.display_name,": last_checked_iso ="),e.last_checked_iso);const t={name:e.display_name||"Unknown Server",path:e.path,description:e.description||"",official:e.is_official||!1,enabled:void 0!==e.is_enabled&&e.is_enabled,tags:e.tags||[],last_checked_time:e.last_checked_iso,usersCount:0,rating:0,status:(r=e.health_status||"unknown",r&&"unknown"!==r?"healthy"===r?"healthy":r.includes("unhealthy")||r.includes("error")||r.includes("timeout")?"unhealthy":"unknown":"unknown"),num_tools:e.num_tools||0,type:"server",proxy_pass_url:e.proxy_pass_url||"",version:e.version,versions:e.versions,default_version:e.default_version,mcp_server_version:e.mcp_server_version,mcp_server_version_previous:e.mcp_server_version_previous,mcp_server_version_updated_at:e.mcp_server_version_updated_at,sync_metadata:e.sync_metadata,auth_scheme:e.auth_scheme,auth_header_name:e.auth_header_name};var r;return console.log("\ud83d\udd04 Transformed server ".concat(t.name,":"),{last_checked_time:t.last_checked_time,status:t.status,enabled:t.enabled}),t}),x=h.map(e=>{const t={name:e.name||"Unknown Agent",path:e.path,description:e.description||"",official:!1,enabled:void 0!==e.is_enabled&&e.is_enabled,tags:e.tags||[],last_checked_time:void 0,usersCount:0,rating:e.num_stars||0,status:"unknown",num_tools:e.num_skills||0,type:"agent",sync_metadata:e.sync_metadata,registered_by:e.registered_by||e.registeredBy||null};return console.log("\ud83d\udd04 Transformed agent ".concat(t.name,":"),{enabled:t.enabled,num_skills:t.num_tools}),t});n(f),s(x);let y=0,b=0,v=0,D=0;e&&f.forEach(e=>{y++,e.enabled?b++:v++,"unhealthy"===e.status&&D++}),r&&x.forEach(e=>{y++,e.enabled?b++:v++,"unhealthy"===e.status&&D++}),a&&g.forEach(e=>{y++,!1!==e.is_enabled?b++:v++});const k={total:y,enabled:b,disabled:v,withIssues:D};console.log("Calculated stats (servers + agents + skills):",k),t(k)}catch(a){var e,r;console.error("Failed to fetch data:",a),m((null===(e=a.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.detail)||"Failed to fetch data"),n([]),s([]),t({total:0,enabled:0,disabled:0,withIssues:0})}finally{c(!1)}},[p]);return(0,o.useEffect)(()=>{h()},[h]),{stats:e,servers:r,agents:a,setServers:n,setAgents:s,activeFilter:l,setActiveFilter:i,loading:u,error:d,refreshData:h}},vo=r.p+"static/media/logo.9208f8b33399c1bbac8a.png",Do=e=>{let{children:t}=e;const[r,n]=(0,o.useState)(!0),[a,s]=(0,o.useState)(null),{user:l,logout:i}=pn(),{stats:u,activeFilter:c,setActiveFilter:d}=bo();(0,o.useEffect)(()=>{fetch("/api/version").then(e=>e.json()).then(e=>s(e.version)).catch(e=>console.error("Failed to fetch version:",e))},[]);const m=async()=>{try{await i()}catch(e){console.error("Logout failed:",e)}};return(0,dn.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 overflow-hidden",children:[(0,dn.jsx)("header",{className:"fixed top-0 left-0 right-0 z-50 bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:(0,dn.jsx)("div",{className:"px-4 sm:px-6 lg:px-8",children:(0,dn.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,dn.jsxs)("div",{className:"flex items-center",children:[(0,dn.jsx)("button",{type:"button",className:"p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-500 mr-2",onClick:()=>{console.log("Toggle clicked, current state:",r),n(!r)},children:(0,dn.jsx)(gs,{className:"h-6 w-6"})}),(0,dn.jsx)("div",{className:"flex items-center ml-2 md:ml-0",children:(0,dn.jsxs)(Re,{to:"/",className:"flex items-center hover:opacity-80 transition-opacity",children:[(0,dn.jsx)("img",{src:vo,alt:"MCP Servers & A2A Agents Registry Logo",className:"h-8 w-8 dark:brightness-0 dark:invert"}),(0,dn.jsx)("span",{className:"ml-2 text-xl font-bold text-gray-900 dark:text-white",children:"MCP Servers & A2A Agents Registry"})]})})]}),(0,dn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,dn.jsx)("a",{href:"https://github.com/agentic-community/mcp-gateway-registry",target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-400 hover:text-gray-500 dark:text-gray-300 dark:hover:text-gray-100 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",title:"View on GitHub",children:(0,dn.jsx)("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,dn.jsx)("path",{fillRule:"evenodd",d:"M10 0C4.477 0 0 4.484 0 10.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0110 4.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.203 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.942.359.31.678.921.678 1.856 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0020 10.017C20 4.484 15.522 0 10 0z",clipRule:"evenodd"})})}),a&&(0,dn.jsx)("div",{className:"hidden md:flex items-center px-2.5 py-1 bg-purple-50 dark:bg-purple-900/20 rounded-md",children:(0,dn.jsx)("span",{className:"text-xs font-medium text-purple-700 dark:text-purple-300",children:a})}),(null===l||void 0===l?void 0:l.is_admin)&&(0,dn.jsx)(Re,{to:"/settings",className:"p-2 text-gray-400 hover:text-gray-500 dark:text-gray-300 dark:hover:text-gray-100 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",title:"Settings",children:(0,dn.jsx)(ys,{className:"h-5 w-5"})}),(0,dn.jsxs)(Ka,{as:"div",className:"relative",children:[(0,dn.jsx)("div",{children:(0,dn.jsxs)(Ka.Button,{className:"flex items-center space-x-3 text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 p-2 hover:bg-gray-100 dark:hover:bg-gray-700",children:[(0,dn.jsx)("div",{className:"h-8 w-8 rounded-full bg-purple-100 dark:bg-purple-800 flex items-center justify-center",children:(0,dn.jsx)(Ds,{className:"h-5 w-5 text-purple-600 dark:text-purple-300"})}),(0,dn.jsx)("span",{className:"hidden md:block text-gray-700 dark:text-gray-100 font-medium",children:(null===l||void 0===l?void 0:l.username)||"Admin"}),(0,dn.jsx)(Cs,{className:"h-4 w-4 text-gray-400"})]})}),(0,dn.jsx)(ms,{as:o.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,dn.jsx)(Ka.Items,{className:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white dark:bg-gray-800 py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:(0,dn.jsx)(Ka.Item,{children:e=>{let{active:t}=e;return(0,dn.jsxs)("button",{onClick:m,className:"".concat(t?"bg-gray-100 dark:bg-gray-800":""," flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-100"),children:[(0,dn.jsx)(Ns,{className:"mr-3 h-4 w-4"}),"Sign out"]})}})})})]})]})]})})}),(0,dn.jsxs)("div",{className:"flex h-screen pt-16",children:[(0,dn.jsx)(go,{sidebarOpen:r,setSidebarOpen:n,stats:u,activeFilter:c,setActiveFilter:d}),(0,dn.jsx)("main",{className:"flex-1 flex flex-col transition-all duration-300 ".concat(r?"md:ml-64 lg:ml-72 xl:ml-80":""),children:(0,dn.jsx)("div",{className:"flex-1 flex flex-col px-4 sm:px-6 lg:px-8 py-4 md:py-8 overflow-y-auto",children:o.cloneElement(t,{activeFilter:c})})})]})]})},ko=["title","titleId"];function wo(e,t){let{title:r,titleId:n}=e,a=xn(e,ko);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Co=o.forwardRef(wo),jo=["title","titleId"];function Fo(e,t){let{title:r,titleId:n}=e,a=xn(e,jo);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const No=o.forwardRef(Fo),Eo=["title","titleId"];function Ao(e,t){let{title:r,titleId:n}=e,a=xn(e,Eo);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const So=o.forwardRef(Ao),_o=["title","titleId"];function Bo(e,t){let{title:r,titleId:n}=e,a=xn(e,_o);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const To=o.forwardRef(Bo),Lo=["title","titleId"];function Ro(e,t){let{title:r,titleId:n}=e,a=xn(e,Lo);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const Po=o.forwardRef(Ro),Oo=["title","titleId"];function Io(e,t){let{title:r,titleId:n}=e,a=xn(e,Oo);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Mo=o.forwardRef(Io),zo=["title","titleId"];function Uo(e,t){let{title:r,titleId:n}=e,a=xn(e,zo);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Ho=o.forwardRef(Uo);const Vo=["title","titleId"];function Wo(e,t){let{title:r,titleId:n}=e,a=xn(e,Vo);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const qo=o.forwardRef(Wo),Ko=["title","titleId"];function $o(e,t){let{title:r,titleId:n}=e,a=xn(e,Ko);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m0-10.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.75c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.57-.598-3.75h-.152c-3.196 0-6.1-1.25-8.25-3.286Zm0 13.036h.008v.008H12v-.008Z"}))}const Jo=o.forwardRef($o),Qo=["title","titleId"];function Go(e,t){let{title:r,titleId:n}=e,a=xn(e,Qo);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const Yo=o.forwardRef(Go),Zo=["title","titleId"];function Xo(e,t){let{title:r,titleId:n}=e,a=xn(e,Zo);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))}const ei=o.forwardRef(Xo),ti=["title","titleId"];function ri(e,t){let{title:r,titleId:n}=e,a=xn(e,ti);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const ni=o.forwardRef(ri),ai=["title","titleId"];function si(e,t){let{title:r,titleId:n}=e,a=xn(e,ai);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.42 15.17 17.25 21A2.652 2.652 0 0 0 21 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 1 1-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 0 0 4.486-6.336l-3.276 3.277a3.004 3.004 0 0 1-2.25-2.25l3.276-3.276a4.5 4.5 0 0 0-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085m-1.745 1.437L5.909 7.5H4.5L2.25 3.75l1.5-1.5L7.5 4.5v1.409l4.26 4.26m-1.745 1.437 1.745-1.437m6.615 8.206L15.75 15.75M4.867 19.125h.008v.008h-.008v-.008Z"}))}const li=o.forwardRef(si),oi=["title","titleId"];function ii(e,t){let{title:r,titleId:n}=e,a=xn(e,oi);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const ui=o.forwardRef(ii),ci=["title","titleId"];function di(e,t){let{title:r,titleId:n}=e,a=xn(e,ci);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const mi=o.forwardRef(di),pi=e=>{let{server:t,isOpen:r,onClose:n,onShowToast:a}=e;const[s,l]=(0,o.useState)("cursor"),[i,u]=(0,o.useState)(null),[c,d]=(0,o.useState)(!1),[m,p]=(0,o.useState)(null),[h,g]=(0,o.useState)(!1),{config:f,loading:x}=yo(),y=!x&&"registry-only"===(null===f||void 0===f?void 0:f.deployment_mode);(0,o.useEffect)(()=>{r&&!y&&(u(null),p(null),b())},[r,y]);const b=async()=>{d(!0),p(null);try{const t=await cn.post("/api/tokens/generate",{description:"Generated for MCP configuration",expires_in_hours:8},{headers:{"Content-Type":"application/json"}});if(t.data.success){var e;const r=(null===(e=t.data.tokens)||void 0===e?void 0:e.access_token)||t.data.access_token;r?u(r):p("Token not found in response")}else p("Token generation failed")}catch(a){var t,r,n;const e=null===(t=a.response)||void 0===t?void 0:t.status,s=(null===(r=a.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.detail)||a.message||"Failed to generate token";p(401===e||403===e?"Authentication required. Please log in first.":s),console.error("Failed to fetch JWT token:",a)}finally{d(!1)}},v=(0,o.useCallback)(()=>{const e=t.name.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");let r;if(t.mcp_endpoint)r=t.mcp_endpoint;else if(y&&t.proxy_pass_url)r=t.proxy_pass_url;else{const e=new URL(window.location.origin),n="".concat(e.protocol,"//").concat(e.hostname),a=t.path.replace(/\/+$/,"").replace(/^\/+/,"/");r="".concat(n).concat(a,"/mcp")}const n=!y,a=i||"[YOUR_GATEWAY_AUTH_TOKEN]",l=()=>{const e={};if(e["X-Authorization"]="Bearer ".concat(a),t.auth_scheme&&"none"!==t.auth_scheme)if("bearer"===t.auth_scheme)e.Authorization="Bearer [YOUR_SERVER_AUTH_TOKEN]";else if("api_key"===t.auth_scheme){e[t.auth_header_name||"X-API-Key"]="[YOUR_API_KEY]"}return e};switch(s){case"cursor":return{mcpServers:{[e]:qt({url:r},n&&{headers:l()})}};case"roo-code":return{mcpServers:{[e]:qt({type:"streamable-http",url:r,disabled:!1},n&&{headers:l()})}};case"claude-code":return{mcpServers:{[e]:qt({type:"http",url:r},n&&{headers:l()})}};case"kiro":return{mcpServers:{[e]:qt({type:"http",url:r},n&&{headers:l()})}};default:return{mcpServers:{[e]:qt({url:r},n&&{headers:l()})}}}},[t.name,t.path,t.proxy_pass_url,t.mcp_endpoint,t.auth_scheme,t.auth_header_name,s,y,i]),D=(0,o.useCallback)(()=>{const e=t.name.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");let r;if(t.mcp_endpoint)r=t.mcp_endpoint;else if(y&&t.proxy_pass_url)r=t.proxy_pass_url;else{const e=new URL(window.location.origin),n="".concat(e.protocol,"//").concat(e.hostname),a=t.path.replace(/\/+$/,"").replace(/^\/+/,"/");r="".concat(n).concat(a,"/mcp")}const n=!y,a=i||"[YOUR_GATEWAY_AUTH_TOKEN]";let s="claude mcp add --transport http ".concat(e," ").concat(r);if(n&&(s+=' \\\n  --header "X-Authorization: Bearer '.concat(a,'"'),t.auth_scheme&&"none"!==t.auth_scheme))if("bearer"===t.auth_scheme)s+=' \\\n  --header "Authorization: Bearer [YOUR_SERVER_AUTH_TOKEN]"';else if("api_key"===t.auth_scheme){const e=t.auth_header_name||"X-API-Key";s+=' \\\n  --header "'.concat(e,': [YOUR_API_KEY]"')}return s},[t.name,t.path,t.proxy_pass_url,t.mcp_endpoint,t.auth_scheme,t.auth_header_name,y,i]),k=(0,o.useCallback)(()=>{const e=t.name.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");let r;if(t.mcp_endpoint)r=t.mcp_endpoint;else if(y&&t.proxy_pass_url)r=t.proxy_pass_url;else{const e=new URL(window.location.origin),n="".concat(e.protocol,"//").concat(e.hostname),a=t.path.replace(/\/+$/,"").replace(/^\/+/,"/");r="".concat(n).concat(a,"/mcp")}return"kiro-cli mcp add --name ".concat(e," --url ").concat(r," --scope global --force")},[t.name,t.path,t.proxy_pass_url,t.mcp_endpoint,y]),w=(0,o.useCallback)(async()=>{try{const e=v(),t=JSON.stringify(e,null,2);await navigator.clipboard.writeText(t),g(!0),setTimeout(()=>g(!1),2e3),null===a||void 0===a||a("Configuration copied to clipboard!","success")}catch(e){console.error("Failed to copy to clipboard:",e),null===a||void 0===a||a("Failed to copy configuration","error")}},[v,a]),C=(0,o.useCallback)(async()=>{try{const e="claude-code"===s?D():k();await navigator.clipboard.writeText(e),g(!0),setTimeout(()=>g(!1),2e3),null===a||void 0===a||a("Command copied to clipboard!","success")}catch(e){console.error("Failed to copy to clipboard:",e),null===a||void 0===a||a("Failed to copy command","error")}},[s,D,k,a]);return r?(0,dn.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,dn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 max-w-3xl w-full mx-4 max-h-[80vh] overflow-auto",children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,dn.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["MCP Configuration for ",t.name]}),(0,dn.jsx)("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"\u2715"})]}),(0,dn.jsxs)("div",{className:"space-y-4",children:[(0,dn.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[(0,dn.jsx)("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"How to use this configuration:"}),(0,dn.jsxs)("ol",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1 list-decimal list-inside",children:[(0,dn.jsx)("li",{children:"Copy the configuration below"}),(0,dn.jsxs)("li",{children:["Paste it into your ",(0,dn.jsx)("code",{className:"bg-blue-100 dark:bg-blue-800 px-1 rounded",children:"mcp.json"})," file"]}),!y&&!i&&(0,dn.jsxs)("li",{children:["Replace ",(0,dn.jsx)("code",{className:"bg-blue-100 dark:bg-blue-800 px-1 rounded",children:"[YOUR_AUTH_TOKEN]"})," with your gateway authentication token (or wait for auto-generation)"]}),(0,dn.jsx)("li",{children:"Restart your AI coding assistant to load the new configuration"})]})]}),y?(0,dn.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[(0,dn.jsx)("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Direct Connection Mode"}),(0,dn.jsx)("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:"This registry operates in catalog-only mode. The configuration connects directly to the MCP server endpoint without going through a gateway proxy."}),(0,dn.jsxs)("p",{className:"text-sm text-blue-800 dark:text-blue-200 mt-2",children:[(0,dn.jsx)("strong",{children:"Note:"})," The MCP server may still require authentication (API key, auth header, etc.). Check the server's documentation to determine if any credentials are needed."]})]}):(0,dn.jsxs)("div",{className:"border rounded-lg p-4 ".concat(i?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":m?"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800":"bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800"),children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,dn.jsx)("h4",{className:"font-medium ".concat(i?"text-green-900 dark:text-green-100":m?"text-red-900 dark:text-red-100":"text-amber-900 dark:text-amber-100"),children:c?"Fetching Token...":i?"Token Ready - Copy and Paste!":m?"Token Generation Failed":"Authentication Required"}),!c&&(0,dn.jsxs)("button",{onClick:b,className:"flex items-center gap-1 px-2 py-1 text-xs bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors",title:"Generate new token",children:[(0,dn.jsx)(Kl,{className:"h-3 w-3"}),i?"Refresh":"Get Token"]})]}),c?(0,dn.jsx)("p",{className:"text-sm text-amber-800 dark:text-amber-200",children:"Generating JWT token for your configuration..."}):i?(0,dn.jsx)("p",{className:"text-sm text-green-800 dark:text-green-200",children:"JWT token has been automatically added to the configuration below. You can copy and paste it directly into your mcp.json file. Token expires in 8 hours."}):m?(0,dn.jsxs)("p",{className:"text-sm text-red-800 dark:text-red-200",children:[m,'. Click "Get Token" to retry, or manually replace [YOUR_AUTH_TOKEN] with your gateway token.']}):(0,dn.jsx)("p",{className:"text-sm text-amber-800 dark:text-amber-200",children:"This configuration requires gateway authentication tokens. The tokens authenticate your AI assistant with the MCP Gateway, not the individual server."})]}),t.mcp_endpoint&&(0,dn.jsxs)("div",{className:"bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-lg p-4",children:[(0,dn.jsx)("h4",{className:"font-medium text-purple-900 dark:text-purple-100 mb-2",children:"Custom Endpoint Configured"}),(0,dn.jsxs)("p",{className:"text-sm text-purple-800 dark:text-purple-200",children:["This server uses a custom MCP endpoint:"," ",(0,dn.jsx)("code",{className:"bg-purple-100 dark:bg-purple-800 px-1 rounded break-all",children:t.mcp_endpoint})]})]}),(0,dn.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900 border dark:border-gray-700 rounded-lg p-4",children:[(0,dn.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Select your IDE/Tool:"}),(0,dn.jsx)("div",{className:"flex flex-wrap gap-2",children:["cursor","roo-code","claude-code","kiro"].map(e=>(0,dn.jsx)("button",{onClick:()=>l(e),className:"px-3 py-2 rounded-lg text-sm font-medium transition-colors ".concat(s===e?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"),children:"cursor"===e?"Cursor":"roo-code"===e?"Roo Code":"claude-code"===e?"Claude Code":"Kiro"},e))}),(0,dn.jsxs)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-2",children:["Configuration format optimized for"," ","cursor"===s?"Cursor":"roo-code"===s?"Roo Code":"claude-code"===s?"Claude Code":"Kiro"," ","integration"]})]}),"claude-code"===s||"kiro"===s?(0,dn.jsxs)("div",{className:"space-y-2",children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,dn.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:"CLI Command:"}),(0,dn.jsxs)("button",{onClick:C,className:"flex items-center gap-2 px-3 py-2 text-white rounded-lg transition-colors duration-200 ".concat(h?"bg-green-700":"bg-green-600 hover:bg-green-700"),children:[(0,dn.jsx)(mi,{className:"h-4 w-4"}),h?"Copied!":"Copy Command"]})]}),(0,dn.jsx)("pre",{className:"bg-gray-900 text-green-100 p-4 rounded-lg text-sm overflow-x-auto whitespace-pre-wrap break-all",children:"claude-code"===s?D():k()}),(0,dn.jsxs)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-2",children:["Run this command in your terminal to add the MCP server to ","claude-code"===s?"Claude Code":"Kiro","."]}),"kiro"===s&&!y&&(0,dn.jsxs)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-3 mt-2",children:[(0,dn.jsxs)("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[(0,dn.jsx)("strong",{children:"Note:"})," After running this command, you'll need to manually add authentication headers to ",(0,dn.jsx)("code",{className:"bg-yellow-100 dark:bg-yellow-800 px-1 rounded",children:"~/.kiro/mcp.json"}),":"]}),(0,dn.jsx)("pre",{className:"bg-yellow-100 dark:bg-yellow-800 text-yellow-900 dark:text-yellow-100 p-2 rounded mt-2 text-xs overflow-x-auto",children:'"headers": {\n  "X-Authorization": "Bearer '.concat(i||"[YOUR_GATEWAY_AUTH_TOKEN]",'",').concat("bearer"===t.auth_scheme?'\n  "Authorization": "Bearer [YOUR_SERVER_AUTH_TOKEN]"':"api_key"===t.auth_scheme?'\n  "'.concat(t.auth_header_name||"X-API-Key",'": "[YOUR_API_KEY]"'):"","\n}")})]})]}):(0,dn.jsxs)("div",{className:"space-y-2",children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,dn.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Configuration JSON:"}),(0,dn.jsxs)("button",{onClick:w,className:"flex items-center gap-2 px-3 py-2 text-white rounded-lg transition-colors duration-200 ".concat(h?"bg-green-700":"bg-green-600 hover:bg-green-700"),children:[(0,dn.jsx)(mi,{className:"h-4 w-4"}),h?"Copied!":"Copy to Clipboard"]})]}),(0,dn.jsx)("pre",{className:"bg-gray-900 text-green-100 p-4 rounded-lg text-sm overflow-x-auto",children:JSON.stringify(v(),null,2)})]})]})]})}):null},hi=["title","titleId"];function gi(e,t){let{title:r,titleId:n}=e,a=xn(e,hi);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const fi=o.forwardRef(gi),xi={critical:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400 border-red-200 dark:border-red-700",high:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400 border-orange-200 dark:border-orange-700",medium:"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400 border-amber-200 dark:border-amber-700",low:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400 border-blue-200 dark:border-blue-700"},yi=e=>{switch(e){case"green":return"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800";case"amber":return"bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800";case"red":return"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800";default:return"bg-gray-50 dark:bg-gray-900/20 border-gray-200 dark:border-gray-700"}},bi=e=>{switch(e){case"green":return"text-green-600 dark:text-green-400";case"amber":return"text-amber-600 dark:text-amber-400";case"red":return"text-red-600 dark:text-red-400";default:return"text-gray-500 dark:text-gray-400"}},vi=e=>{switch(e.toLowerCase()){case"critical":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";case"high":return"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400";case"medium":return"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400";default:return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400"}},Di=e=>{var t,r,n,a;let{resourceName:s,resourceType:l,isOpen:i,onClose:u,loading:c,scanResult:d,onRescan:m,canRescan:p,onShowToast:h}=e;const[g,f]=(0,o.useState)(!1),[x,y]=(0,o.useState)(new Set),[b,v]=(0,o.useState)(!1);if(!i)return null;const D=async()=>{if(m&&!b){v(!0);try{await m(),null===h||void 0===h||h("Security scan completed","success")}catch(e){null===h||void 0===h||h("Failed to rescan","error")}finally{v(!1)}}},k=(e=>e?e.scan_failed?{icon:fi,color:"red",text:"Scan Failed"}:e.critical_issues>0||e.high_severity>0?{icon:fi,color:"red",text:"UNSAFE"}:e.medium_severity>0||e.low_severity>0?{icon:Jo,color:"amber",text:"WARNING"}:{icon:qo,color:"green",text:"SAFE"}:{icon:qo,color:"gray",text:"No Scan Data"})(d),w=k.icon,C=[{label:"CRITICAL",count:null!==(t=null===d||void 0===d?void 0:d.critical_issues)&&void 0!==t?t:0,key:"critical"},{label:"HIGH",count:null!==(r=null===d||void 0===d?void 0:d.high_severity)&&void 0!==r?r:0,key:"high"},{label:"MEDIUM",count:null!==(n=null===d||void 0===d?void 0:d.medium_severity)&&void 0!==n?n:0,key:"medium"},{label:"LOW",count:null!==(a=null===d||void 0===d?void 0:d.low_severity)&&void 0!==a?a:0,key:"low"}];return(0,dn.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,dn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 max-w-3xl w-full mx-4 max-h-[85vh] overflow-auto",children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,dn.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Security Scan Results - ",s]}),(0,dn.jsx)("button",{onClick:u,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 p-1","aria-label":"Close",children:(0,dn.jsx)("span",{className:"text-xl",children:"\xd7"})})]}),c?(0,dn.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,dn.jsx)(Po,{className:"h-8 w-8 animate-spin text-gray-400"}),(0,dn.jsx)("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Loading scan results..."})]}):d?(0,dn.jsxs)("div",{className:"space-y-6",children:[(0,dn.jsxs)("div",{className:"p-4 rounded-lg border ".concat(yi(k.color)),children:[(0,dn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,dn.jsx)(w,{className:"h-8 w-8 ".concat(bi(k.color))}),(0,dn.jsxs)("div",{children:[(0,dn.jsxs)("div",{className:"font-semibold text-gray-900 dark:text-white",children:["Overall Status: ",k.text]}),(0,dn.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Scanned: ",new Date(d.scan_timestamp).toLocaleString()]})]})]}),d.scan_failed&&d.error_message&&(0,dn.jsxs)("div",{className:"mt-3 p-3 bg-red-100 dark:bg-red-900/30 rounded text-sm text-red-800 dark:text-red-300",children:["Error: ",d.error_message]})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Severity Summary"}),(0,dn.jsx)("div",{className:"grid grid-cols-4 gap-3",children:C.map(e=>(0,dn.jsxs)("div",{className:"p-3 rounded-lg border text-center ".concat(xi[e.key]),children:[(0,dn.jsx)("div",{className:"text-xs font-medium opacity-75",children:e.label}),(0,dn.jsx)("div",{className:"text-2xl font-bold",children:e.count})]},e.key))})]}),d.analyzers_used&&d.analyzers_used.length>0&&(0,dn.jsxs)("div",{children:[(0,dn.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Analyzers Used"}),(0,dn.jsx)("div",{className:"flex flex-wrap gap-2",children:d.analyzers_used.map(e=>(0,dn.jsx)("span",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full text-sm font-medium",children:e.toUpperCase()},e))})]}),d.raw_output&&d.raw_output.analysis_results&&(0,dn.jsxs)("div",{children:[(0,dn.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Detailed Findings"}),(0,dn.jsx)("div",{className:"border dark:border-gray-700 rounded-lg overflow-hidden",children:Object.entries(d.raw_output.analysis_results).map(e=>{let[t,r]=e;const n=Array.isArray(r)?r:(null===r||void 0===r?void 0:r.findings)||[],a=Array.isArray(n)?n.length:0;return(0,dn.jsxs)("div",{className:"border-b dark:border-gray-700 last:border-b-0",children:[(0,dn.jsxs)("button",{onClick:()=>(e=>{const t=new Set(x);t.has(e)?t.delete(e):t.add(e),y(t)})(t),className:"w-full flex items-center justify-between p-3 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors","aria-expanded":x.has(t),children:[(0,dn.jsxs)("span",{className:"font-medium text-gray-900 dark:text-white",children:[t.charAt(0).toUpperCase()+t.slice(1).replace(/_/g," ")," Analysis",(0,dn.jsxs)("span",{className:"ml-2 text-sm text-gray-500",children:["(",a," finding",1!==a?"s":"",")"]})]}),x.has(t)?(0,dn.jsx)(Cs,{className:"h-5 w-5 text-gray-500"}):(0,dn.jsx)(To,{className:"h-5 w-5 text-gray-500"})]}),Array.isArray(n)&&n.length>0&&!x.has(t)&&(0,dn.jsx)("div",{className:"px-3 pb-3",children:(0,dn.jsx)("div",{className:"space-y-2",children:n.map((e,t)=>{const r=e.threat_summary||e.description||e.message||e.detail||e.reason||(e.threat_names&&e.threat_names.length>0?e.threat_names.join(", "):null),n=e.title||e.tool_name||e.skill_name||e.name||e.rule_id;return(0,dn.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-900/30 rounded border dark:border-gray-700",children:[(0,dn.jsxs)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:[n||r||"Finding",r&&n&&(0,dn.jsxs)("span",{className:"text-gray-500 dark:text-gray-400 ml-2",children:["- ",r.length>60?r.substring(0,60)+"...":r]}),!n&&r&&r.length>80&&(0,dn.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"..."})]}),(0,dn.jsx)("span",{className:"px-2 py-0.5 text-xs font-semibold rounded ".concat(vi(e.severity)),children:e.severity})]},t)})})}),x.has(t)&&(0,dn.jsx)("div",{className:"p-3 bg-gray-50 dark:bg-gray-900/30 border-t dark:border-gray-700",children:Array.isArray(n)&&n.length>0?(0,dn.jsx)("div",{className:"space-y-3",children:n.map((e,t)=>{const r=e.title||e.tool_name||e.skill_name||e.name||"Finding",n=e.description||e.threat_summary||e.message;return(0,dn.jsxs)("div",{className:"p-3 bg-white dark:bg-gray-800 rounded border dark:border-gray-700",children:[(0,dn.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,dn.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:r}),(0,dn.jsx)("span",{className:"px-2 py-0.5 text-xs font-semibold rounded ".concat(vi(e.severity)),children:e.severity})]}),n&&(0,dn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:n}),e.remediation&&(0,dn.jsxs)("p",{className:"text-sm text-blue-600 dark:text-blue-400 mb-2",children:[(0,dn.jsx)("span",{className:"font-medium",children:"Fix: "}),e.remediation]}),e.file_path&&(0,dn.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.file_path,e.line_number?":".concat(e.line_number):""]}),e.threat_names&&e.threat_names.length>0&&(0,dn.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:e.threat_names.map((e,t)=>(0,dn.jsx)("span",{className:"px-2 py-0.5 text-xs bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded",children:e},t))})]},t)})}):(0,dn.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No findings from this analyzer."})})]},t)})})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsxs)("button",{onClick:()=>f(!g),className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:[g?"Hide":"View"," Raw JSON"]}),g&&(0,dn.jsx)("pre",{className:"mt-2 p-4 bg-gray-50 dark:bg-gray-900 border dark:border-gray-700 rounded-lg overflow-x-auto text-xs text-gray-900 dark:text-gray-100 max-h-[30vh] overflow-y-auto",children:JSON.stringify(d,null,2)})]}),(0,dn.jsxs)("div",{className:"flex items-center justify-end gap-3 pt-4 border-t dark:border-gray-700",children:[(0,dn.jsxs)("button",{onClick:async()=>{try{await navigator.clipboard.writeText(JSON.stringify(d,null,2)),null===h||void 0===h||h("Security scan results copied to clipboard!","success")}catch(e){console.error("Failed to copy:",e),null===h||void 0===h||h("Failed to copy results","error")}},className:"flex items-center gap-2 px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[(0,dn.jsx)(mi,{className:"h-4 w-4"}),"Copy Results"]}),p&&m&&(0,dn.jsxs)("button",{onClick:D,disabled:b,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg disabled:opacity-50 transition-colors",children:[(0,dn.jsx)(Po,{className:"h-4 w-4 ".concat(b?"animate-spin":"")}),b?"Scanning...":"Rescan"]})]})]}):(0,dn.jsxs)("div",{className:"text-center py-12",children:[(0,dn.jsx)(qo,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),(0,dn.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:["No security scan results available for this ",l,"."]}),p&&m&&(0,dn.jsx)("button",{onClick:D,disabled:b,className:"mt-4 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg disabled:opacity-50",children:b?"Scanning...":"Run Security Scan"})]})]})})},ki=["title","titleId"];function wi(e,t){let{title:r,titleId:n}=e,a=xn(e,ki);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))}const Ci=o.forwardRef(wi),ji=["title","titleId"];function Fi(e,t){let{title:r,titleId:n}=e,a=xn(e,ji);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const Ni=o.forwardRef(Fi),Ei=e=>{let{resourceType:t,path:r,initialRating:n=0,initialCount:a=0,authToken:s,onShowToast:l,onRatingUpdate:i}=e;const[u,c]=(0,o.useState)(!1),[d,m]=(0,o.useState)(null),[p,h]=(0,o.useState)(null),[g,f]=(0,o.useState)(null),[x,y]=(0,o.useState)(n),[b,v]=(0,o.useState)(a),[D,k]=(0,o.useState)(!1),[w,C]=(0,o.useState)(!1),j=(0,o.useRef)(null);(0,o.useEffect)(()=>{F()},[t,r]),(0,o.useEffect)(()=>{const e=e=>{j.current&&!j.current.contains(e.target)&&c(!1)};return u&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[u]);const F=async()=>{try{const e=s?{Authorization:"Bearer ".concat(s)}:void 0,n="/api/".concat(t).concat(r,"/rating"),a=await cn.get(n,e?{headers:e}:void 0);if(y(a.data.num_stars),v(a.data.rating_details.length),a.data.rating_details&&a.data.rating_details.length>0){const e=a.data.rating_details[0];e&&(f(e.rating),m(e.rating))}}catch(e){console.error("Failed to load rating:",e)}},N=function(e,t){const r="small"===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"large")?"h-4 w-4":"h-6 w-6",n=t?Ci:Ni;return(0,dn.jsx)(n,{className:"".concat(r," ").concat(t?"text-yellow-400":"text-gray-300 dark:text-gray-600")})},E=null!==p?p:d||g||0;return(0,dn.jsxs)("div",{className:"relative",ref:j,children:[(0,dn.jsxs)("button",{onClick:()=>c(!u),className:"flex items-center gap-2 hover:bg-yellow-50 dark:hover:bg-yellow-900/20 p-2 rounded-lg transition-colors duration-200",title:"Click to rate this ".concat(t.slice(0,-1)),"aria-label":"Rate this ".concat(t.slice(0,-1)),"aria-expanded":u,"aria-haspopup":"dialog",children:[(0,dn.jsx)("div",{className:"p-1.5 bg-yellow-50 dark:bg-yellow-900/30 rounded",children:(0,dn.jsx)(Ci,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"})}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:x>0?x.toFixed(1):"0"}),(0,dn.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:0===b?"No ratings":"".concat(b," rating").concat(1!==b?"s":"")})]})]}),u&&(0,dn.jsx)("div",{className:"absolute top-full left-0 mt-2 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-50 p-4",role:"dialog","aria-label":"".concat(t.slice(0,-1)," rating form"),children:w?(0,dn.jsxs)("div",{className:"text-center py-6",children:[(0,dn.jsx)("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-full mb-3",children:(0,dn.jsx)("svg",{className:"w-6 h-6 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,dn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,dn.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:["Rating ",g&&d!==g?"updated":"submitted","!"]}),(0,dn.jsxs)("div",{className:"flex justify-center items-center gap-1 mb-2",children:[[1,2,3,4,5].map(e=>(0,dn.jsx)("div",{children:N(e,e<=(d||0),"small")},e)),(0,dn.jsxs)("span",{className:"ml-2 text-sm text-gray-600 dark:text-gray-400",children:["(",d," stars)"]})]}),(0,dn.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["New average: ",x.toFixed(1)," \u2605"]})]}):D?(0,dn.jsxs)("div",{className:"text-center py-6",children:[(0,dn.jsx)("div",{className:"inline-flex items-center justify-center w-12 h-12 mb-3",children:(0,dn.jsxs)("svg",{className:"animate-spin h-8 w-8 text-cyan-600",fill:"none",viewBox:"0 0 24 24",children:[(0,dn.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,dn.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),(0,dn.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Submitting your rating..."})]}):(0,dn.jsxs)(dn.Fragment,{children:[(0,dn.jsx)("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-1",children:g?"Update your rating:":"Rate this ".concat(t.slice(0,-1),":")}),g&&(0,dn.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3",children:["Currently: ",g," stars"]}),(0,dn.jsx)("div",{className:"flex items-center justify-center gap-2 my-4",role:"radiogroup","aria-label":"Select rating",children:[1,2,3,4,5].map(e=>(0,dn.jsx)("button",{onClick:()=>{m(e)},onMouseEnter:()=>h(e),onMouseLeave:()=>h(null),className:"p-1 hover:scale-110 transition-transform duration-150 focus:outline-none focus:ring-2 focus:ring-yellow-400 rounded",role:"radio","aria-checked":d===e,"aria-label":"".concat(e," star").concat(1!==e?"s":""),children:N(e,e<=E)},e))}),E>0&&(0,dn.jsxs)("p",{className:"text-center text-sm text-gray-600 dark:text-gray-400 mb-4",children:[E," star",1!==E?"s":""]}),(0,dn.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,dn.jsx)("button",{onClick:()=>{c(!1),m(g),h(null)},className:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors duration-200",children:"Cancel"}),(0,dn.jsxs)("button",{onClick:async()=>{if(console.log("handleSubmitRating called",{selectedRating:d,authToken:!!s}),d){k(!0);try{const e=s?{Authorization:"Bearer ".concat(s)}:void 0,n="/api/".concat(t).concat(r,"/rate");console.log("Submitting rating to:",n,{rating:d});const a=await cn.post(n,{rating:d},e?{headers:e}:void 0);console.log("Rating response:",a.data);const o=a.data.average_rating;y(o),f(d),g||v(e=>e+1),C(!0),l&&l(g?"Rating updated successfully!":"Rating submitted successfully!","success"),i&&i(o),console.log("Setting timeout to close dialog..."),setTimeout(()=>{console.log("Closing dialog now"),C(!1),c(!1)},2e3)}catch(o){var e,n,a;if(console.error("Failed to submit rating:",o),console.error("Error details:",null===(e=o.response)||void 0===e?void 0:e.data),l)l((null===(n=o.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.detail)||"Failed to submit rating","error")}finally{k(!1)}}else console.log("Validation failed - no rating selected")},disabled:!d,className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-cyan-600 hover:bg-cyan-700 disabled:bg-gray-300 dark:disabled:bg-gray-600 disabled:cursor-not-allowed rounded-lg transition-colors duration-200 flex items-center justify-center gap-2",children:[g?"Update Rating":"Submit Rating",d&&(0,dn.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,dn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]})]})]})})]})},Ai=e=>{var t,r;let{versions:n,defaultVersion:a,onClick:s}=e;if(!n||0===n.length)return null;const l=a||(null===(t=n.find(e=>e.is_default))||void 0===t?void 0:t.version)||(null===(r=n[0])||void 0===r?void 0:r.version)||"v1.0.0",o=n.length>1;return(0,dn.jsxs)("button",{onClick:s,disabled:!s||!o,className:"\n        inline-flex items-center gap-1 px-2 py-0.5 text-xs font-medium rounded\n        ".concat(o?"bg-indigo-50 text-indigo-700 hover:bg-indigo-100 dark:bg-indigo-900/30 dark:text-indigo-300 dark:hover:bg-indigo-900/50 cursor-pointer":"bg-gray-50 text-gray-600 dark:bg-gray-800 dark:text-gray-400 cursor-default","\n        transition-colors duration-200\n      "),title:o?"Click to manage versions":"Version: ".concat(l),children:[l,o&&(0,dn.jsx)(Cs,{className:"h-3 w-3"})]})},Si=e=>{let{isOpen:t,onClose:r,serverName:n,serverPath:a,versions:s,defaultVersion:l,onVersionChange:i,onRefreshServer:u,onShowToast:c,authToken:d,canModify:m=!1}=e;const[p,h]=(0,o.useState)(null);if(!t)return null;const g=(e,t)=>{if(t)return(0,dn.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 text-xs font-semibold bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full",children:[(0,dn.jsx)(Co,{className:"h-3 w-3"}),"ACTIVE"]});switch(e){case"deprecated":return(0,dn.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 text-xs font-medium bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400 rounded-full",children:[(0,dn.jsx)(fi,{className:"h-3 w-3"}),"deprecated"]});case"beta":return(0,dn.jsx)("span",{className:"px-2 py-0.5 text-xs font-medium bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400 rounded-full",children:"beta"});default:return(0,dn.jsx)("span",{className:"px-2 py-0.5 text-xs font-medium bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400 rounded-full",children:"stable"})}};return(0,dn.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,dn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 max-w-lg w-full mx-4 max-h-[80vh] overflow-auto shadow-2xl",children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,dn.jsxs)("div",{children:[(0,dn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Select Version"}),(0,dn.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:n})]}),(0,dn.jsx)("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,dn.jsx)(ao,{className:"h-5 w-5"})})]}),(0,dn.jsx)("div",{className:"space-y-3",children:s.map(e=>{const t=e.version===l||e.is_default,n=p===e.version;return(0,dn.jsxs)("div",{className:"\n                  border rounded-lg p-4 transition-all\n                  ".concat(t?"border-green-300 bg-green-50/50 dark:border-green-700 dark:bg-green-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600","\n                "),children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,dn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dn.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:e.version}),g(e.status,t)]}),m&&!t&&(0,dn.jsx)("button",{onClick:()=>(async e=>{if(!p&&e!==l){h(e);try{const t=d?{Authorization:"Bearer ".concat(d)}:void 0;await cn.put("/api/servers".concat(a,"/versions/default"),{version:e},t?{headers:t}:void 0),i&&i(e),c&&c("Switched to ".concat(e),"success"),u&&u(),r()}catch(s){var t,n;console.error("Failed to set default version:",s),c&&c((null===(t=s.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Failed to switch version","error")}finally{h(null)}}})(e.version),disabled:n,className:"px-3 py-1.5 text-sm font-medium text-indigo-600 hover:text-indigo-700 hover:bg-indigo-50 dark:text-indigo-400 dark:hover:text-indigo-300 dark:hover:bg-indigo-900/30 rounded-lg transition-colors disabled:opacity-50",children:n?(0,dn.jsx)(Po,{className:"h-4 w-4 animate-spin"}):"Set Active"})]}),(0,dn.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,dn.jsxs)("div",{className:"text-gray-600 dark:text-gray-400",children:[(0,dn.jsx)("span",{className:"font-medium",children:"Backend:"})," ",(0,dn.jsx)("code",{className:"text-xs bg-gray-100 dark:bg-gray-700 px-1 py-0.5 rounded",children:e.proxy_pass_url})]}),e.released&&(0,dn.jsxs)("div",{className:"text-gray-500 dark:text-gray-400",children:[(0,dn.jsx)("span",{className:"font-medium",children:"Released:"})," ",e.released]}),e.sunset_date&&(0,dn.jsxs)("div",{className:"text-amber-600 dark:text-amber-400",children:[(0,dn.jsx)("span",{className:"font-medium",children:"Sunset:"})," ",e.sunset_date]}),e.description&&(0,dn.jsx)("div",{className:"text-gray-500 dark:text-gray-400 mt-2",children:e.description})]})]},e.version)})}),(0,dn.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,dn.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Clients can request specific versions using the"," ",(0,dn.jsx)("code",{className:"bg-gray-100 dark:bg-gray-700 px-1 py-0.5 rounded",children:"X-MCP-Server-Version"})," ","header."]})})]})})},_i=e=>{let{entityType:t,entityName:r,entityPath:n,onConfirm:a,onCancel:s}=e;const[l,i]=(0,o.useState)(""),[u,c]=(0,o.useState)(!1),[d,m]=(0,o.useState)(null),p=l===r,h={server:"Server",agent:"Agent",group:"Group",user:"User",m2m:"M2M Account"}[t]||t;return(0,dn.jsxs)("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[(0,dn.jsxs)("h4",{className:"text-red-800 dark:text-red-200 font-semibold mb-2",children:["Delete ",h]}),(0,dn.jsxs)("p",{className:"text-sm text-red-700 dark:text-red-300 mb-2",children:["This action is irreversible. This will permanently delete the ",t," ",'"',(0,dn.jsx)("strong",{children:r}),'" and remove it from the registry.']}),(0,dn.jsxs)("p",{className:"text-sm text-red-700 dark:text-red-300 mb-3",children:["Type ",(0,dn.jsx)("strong",{children:r})," to confirm:"]}),(0,dn.jsx)("input",{type:"text",value:l,onChange:e=>i(e.target.value),className:"w-full px-3 py-2 border border-red-300 dark:border-red-700 rounded mb-3  bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:r,disabled:u}),d&&(0,dn.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400 mb-3",children:d}),(0,dn.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,dn.jsx)("button",{onClick:s,disabled:u,className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200  rounded hover:bg-gray-300 dark:hover:bg-gray-600 disabled:opacity-50",children:"Cancel"}),(0,dn.jsxs)("button",{onClick:async()=>{if(p&&!u){c(!0),m(null);try{await a(n),s()}catch(i){var e,r,l,o;m((null===(e=i.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.detail)||(null===(l=i.response)||void 0===l||null===(o=l.data)||void 0===o?void 0:o.reason)||"Failed to delete ".concat(t))}finally{c(!1)}}},disabled:!p||u,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700  disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[u&&(0,dn.jsx)(Po,{className:"h-4 w-4 animate-spin"}),"Delete ",h]})]})]})},Bi=o.memo(e=>{var t,r,n,a,s,l,i;let{server:u,onToggle:c,onEdit:d,canModify:m,canHealthCheck:p=!0,canToggle:h=!0,canDelete:g,onRefreshSuccess:f,onShowToast:x,onServerUpdate:y,onDelete:b,authToken:v}=e;const[D,k]=(0,o.useState)([]),[w,C]=(0,o.useState)(!1),[j,F]=(0,o.useState)(!1),[N,E]=(0,o.useState)(!1),[A,S]=(0,o.useState)(!1),[_,B]=(0,o.useState)(!1),[T,L]=(0,o.useState)(null),[R,P]=(0,o.useState)(!1),[O,I]=(0,o.useState)(!1),[M,z]=(0,o.useState)(!1),[U,H]=(0,o.useState)(new Set);(0,o.useEffect)(()=>{(async()=>{try{const e=v?{Authorization:"Bearer ".concat(v)}:void 0,t=await cn.get("/api/servers".concat(u.path,"/security-scan"),e?{headers:e}:void 0);L(t.data)}catch(e){}})()},[u.path,v]);const V=(0,o.useCallback)(async()=>{if(!w){C(!0);try{const e=await cn.get("/api/tools".concat(u.path));k(e.data.tools||[]),F(!0)}catch(e){console.error("Failed to fetch tools:",e),x&&x("Failed to fetch tools","error")}finally{C(!1)}}},[u.path,w,x]),W=(0,o.useCallback)(async()=>{if(!A){S(!0);try{const e=u.path.replace(/^\//,""),t=await cn.post("/api/refresh/".concat(e));if(y&&t.data){const e={status:"healthy"===t.data.status?"healthy":"healthy-auth-expired"===t.data.status?"healthy-auth-expired":"unhealthy"===t.data.status?"unhealthy":"unknown",last_checked_time:t.data.last_checked_iso,num_tools:t.data.num_tools};y(u.path,e)}else f&&f();x&&x("Health status refreshed successfully","success")}catch(r){var e,t;if(console.error("Failed to refresh health:",r),x)x((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to refresh health status","error")}finally{S(!1)}}},[u.path,A,f,x,y]),q=(0,o.useCallback)(async()=>{if(!R){B(!0),P(!0);try{const e=v?{Authorization:"Bearer ".concat(v)}:void 0,t=await cn.get("/api/servers".concat(u.path,"/security-scan"),e?{headers:e}:void 0);L(t.data)}catch(t){var e;404!==(null===(e=t.response)||void 0===e?void 0:e.status)&&(console.error("Failed to fetch security scan:",t),x&&x("Failed to load security scan results","error")),L(null)}finally{P(!1)}}},[u.path,v,R,x]),K=(0,o.useCallback)(async()=>{const e=v?{Authorization:"Bearer ".concat(v)}:void 0,t=await cn.post("/api/servers".concat(u.path,"/rescan"),void 0,e?{headers:e}:void 0);L(t.data)},[u.path,v]),$=(0,o.useCallback)(async()=>{try{const e=v?{Authorization:"Bearer ".concat(v)}:void 0,t=await cn.get("/api/server_details".concat(u.path),e?{headers:e}:void 0);if(y&&t.data){const e=t.data,r={name:e.server_name,description:e.description,enabled:e.is_enabled,tags:e.tags,status:"healthy"===e.health_status?"healthy":"healthy-auth-expired"===e.health_status?"healthy-auth-expired":"unhealthy"===e.health_status?"unhealthy":"unknown",last_checked_time:e.last_checked_iso,num_tools:e.num_tools,proxy_pass_url:e.proxy_pass_url,mcp_endpoint:e.mcp_endpoint,version:e.version,versions:e.versions,default_version:e.default_version,mcp_server_version:e.mcp_server_version,mcp_server_version_previous:e.mcp_server_version_previous,mcp_server_version_updated_at:e.mcp_server_version_updated_at};y(u.path,r)}}catch(e){console.error("Failed to refresh server data:",e)}},[u.path,v,y]),J=()=>{if(!T)return{Icon:qo,color:"text-gray-400 dark:text-gray-500",title:"View security scan results"};if(T.scan_failed)return{Icon:Jo,color:"text-red-500 dark:text-red-400",title:"Security scan failed"};return T.critical_issues>0||T.high_severity>0||T.medium_severity>0||T.low_severity>0?{Icon:Jo,color:"text-red-500 dark:text-red-400",title:"Security issues found"}:{Icon:qo,color:"text-green-500 dark:text-green-400",title:"Security scan passed"}},Q=null===(t=u.tags)||void 0===t?void 0:t.includes("anthropic-registry"),G=null===(r=u.tags)||void 0===r?void 0:r.includes("security-pending"),Y=!0===(null===(n=u.sync_metadata)||void 0===n?void 0:n.is_federated),Z=Y&&null!==(a=u.sync_metadata)&&void 0!==a&&a.source_peer_id?u.sync_metadata.source_peer_id:null,X=!0===(null===(s=u.sync_metadata)||void 0===s?void 0:s.is_orphaned);return(0,dn.jsxs)(dn.Fragment,{children:[(0,dn.jsx)("div",{className:"group rounded-2xl shadow-sm hover:shadow-xl transition-all duration-300 h-full flex flex-col ".concat(Q?"bg-gradient-to-br from-purple-50 to-indigo-50 dark:from-purple-900/20 dark:to-indigo-900/20 border-2 border-purple-200 dark:border-purple-700 hover:border-purple-300 dark:hover:border-purple-600":"bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700 hover:border-gray-200 dark:hover:border-gray-600"),children:M?(0,dn.jsx)("div",{className:"p-5 h-full flex flex-col justify-center",children:(0,dn.jsx)(_i,{entityType:"server",entityName:u.name||u.path.replace(/^\//,""),entityPath:u.path,onConfirm:b,onCancel:()=>z(!1)})}):(0,dn.jsxs)(dn.Fragment,{children:[(0,dn.jsxs)("div",{className:"p-5 pb-4",children:[(0,dn.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,dn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,dn.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,dn.jsx)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white truncate",children:u.name}),u.official&&(0,dn.jsx)("span",{className:"px-2 py-0.5 text-xs font-semibold bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300 rounded-full flex-shrink-0",children:"OFFICIAL"}),Q&&(0,dn.jsx)("span",{className:"px-2 py-0.5 text-xs font-semibold bg-gradient-to-r from-purple-100 to-indigo-100 text-purple-700 dark:from-purple-900/30 dark:to-indigo-900/30 dark:text-purple-300 rounded-full flex-shrink-0 border border-purple-200 dark:border-purple-600",children:"ANTHROPIC"}),(null===(l=u.tags)||void 0===l?void 0:l.includes("asor"))&&(0,dn.jsx)("span",{className:"px-2 py-0.5 text-xs font-semibold bg-gradient-to-r from-orange-100 to-red-100 text-orange-700 dark:from-orange-900/30 dark:to-red-900/30 dark:text-orange-300 rounded-full flex-shrink-0 border border-orange-200 dark:border-orange-600",children:"ASOR"}),G&&(0,dn.jsx)("span",{className:"px-2 py-0.5 text-xs font-semibold bg-gradient-to-r from-amber-100 to-orange-100 text-amber-700 dark:from-amber-900/30 dark:to-orange-900/30 dark:text-amber-300 rounded-full flex-shrink-0 border border-amber-200 dark:border-amber-600",children:"SECURITY PENDING"}),Y&&(0,dn.jsx)("span",{className:"px-2 py-0.5 text-xs font-semibold bg-gradient-to-r from-cyan-100 to-blue-100 text-cyan-700 dark:from-cyan-900/30 dark:to-blue-900/30 dark:text-cyan-300 rounded-full flex-shrink-0 border border-cyan-200 dark:border-cyan-600",title:"Synced from ".concat(Z),children:null===Z||void 0===Z?void 0:Z.toUpperCase().replace("PEER-REGISTRY-","").replace("PEER-","")}),X&&(0,dn.jsx)("span",{className:"px-2 py-0.5 text-xs font-semibold bg-gradient-to-r from-red-100 to-rose-100 text-red-700 dark:from-red-900/30 dark:to-rose-900/30 dark:text-red-300 rounded-full flex-shrink-0 border border-red-200 dark:border-red-600",title:"No longer exists on peer registry",children:"ORPHANED"}),u.auth_scheme&&"none"!==u.auth_scheme&&"bearer"===u.auth_scheme&&(0,dn.jsx)("span",{className:"px-2 py-0.5 text-xs font-semibold bg-gradient-to-r from-blue-100 to-indigo-100 text-blue-700 dark:from-blue-900/30 dark:to-indigo-900/30 dark:text-blue-300 rounded-full flex-shrink-0 border border-blue-200 dark:border-blue-600",title:"Backend uses Bearer token authentication",children:"BEARER AUTH"}),u.auth_scheme&&"api_key"===u.auth_scheme&&(0,dn.jsx)("span",{className:"px-2 py-0.5 text-xs font-semibold bg-gradient-to-r from-yellow-100 to-amber-100 text-yellow-700 dark:from-yellow-900/30 dark:to-amber-900/30 dark:text-yellow-300 rounded-full flex-shrink-0 border border-yellow-200 dark:border-yellow-600",title:"Backend uses API Key authentication (header: ".concat(u.auth_header_name||"X-API-Key",")"),children:"API KEY AUTH"})]}),(0,dn.jsx)("code",{className:"text-xs text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-800/50 px-2 py-1 rounded font-mono",children:u.path})]}),m&&(0,dn.jsx)("button",{className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700/50 rounded-lg transition-all duration-200 flex-shrink-0",onClick:()=>null===d||void 0===d?void 0:d(u),title:"Edit server","aria-label":"Edit ".concat(u.name),children:(0,dn.jsx)(Yo,{className:"h-4 w-4"})}),(0,dn.jsx)("button",{onClick:()=>E(!0),className:"p-2 text-gray-400 hover:text-green-600 dark:hover:text-green-300 hover:bg-green-50 dark:hover:bg-green-700/50 rounded-lg transition-all duration-200 flex-shrink-0",title:"Copy mcp.json configuration","aria-label":"Generate MCP configuration",children:(0,dn.jsx)(ei,{className:"h-4 w-4"})}),(0,dn.jsx)("button",{onClick:q,className:"p-2 hover:bg-gray-50 dark:hover:bg-gray-700/50 rounded-lg transition-all duration-200 flex-shrink-0 ".concat(J().color),title:J().title,"aria-label":"View security scan results",children:o.createElement(J().Icon,{className:"h-4 w-4"})}),g&&(0,dn.jsx)("button",{onClick:()=>z(!0),className:"p-2 text-gray-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-700/50 rounded-lg transition-all duration-200 flex-shrink-0",title:"Delete server","aria-label":"Delete ".concat(u.name),children:(0,dn.jsx)(ni,{className:"h-4 w-4"})})]}),(0,dn.jsx)("p",{className:"text-gray-600 dark:text-gray-300 text-sm leading-relaxed line-clamp-2 mb-4",children:u.description||"No description available"}),u.tags&&u.tags.length>0&&(0,dn.jsxs)("div",{className:"flex flex-wrap gap-1.5 mb-4",children:[u.tags.slice(0,3).map(e=>(0,dn.jsxs)("span",{className:"px-2 py-1 text-xs font-medium bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded",children:["#",e]},e)),u.tags.length>3&&(0,dn.jsxs)("span",{className:"px-2 py-1 text-xs font-medium bg-gray-50 dark:bg-gray-800 text-gray-600 dark:text-gray-300 rounded",children:["+",u.tags.length-3]})]})]}),(0,dn.jsx)("div",{className:"px-5 pb-4",children:(0,dn.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,dn.jsx)(Ei,{resourceType:"servers",path:u.path,initialRating:0,initialCount:(null===(i=u.rating_details)||void 0===i?void 0:i.length)||0,authToken:v,onShowToast:x}),(0,dn.jsx)("div",{className:"flex items-center gap-2",children:(u.num_tools||0)>0?(0,dn.jsxs)("button",{onClick:V,disabled:w,className:"flex items-center gap-2 text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 disabled:opacity-50 hover:bg-blue-50 dark:hover:bg-blue-900/20 px-2 py-1 -mx-2 -my-1 rounded transition-all",title:"View tools",children:[(0,dn.jsx)("div",{className:"p-1.5 bg-blue-50 dark:bg-blue-900/30 rounded",children:(0,dn.jsx)(li,{className:"h-4 w-4"})}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("div",{className:"text-sm font-semibold",children:u.num_tools}),(0,dn.jsx)("div",{className:"text-xs",children:"Tools"})]})]}):(0,dn.jsxs)("div",{className:"flex items-center gap-2 text-gray-400 dark:text-gray-500",children:[(0,dn.jsx)("div",{className:"p-1.5 bg-gray-50 dark:bg-gray-800 rounded",children:(0,dn.jsx)(li,{className:"h-4 w-4"})}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("div",{className:"text-sm font-semibold",children:u.num_tools||0}),(0,dn.jsx)("div",{className:"text-xs",children:"Tools"})]})]})}),(0,dn.jsxs)("div",{className:"flex flex-col items-end gap-1",children:[u.versions&&u.versions.length>1&&(0,dn.jsx)(Ai,{versions:u.versions,defaultVersion:u.default_version||u.version,onClick:()=>I(!0)}),u.mcp_server_version&&(0,dn.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 text-xs font-medium bg-gray-50 text-gray-600 dark:bg-gray-800 dark:text-gray-400 rounded",title:u.mcp_server_version_previous?"MCP Server Version: ".concat(u.mcp_server_version," (previously ").concat(u.mcp_server_version_previous,")"):"MCP Server Version: ".concat(u.mcp_server_version),children:[(0,dn.jsx)("span",{className:"text-gray-400 dark:text-gray-500 mr-1",children:"srv"}),u.mcp_server_version,u.mcp_server_version_updated_at&&Date.now()-new Date(u.mcp_server_version_updated_at).getTime()<864e5&&(0,dn.jsx)("span",{className:"ml-1 h-1.5 w-1.5 rounded-full bg-green-500 inline-block",title:"Recently updated"})]})]})]})}),(0,dn.jsx)("div",{className:"mt-auto px-5 py-4 border-t border-gray-100 dark:border-gray-700 bg-gray-50/50 dark:bg-gray-900/30 rounded-b-2xl",children:(0,dn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,dn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,dn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dn.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(u.enabled?"bg-green-400 shadow-lg shadow-green-400/30":"bg-gray-300 dark:bg-gray-600")}),(0,dn.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:u.enabled?"Enabled":"Disabled"})]}),(0,dn.jsx)("div",{className:"w-px h-4 bg-gray-200 dark:bg-gray-600"}),(0,dn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dn.jsx)("div",{className:"w-3 h-3 rounded-full ".concat("healthy"===u.status?"bg-emerald-400 shadow-lg shadow-emerald-400/30":"healthy-auth-expired"===u.status?"bg-orange-400 shadow-lg shadow-orange-400/30":"unhealthy"===u.status?"bg-red-400 shadow-lg shadow-red-400/30":"bg-amber-400 shadow-lg shadow-amber-400/30")}),(0,dn.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"healthy"===u.status?"Healthy":"healthy-auth-expired"===u.status?"Healthy (Auth Expired)":"unhealthy"===u.status?"Unhealthy":"Unknown"})]})]}),(0,dn.jsxs)("div",{className:"flex items-center gap-3",children:[(()=>{const e=(e=>{if(!e)return null;try{const t=new Date,r=new Date(e);if(isNaN(r.getTime()))return null;const n=t.getTime()-r.getTime(),a=Math.floor(n/1e3),s=Math.floor(a/60),l=Math.floor(s/60),o=Math.floor(l/24);let i;return i=o>0?"".concat(o,"d ago"):l>0?"".concat(l,"h ago"):s>0?"".concat(s,"m ago"):"".concat(a,"s ago"),i}catch(t){return console.error("formatTimeSince error:",t,"for timestamp:",e),null}})(u.last_checked_time);return u.last_checked_time&&e?(0,dn.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-300 flex items-center gap-1.5",children:[(0,dn.jsx)(ui,{className:"h-3.5 w-3.5"}),(0,dn.jsx)("span",{children:e})]}):null})(),p&&(0,dn.jsx)("button",{onClick:W,disabled:A,className:"p-2.5 text-gray-500 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-all duration-200 disabled:opacity-50",title:"Refresh health status","aria-label":"Refresh health status for ".concat(u.name),children:(0,dn.jsx)(Po,{className:"h-4 w-4 ".concat(A?"animate-spin":"")})}),h&&(0,dn.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,dn.jsx)("input",{type:"checkbox",checked:u.enabled,onChange:e=>c(u.path,e.target.checked),className:"sr-only peer","aria-label":"Enable ".concat(u.name)}),(0,dn.jsx)("div",{className:"relative w-12 h-6 rounded-full transition-colors duration-200 ease-in-out ".concat(u.enabled?"bg-blue-600":"bg-gray-300 dark:bg-gray-600"),children:(0,dn.jsx)("div",{className:"absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full transition-transform duration-200 ease-in-out ".concat(u.enabled?"translate-x-6":"translate-x-0")})})]})]})]})})]})}),j&&(0,dn.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>{F(!1),H(new Set)},children:(0,dn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-auto",onClick:e=>e.stopPropagation(),children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,dn.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Tools for ",u.name]}),(0,dn.jsx)("button",{onClick:()=>{F(!1),H(new Set)},className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"\u2715"})]}),(0,dn.jsx)("div",{className:"space-y-4",children:D.length>0?D.map((e,t)=>{const r=U.has(t);return(0,dn.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,dn.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:e.name}),e.description&&(0,dn.jsxs)("div",{className:"mb-2",children:[(0,dn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 ".concat(r?"":"line-clamp-2"),children:e.description}),e.description.length>150&&(0,dn.jsx)("button",{onClick:()=>{const e=new Set(U);r?e.delete(t):e.add(t),H(e)},className:"text-xs text-blue-600 dark:text-blue-400 hover:underline mt-1",children:r?"Show less":"Show more"})]}),e.schema&&(0,dn.jsxs)("details",{className:"text-xs",children:[(0,dn.jsx)("summary",{className:"cursor-pointer text-gray-500 dark:text-gray-300",children:"View Schema"}),(0,dn.jsx)("pre",{className:"mt-2 p-3 bg-gray-50 dark:bg-gray-900 border dark:border-gray-700 rounded overflow-x-auto text-gray-900 dark:text-gray-100",children:JSON.stringify(e.schema,null,2)})]})]},t)}):(0,dn.jsx)("p",{className:"text-gray-500 dark:text-gray-300",children:"No tools available for this server."})})]})}),(0,dn.jsx)(pi,{server:u,isOpen:N,onClose:()=>E(!1),onShowToast:x}),(0,dn.jsx)(Di,{resourceName:u.name,resourceType:"server",isOpen:_,onClose:()=>B(!1),loading:R,scanResult:T,onRescan:m?K:void 0,canRescan:m,onShowToast:x}),(0,dn.jsx)(Si,{isOpen:O,onClose:()=>I(!1),serverName:u.name,serverPath:u.path,versions:u.versions||[],defaultVersion:u.default_version||null,onVersionChange:e=>{if(y){var t;const r=null===(t=u.versions)||void 0===t?void 0:t.map(t=>qt(qt({},t),{},{is_default:t.version===e}));y(u.path,{default_version:e,versions:r})}},onRefreshServer:$,onShowToast:x,authToken:v,canModify:m})]})});Bi.displayName="ServerCard";const Ti=Bi,Li=["title","titleId"];function Ri(e,t){let{title:r,titleId:n}=e,a=xn(e,Li);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const Pi=o.forwardRef(Ri),Oi=["title","titleId"];function Ii(e,t){let{title:r,titleId:n}=e,a=xn(e,Oi);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const Mi=o.forwardRef(Ii),zi=["title","titleId"];function Ui(e,t){let{title:r,titleId:n}=e,a=xn(e,zi);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const Hi=o.forwardRef(Ui),Vi=["title","titleId"];function Wi(e,t){let{title:r,titleId:n}=e,a=xn(e,Vi);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"}))}const qi=o.forwardRef(Wi),Ki=e=>{let{agent:t,isOpen:r,onClose:n,loading:a,fullDetails:s,onCopy:l}=e;if(!r)return null;const o=s||t;return(0,dn.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,dn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 max-w-4xl w-full mx-4 max-h-[80vh] overflow-auto",children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,dn.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[t.name," - Full Details (JSON)"]}),(0,dn.jsx)("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200","aria-label":"Close",children:"\u2715"})]}),(0,dn.jsxs)("div",{className:"space-y-4",children:[(0,dn.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[(0,dn.jsx)("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Complete Agent Schema"}),(0,dn.jsx)("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:"This is the complete A2A agent definition stored in the registry. It includes all metadata, skills, security schemes, and configuration details."})]}),(0,dn.jsxs)("div",{className:"space-y-2",children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,dn.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Agent JSON Schema:"}),(0,dn.jsxs)("button",{onClick:async()=>{try{l?await l(o):await navigator.clipboard.writeText(JSON.stringify(o,null,2))}catch(e){console.error("Failed to copy agent JSON:",e)}},className:"flex items-center gap-2 px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200",children:[(0,dn.jsx)(mi,{className:"h-4 w-4"}),"Copy JSON"]})]}),a?(0,dn.jsx)("div",{className:"p-4 bg-gray-50 dark:bg-gray-900 border dark:border-gray-700 rounded-lg text-center text-gray-600 dark:text-gray-400",children:"Loading full agent details..."}):(0,dn.jsx)("pre",{className:"p-4 bg-gray-50 dark:bg-gray-900 border dark:border-gray-700 rounded-lg overflow-x-auto text-xs text-gray-900 dark:text-gray-100 max-h-[30vh] overflow-y-auto",children:JSON.stringify(o,null,2)})]}),(0,dn.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900 border dark:border-gray-700 rounded-lg p-4",children:[(0,dn.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Field Reference"}),(0,dn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,dn.jsxs)("div",{children:[(0,dn.jsx)("h5",{className:"font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Core Fields"}),(0,dn.jsxs)("ul",{className:"space-y-1 text-gray-600 dark:text-gray-400",children:[(0,dn.jsxs)("li",{children:[(0,dn.jsx)("code",{className:"bg-gray-200 dark:bg-gray-700 px-1 rounded",children:"protocol_version"})," - A2A protocol version"]}),(0,dn.jsxs)("li",{children:[(0,dn.jsx)("code",{className:"bg-gray-200 dark:bg-gray-700 px-1 rounded",children:"name"})," - Agent display name"]}),(0,dn.jsxs)("li",{children:[(0,dn.jsx)("code",{className:"bg-gray-200 dark:bg-gray-700 px-1 rounded",children:"description"})," - Agent purpose"]}),(0,dn.jsxs)("li",{children:[(0,dn.jsx)("code",{className:"bg-gray-200 dark:bg-gray-700 px-1 rounded",children:"url"})," - Agent endpoint URL"]}),(0,dn.jsxs)("li",{children:[(0,dn.jsx)("code",{className:"bg-gray-200 dark:bg-gray-700 px-1 rounded",children:"path"})," - Registry path"]})]})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("h5",{className:"font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Metadata Fields"}),(0,dn.jsxs)("ul",{className:"space-y-1 text-gray-600 dark:text-gray-400",children:[(0,dn.jsxs)("li",{children:[(0,dn.jsx)("code",{className:"bg-gray-200 dark:bg-gray-700 px-1 rounded",children:"skills"})," - Agent capabilities"]}),(0,dn.jsxs)("li",{children:[(0,dn.jsx)("code",{className:"bg-gray-200 dark:bg-gray-700 px-1 rounded",children:"security_schemes"})," - Auth methods"]}),(0,dn.jsxs)("li",{children:[(0,dn.jsx)("code",{className:"bg-gray-200 dark:bg-gray-700 px-1 rounded",children:"tags"})," - Categorization"]}),(0,dn.jsxs)("li",{children:[(0,dn.jsx)("code",{className:"bg-gray-200 dark:bg-gray-700 px-1 rounded",children:"trust_level"})," - Verification status"]}),(0,dn.jsxs)("li",{children:[(0,dn.jsx)("code",{className:"bg-gray-200 dark:bg-gray-700 px-1 rounded",children:"metadata"})," - Custom data"]})]})]})]})]})]})]})})},$i=o.memo(e=>{var t,r,n,a,s;let{agent:l,onToggle:i,onEdit:u,canModify:c,canHealthCheck:d=!0,canToggle:m=!0,canDelete:p,onDelete:h,onRefreshSuccess:g,onShowToast:f,onAgentUpdate:x,authToken:y}=e;const[b,v]=(0,o.useState)(!1),[D,k]=(0,o.useState)(!1),[w,C]=(0,o.useState)(null),[j,F]=(0,o.useState)(!1),[N,E]=(0,o.useState)(!1),[A,S]=(0,o.useState)(null),[_,B]=(0,o.useState)(!1),[T,L]=(0,o.useState)(!1),R=!0===(null===(t=l.sync_metadata)||void 0===t?void 0:t.is_federated),P=R&&null!==(r=l.sync_metadata)&&void 0!==r&&r.source_peer_id?l.sync_metadata.source_peer_id:null,O=!0===(null===(n=l.sync_metadata)||void 0===n?void 0:n.is_orphaned);(0,o.useEffect)(()=>{(async()=>{try{const e=y?{Authorization:"Bearer ".concat(y)}:void 0,t=await cn.get("/api/agents".concat(l.path,"/security-scan"),e?{headers:e}:void 0);S(t.data)}catch(e){}})()},[l.path,y]);const I=(0,o.useCallback)(async()=>{if(!D){k(!0);try{const e=y?{Authorization:"Bearer ".concat(y)}:void 0,t=await cn.post("/api/agents".concat(l.path,"/health"),void 0,e?{headers:e}:void 0);if(x&&t.data){const e={status:(r=t.data.status,"healthy"===r||"healthy-auth-expired"===r?r:"unhealthy"===r?"unhealthy":"unknown"),last_checked_time:t.data.last_checked_iso};x(l.path,e)}else g&&g();f&&f("Agent health status refreshed successfully","success")}catch(n){var e,t;if(console.error("Failed to refresh agent health:",n),f)f((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to refresh agent health status","error")}finally{k(!1)}var r}},[l.path,y,D,g,f,x]),M=(0,o.useCallback)(async e=>{try{await navigator.clipboard.writeText(JSON.stringify(e,null,2)),null===f||void 0===f||f("Full agent JSON copied to clipboard!","success")}catch(t){console.error("Failed to copy JSON:",t),null===f||void 0===f||f("Failed to copy JSON","error")}},[f]),z=(0,o.useCallback)(async()=>{if(!_){E(!0),B(!0);try{const e=y?{Authorization:"Bearer ".concat(y)}:void 0,t=await cn.get("/api/agents".concat(l.path,"/security-scan"),e?{headers:e}:void 0);S(t.data)}catch(t){var e;404!==(null===(e=t.response)||void 0===e?void 0:e.status)&&(console.error("Failed to fetch security scan:",t),f&&f("Failed to load security scan results","error")),S(null)}finally{B(!1)}}},[l.path,y,_,f]),U=(0,o.useCallback)(async()=>{const e=y?{Authorization:"Bearer ".concat(y)}:void 0,t=await cn.post("/api/agents".concat(l.path,"/rescan"),void 0,e?{headers:e}:void 0);S(t.data)},[l.path,y]),H=()=>{if(!A)return{Icon:qo,color:"text-gray-400 dark:text-gray-500",title:"View security scan results"};if(A.scan_failed)return{Icon:Jo,color:"text-red-500 dark:text-red-400",title:"Security scan failed"};return A.critical_issues>0||A.high_severity>0||A.medium_severity>0||A.low_severity>0?{Icon:Jo,color:"text-red-500 dark:text-red-400",title:"Security issues found"}:{Icon:qo,color:"text-green-500 dark:text-green-400",title:"Security scan passed"}};return(0,dn.jsxs)(dn.Fragment,{children:[(0,dn.jsx)("div",{className:"group rounded-2xl shadow-sm hover:shadow-xl transition-all duration-300 h-full flex flex-col bg-gradient-to-br from-cyan-50 to-blue-50 dark:from-cyan-900/20 dark:to-blue-900/20 border-2 border-cyan-200 dark:border-cyan-700 hover:border-cyan-300 dark:hover:border-cyan-600",children:T?(0,dn.jsx)("div",{className:"p-5 h-full flex flex-col justify-center",children:(0,dn.jsx)(_i,{entityType:"agent",entityName:l.name||l.path.replace(/^\//,""),entityPath:l.path,onConfirm:h,onCancel:()=>L(!1)})}):(0,dn.jsxs)(dn.Fragment,{children:[(0,dn.jsxs)("div",{className:"p-5 pb-4",children:[(0,dn.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,dn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,dn.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,dn.jsx)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white truncate",children:l.name}),(0,dn.jsx)("span",{className:"px-2 py-0.5 text-xs font-semibold bg-gradient-to-r from-cyan-100 to-blue-100 text-cyan-700 dark:from-cyan-900/30 dark:to-blue-900/30 dark:text-cyan-300 rounded-full flex-shrink-0 border border-cyan-200 dark:border-cyan-600",children:"AGENT"}),((null===(a=l.tags)||void 0===a?void 0:a.includes("asor"))||"ASOR"===l.provider)&&(0,dn.jsx)("span",{className:"px-2 py-0.5 text-xs font-semibold bg-gradient-to-r from-orange-100 to-red-100 text-orange-700 dark:from-orange-900/30 dark:to-red-900/30 dark:text-orange-300 rounded-full flex-shrink-0 border border-orange-200 dark:border-orange-600",children:"ASOR"}),l.trust_level&&(0,dn.jsxs)("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full flex-shrink-0 flex items-center gap-1 ".concat((()=>{switch(l.trust_level){case"trusted":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400 border border-green-200 dark:border-green-700";case"verified":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400 border border-blue-200 dark:border-blue-700";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600"}})()),children:[(()=>{switch(l.trust_level){case"trusted":return(0,dn.jsx)(qo,{className:"h-3 w-3"});case"verified":return(0,dn.jsx)(Co,{className:"h-3 w-3"});default:return null}})(),l.trust_level.toUpperCase()]}),l.visibility&&(0,dn.jsxs)("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full flex-shrink-0 flex items-center gap-1 ".concat("public"===l.visibility?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400 border border-blue-200 dark:border-blue-700":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600"),children:["public"===l.visibility?(0,dn.jsx)(Pi,{className:"h-3 w-3"}):(0,dn.jsx)(Mi,{className:"h-3 w-3"}),l.visibility.toUpperCase()]}),R&&(0,dn.jsx)("span",{className:"px-2 py-0.5 text-xs font-semibold bg-gradient-to-r from-violet-100 to-purple-100 text-violet-700 dark:from-violet-900/30 dark:to-purple-900/30 dark:text-violet-300 rounded-full flex-shrink-0 border border-violet-200 dark:border-violet-600",title:"Synced from ".concat(P),children:null===P||void 0===P?void 0:P.toUpperCase().replace("PEER-REGISTRY-","").replace("PEER-","")}),O&&(0,dn.jsx)("span",{className:"px-2 py-0.5 text-xs font-semibold bg-gradient-to-r from-red-100 to-rose-100 text-red-700 dark:from-red-900/30 dark:to-rose-900/30 dark:text-red-300 rounded-full flex-shrink-0 border border-red-200 dark:border-red-600",title:"No longer exists on peer registry",children:"ORPHANED"})]}),(0,dn.jsx)("code",{className:"text-xs text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-800/50 px-2 py-1 rounded font-mono",children:l.path}),l.version&&(0,dn.jsxs)("span",{className:"ml-2 text-xs text-gray-500 dark:text-gray-400",children:["v",l.version]}),l.url&&(0,dn.jsx)("a",{href:l.url,target:"_blank",rel:"noopener noreferrer",className:"mt-2 inline-flex items-center gap-1 text-xs text-cyan-700 dark:text-cyan-300 break-all hover:underline",children:(0,dn.jsx)("span",{className:"font-mono",children:l.url})})]}),c&&(0,dn.jsx)("button",{className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700/50 rounded-lg transition-all duration-200 flex-shrink-0",onClick:()=>null===u||void 0===u?void 0:u(l),title:"Edit agent",children:(0,dn.jsx)(Yo,{className:"h-4 w-4"})}),(0,dn.jsx)("button",{onClick:z,className:"p-2 hover:bg-gray-50 dark:hover:bg-gray-700/50 rounded-lg transition-all duration-200 flex-shrink-0 ".concat(H().color),title:H().title,"aria-label":"View security scan results",children:o.createElement(H().Icon,{className:"h-4 w-4"})}),(0,dn.jsx)("button",{onClick:async()=>{v(!0),F(!0);try{const e=await cn.get("/api/agents".concat(l.path));C(e.data)}catch(e){console.error("Failed to fetch agent details:",e),f&&f("Failed to load full agent details","error")}finally{F(!1)}},className:"p-2 text-gray-400 hover:text-blue-600 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-700/50 rounded-lg transition-all duration-200 flex-shrink-0",title:"View full agent details (JSON)",children:(0,dn.jsx)(Hi,{className:"h-4 w-4"})}),p&&(0,dn.jsx)("button",{onClick:()=>L(!0),className:"p-2 text-gray-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-700/50 rounded-lg transition-all duration-200 flex-shrink-0",title:"Delete agent","aria-label":"Delete ".concat(l.name),children:(0,dn.jsx)(ni,{className:"h-4 w-4"})})]}),(0,dn.jsx)("p",{className:"text-gray-600 dark:text-gray-300 text-sm leading-relaxed line-clamp-2 mb-4",children:l.description||"No description available"}),l.tags&&l.tags.length>0&&(0,dn.jsxs)("div",{className:"flex flex-wrap gap-1.5 mb-4",children:[l.tags.slice(0,3).map(e=>(0,dn.jsxs)("span",{className:"px-2 py-1 text-xs font-medium bg-cyan-50 dark:bg-cyan-900/30 text-cyan-700 dark:text-cyan-300 rounded",children:["#",e]},e)),l.tags.length>3&&(0,dn.jsxs)("span",{className:"px-2 py-1 text-xs font-medium bg-gray-50 dark:bg-gray-800 text-gray-600 dark:text-gray-300 rounded",children:["+",l.tags.length-3]})]})]}),(0,dn.jsx)("div",{className:"px-5 pb-4",children:(0,dn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,dn.jsx)(Ei,{resourceType:"agents",path:l.path,initialRating:l.rating||0,initialCount:(null===(s=l.rating_details)||void 0===s?void 0:s.length)||0,authToken:y,onShowToast:f,onRatingUpdate:e=>{x&&x(l.path,{rating:e})}}),(0,dn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dn.jsx)("div",{className:"p-1.5 bg-cyan-50 dark:bg-cyan-900/30 rounded",children:(0,dn.jsx)(qi,{className:"h-4 w-4 text-cyan-600 dark:text-cyan-400"})}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:l.usersCount||0}),(0,dn.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Users"})]})]})]})}),(0,dn.jsx)("div",{className:"mt-auto px-5 py-4 border-t border-cyan-100 dark:border-cyan-700 bg-cyan-50/50 dark:bg-cyan-900/30 rounded-b-2xl",children:(0,dn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,dn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,dn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dn.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(l.enabled?"bg-green-400 shadow-lg shadow-green-400/30":"bg-gray-300 dark:bg-gray-600")}),(0,dn.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:l.enabled?"Enabled":"Disabled"})]}),(0,dn.jsx)("div",{className:"w-px h-4 bg-cyan-200 dark:bg-cyan-600"}),(0,dn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dn.jsx)("div",{className:"w-3 h-3 rounded-full ".concat("healthy"===l.status?"bg-emerald-400 shadow-lg shadow-emerald-400/30":"healthy-auth-expired"===l.status?"bg-orange-400 shadow-lg shadow-orange-400/30":"unhealthy"===l.status?"bg-red-400 shadow-lg shadow-red-400/30":"bg-amber-400 shadow-lg shadow-amber-400/30")}),(0,dn.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"healthy"===l.status?"Healthy":"healthy-auth-expired"===l.status?"Healthy (Auth Expired)":"unhealthy"===l.status?"Unhealthy":"Unknown"})]})]}),(0,dn.jsxs)("div",{className:"flex items-center gap-3",children:[(()=>{const e=(e=>{if(!e)return null;try{const t=new Date,r=new Date(e);if(isNaN(r.getTime()))return null;const n=t.getTime()-r.getTime(),a=Math.floor(n/1e3),s=Math.floor(a/60),l=Math.floor(s/60),o=Math.floor(l/24);let i;return i=o>0?"".concat(o,"d ago"):l>0?"".concat(l,"h ago"):s>0?"".concat(s,"m ago"):"".concat(a,"s ago"),i}catch(t){return console.error("formatTimeSince error:",t,"for timestamp:",e),null}})(l.last_checked_time);return l.last_checked_time&&e?(0,dn.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-300 flex items-center gap-1.5",children:[(0,dn.jsx)(ui,{className:"h-3.5 w-3.5"}),(0,dn.jsx)("span",{children:e})]}):null})(),d&&(0,dn.jsx)("button",{onClick:I,disabled:D,className:"p-2.5 text-gray-500 hover:text-cyan-600 dark:hover:text-cyan-400 hover:bg-cyan-50 dark:hover:bg-cyan-900/20 rounded-lg transition-all duration-200 disabled:opacity-50",title:"Refresh agent health status",children:(0,dn.jsx)(Po,{className:"h-4 w-4 ".concat(D?"animate-spin":"")})}),m&&(0,dn.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",onClick:e=>e.stopPropagation(),children:[(0,dn.jsx)("input",{type:"checkbox",checked:l.enabled,onChange:e=>{e.stopPropagation(),i(l.path,e.target.checked)},className:"sr-only peer"}),(0,dn.jsx)("div",{className:"relative w-12 h-6 rounded-full transition-colors duration-200 ease-in-out ".concat(l.enabled?"bg-cyan-600":"bg-gray-300 dark:bg-gray-600"),children:(0,dn.jsx)("div",{className:"absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full transition-transform duration-200 ease-in-out ".concat(l.enabled?"translate-x-6":"translate-x-0")})})]})]})]})})]})}),(0,dn.jsx)(Ki,{agent:l,isOpen:b,onClose:()=>v(!1),loading:j,fullDetails:w,onCopy:M}),(0,dn.jsx)(Di,{resourceName:l.name,resourceType:"agent",isOpen:N,onClose:()=>E(!1),loading:_,scanResult:A,onRescan:c?U:void 0,canRescan:c,onShowToast:f})]})});$i.displayName="AgentCard";const Ji=$i;function Qi(){}function Gi(){}const Yi=/^(?:[\$A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[\$0-9A-Z_a-z\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u07FD\u0800-\u082D\u0840-\u085B\u0860-\u086A\u0870-\u0887\u0889-\u088E\u0897-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3C-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C5D\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDD\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1-\u0CF3\u0D00-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D81-\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECE\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1715\u171F-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B4C\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CD2\u1CD4-\u1CFA\u1D00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA827\uA82C\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF65-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD27\uDD30-\uDD39\uDD40-\uDD65\uDD69-\uDD6D\uDD6F-\uDD85\uDE80-\uDEA9\uDEAB\uDEAC\uDEB0\uDEB1\uDEC2-\uDEC4\uDEFC-\uDF1C\uDF27\uDF30-\uDF50\uDF70-\uDF85\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC46\uDC66-\uDC75\uDC7F-\uDCBA\uDCC2\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD44-\uDD47\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDC9-\uDDCC\uDDCE-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E-\uDE41\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3B-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7-\uDFC0\uDFC2\uDFC5\uDFC7-\uDFCA\uDFCC-\uDFD3\uDFE1\uDFE2]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5E-\uDC61\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB8\uDEC0-\uDEC9\uDED0-\uDEE3\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF39\uDF40-\uDF46]|\uD806[\uDC00-\uDC3A\uDCA0-\uDCE9\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD35\uDD37\uDD38\uDD3B-\uDD43\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDE1\uDDE3\uDDE4\uDE00-\uDE3E\uDE47\uDE50-\uDE99\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0\uDFF0-\uDFF9]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF6\uDF00-\uDF10\uDF12-\uDF3A\uDF3E-\uDF42\uDF50-\uDF5A\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC40-\uDC55\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD39]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDD70-\uDD79\uDE40-\uDE7F\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3\uDFE4\uDFF0\uDFF1]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD833[\uDCF0-\uDCF9\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC30-\uDC6D\uDC8F\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAE\uDEC0-\uDEF9]|\uD839[\uDCD0-\uDCF9\uDDD0-\uDDFA\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4B\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF]|\uDB40[\uDD00-\uDDEF])*$/,Zi=/^(?:[\$A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[\$\x2D0-9A-Z_a-z\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u07FD\u0800-\u082D\u0840-\u085B\u0860-\u086A\u0870-\u0887\u0889-\u088E\u0897-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3C-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C5D\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDD\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1-\u0CF3\u0D00-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D81-\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECE\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1715\u171F-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B4C\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CD2\u1CD4-\u1CFA\u1D00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA827\uA82C\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF65-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD27\uDD30-\uDD39\uDD40-\uDD65\uDD69-\uDD6D\uDD6F-\uDD85\uDE80-\uDEA9\uDEAB\uDEAC\uDEB0\uDEB1\uDEC2-\uDEC4\uDEFC-\uDF1C\uDF27\uDF30-\uDF50\uDF70-\uDF85\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC46\uDC66-\uDC75\uDC7F-\uDCBA\uDCC2\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD44-\uDD47\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDC9-\uDDCC\uDDCE-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E-\uDE41\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3B-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7-\uDFC0\uDFC2\uDFC5\uDFC7-\uDFCA\uDFCC-\uDFD3\uDFE1\uDFE2]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5E-\uDC61\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB8\uDEC0-\uDEC9\uDED0-\uDEE3\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF39\uDF40-\uDF46]|\uD806[\uDC00-\uDC3A\uDCA0-\uDCE9\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD35\uDD37\uDD38\uDD3B-\uDD43\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDE1\uDDE3\uDDE4\uDE00-\uDE3E\uDE47\uDE50-\uDE99\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0\uDFF0-\uDFF9]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF6\uDF00-\uDF10\uDF12-\uDF3A\uDF3E-\uDF42\uDF50-\uDF5A\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC40-\uDC55\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD39]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDD70-\uDD79\uDE40-\uDE7F\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3\uDFE4\uDFF0\uDFF1]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD833[\uDCF0-\uDCF9\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC30-\uDC6D\uDC8F\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAE\uDEC0-\uDEF9]|\uD839[\uDCD0-\uDCF9\uDDD0-\uDDFA\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4B\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF]|\uDB40[\uDD00-\uDDEF])*$/,Xi={};function eu(e,t){return((t||Xi).jsx?Zi:Yi).test(e)}const tu=/[ \t\n\f\r]/g;function ru(e){return""===e.replace(tu,"")}class nu{constructor(e,t,r){this.normal=t,this.property=e,r&&(this.space=r)}}function au(e,t){const r={},n={};for(const a of e)Object.assign(r,a.property),Object.assign(n,a.normal);return new nu(r,n,t)}function su(e){return e.toLowerCase()}nu.prototype.normal={},nu.prototype.property={},nu.prototype.space=void 0;class lu{constructor(e,t){this.attribute=t,this.property=e}}lu.prototype.attribute="",lu.prototype.booleanish=!1,lu.prototype.boolean=!1,lu.prototype.commaOrSpaceSeparated=!1,lu.prototype.commaSeparated=!1,lu.prototype.defined=!1,lu.prototype.mustUseProperty=!1,lu.prototype.number=!1,lu.prototype.overloadedBoolean=!1,lu.prototype.property="",lu.prototype.spaceSeparated=!1,lu.prototype.space=void 0;let ou=0;const iu=gu(),uu=gu(),cu=gu(),du=gu(),mu=gu(),pu=gu(),hu=gu();function gu(){return 2**++ou}const fu=Object.keys(a);class xu extends lu{constructor(e,t,r,n){let s=-1;if(super(e,t),yu(this,"space",n),"number"===typeof r)for(;++s<fu.length;){const e=fu[s];yu(this,fu[s],(r&a[e])===a[e])}}}function yu(e,t,r){r&&(e[t]=r)}function bu(e){const t={},r={};for(const[n,a]of Object.entries(e.properties)){const s=new xu(n,e.transform(e.attributes||{},n),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(s.mustUseProperty=!0),t[n]=s,r[su(n)]=n,r[su(s.attribute)]=n}return new nu(t,r,e.space)}xu.prototype.defined=!0;const vu=bu({properties:{ariaActiveDescendant:null,ariaAtomic:uu,ariaAutoComplete:null,ariaBusy:uu,ariaChecked:uu,ariaColCount:du,ariaColIndex:du,ariaColSpan:du,ariaControls:mu,ariaCurrent:null,ariaDescribedBy:mu,ariaDetails:null,ariaDisabled:uu,ariaDropEffect:mu,ariaErrorMessage:null,ariaExpanded:uu,ariaFlowTo:mu,ariaGrabbed:uu,ariaHasPopup:null,ariaHidden:uu,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:mu,ariaLevel:du,ariaLive:null,ariaModal:uu,ariaMultiLine:uu,ariaMultiSelectable:uu,ariaOrientation:null,ariaOwns:mu,ariaPlaceholder:null,ariaPosInSet:du,ariaPressed:uu,ariaReadOnly:uu,ariaRelevant:null,ariaRequired:uu,ariaRoleDescription:mu,ariaRowCount:du,ariaRowIndex:du,ariaRowSpan:du,ariaSelected:uu,ariaSetSize:du,ariaSort:null,ariaValueMax:du,ariaValueMin:du,ariaValueNow:du,ariaValueText:null,role:null},transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase()});function Du(e,t){return t in e?e[t]:t}function ku(e,t){return Du(e,t.toLowerCase())}const wu=bu({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:pu,acceptCharset:mu,accessKey:mu,action:null,allow:null,allowFullScreen:iu,allowPaymentRequest:iu,allowUserMedia:iu,alt:null,as:null,async:iu,autoCapitalize:null,autoComplete:mu,autoFocus:iu,autoPlay:iu,blocking:mu,capture:null,charSet:null,checked:iu,cite:null,className:mu,cols:du,colSpan:null,content:null,contentEditable:uu,controls:iu,controlsList:mu,coords:du|pu,crossOrigin:null,data:null,dateTime:null,decoding:null,default:iu,defer:iu,dir:null,dirName:null,disabled:iu,download:cu,draggable:uu,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:iu,formTarget:null,headers:mu,height:du,hidden:cu,high:du,href:null,hrefLang:null,htmlFor:mu,httpEquiv:mu,id:null,imageSizes:null,imageSrcSet:null,inert:iu,inputMode:null,integrity:null,is:null,isMap:iu,itemId:null,itemProp:mu,itemRef:mu,itemScope:iu,itemType:mu,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:iu,low:du,manifest:null,max:null,maxLength:du,media:null,method:null,min:null,minLength:du,multiple:iu,muted:iu,name:null,nonce:null,noModule:iu,noValidate:iu,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:iu,optimum:du,pattern:null,ping:mu,placeholder:null,playsInline:iu,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:iu,referrerPolicy:null,rel:mu,required:iu,reversed:iu,rows:du,rowSpan:du,sandbox:mu,scope:null,scoped:iu,seamless:iu,selected:iu,shadowRootClonable:iu,shadowRootDelegatesFocus:iu,shadowRootMode:null,shape:null,size:du,sizes:null,slot:null,span:du,spellCheck:uu,src:null,srcDoc:null,srcLang:null,srcSet:null,start:du,step:null,style:null,tabIndex:du,target:null,title:null,translate:null,type:null,typeMustMatch:iu,useMap:null,value:uu,width:du,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:mu,axis:null,background:null,bgColor:null,border:du,borderColor:null,bottomMargin:du,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:iu,declare:iu,event:null,face:null,frame:null,frameBorder:null,hSpace:du,leftMargin:du,link:null,longDesc:null,lowSrc:null,marginHeight:du,marginWidth:du,noResize:iu,noHref:iu,noShade:iu,noWrap:iu,object:null,profile:null,prompt:null,rev:null,rightMargin:du,rules:null,scheme:null,scrolling:uu,standby:null,summary:null,text:null,topMargin:du,valueType:null,version:null,vAlign:null,vLink:null,vSpace:du,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:iu,disableRemotePlayback:iu,prefix:null,property:null,results:du,security:null,unselectable:null},space:"html",transform:ku}),Cu=bu({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:hu,accentHeight:du,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:du,amplitude:du,arabicForm:null,ascent:du,attributeName:null,attributeType:null,azimuth:du,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:du,by:null,calcMode:null,capHeight:du,className:mu,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:du,diffuseConstant:du,direction:null,display:null,dur:null,divisor:du,dominantBaseline:null,download:iu,dx:null,dy:null,edgeMode:null,editable:null,elevation:du,enableBackground:null,end:null,event:null,exponent:du,externalResourcesRequired:null,fill:null,fillOpacity:du,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:pu,g2:pu,glyphName:pu,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:du,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:du,horizOriginX:du,horizOriginY:du,id:null,ideographic:du,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:du,k:du,k1:du,k2:du,k3:du,k4:du,kernelMatrix:hu,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:du,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:du,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:du,overlineThickness:du,paintOrder:null,panose1:null,path:null,pathLength:du,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:mu,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:du,pointsAtY:du,pointsAtZ:du,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:hu,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:hu,rev:hu,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:hu,requiredFeatures:hu,requiredFonts:hu,requiredFormats:hu,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:du,specularExponent:du,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:du,strikethroughThickness:du,string:null,stroke:null,strokeDashArray:hu,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:du,strokeOpacity:du,strokeWidth:null,style:null,surfaceScale:du,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:hu,tabIndex:du,tableValues:null,target:null,targetX:du,targetY:du,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:hu,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:du,underlineThickness:du,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:du,values:null,vAlphabetic:du,vMathematical:du,vectorEffect:null,vHanging:du,vIdeographic:du,version:null,vertAdvY:du,vertOriginX:du,vertOriginY:du,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:du,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Du}),ju=bu({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase()}),Fu=bu({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:ku}),Nu=bu({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase()}),Eu=au([vu,wu,ju,Fu,Nu],"html"),Au=au([vu,Cu,ju,Fu,Nu],"svg"),Su=/[A-Z]/g,_u=/-[a-z]/g,Bu=/^data[-\w.:]+$/i;function Tu(e){return"-"+e.toLowerCase()}function Lu(e){return e.charAt(1).toUpperCase()}const Ru={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"};var Pu=r(294);const Ou=Mu("end"),Iu=Mu("start");function Mu(e){return function(t){const r=t&&t.position&&t.position[e]||{};if("number"===typeof r.line&&r.line>0&&"number"===typeof r.column&&r.column>0)return{line:r.line,column:r.column,offset:"number"===typeof r.offset&&r.offset>-1?r.offset:void 0}}}function zu(e){return e&&"object"===typeof e?"position"in e||"type"in e?Hu(e.position):"start"in e||"end"in e?Hu(e):"line"in e||"column"in e?Uu(e):"":""}function Uu(e){return Vu(e&&e.line)+":"+Vu(e&&e.column)}function Hu(e){return Uu(e&&e.start)+"-"+Uu(e&&e.end)}function Vu(e){return e&&"number"===typeof e?e:1}class Wu extends Error{constructor(e,t,r){super(),"string"===typeof t&&(r=t,t=void 0);let n="",a={},s=!1;if(t&&(a="line"in t&&"column"in t||"start"in t&&"end"in t?{place:t}:"type"in t?{ancestors:[t],place:t.position}:qt({},t)),"string"===typeof e?n=e:!a.cause&&e&&(s=!0,n=e.message,a.cause=e),!a.ruleId&&!a.source&&"string"===typeof r){const e=r.indexOf(":");-1===e?a.ruleId=r:(a.source=r.slice(0,e),a.ruleId=r.slice(e+1))}if(!a.place&&a.ancestors&&a.ancestors){const e=a.ancestors[a.ancestors.length-1];e&&(a.place=e.position)}const l=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=n,this.line=l?l.line:void 0,this.name=zu(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&"string"===typeof a.cause.stack?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Wu.prototype.file="",Wu.prototype.name="",Wu.prototype.reason="",Wu.prototype.message="",Wu.prototype.stack="",Wu.prototype.column=void 0,Wu.prototype.line=void 0,Wu.prototype.ancestors=void 0,Wu.prototype.cause=void 0,Wu.prototype.fatal=void 0,Wu.prototype.place=void 0,Wu.prototype.ruleId=void 0,Wu.prototype.source=void 0;const qu={}.hasOwnProperty,Ku=new Map,$u=/[A-Z]/g,Ju=new Set(["table","tbody","thead","tfoot","tr"]),Qu=new Set(["td","th"]),Gu="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Yu(e,t){if(!t||void 0===t.Fragment)throw new TypeError("Expected `Fragment` in options");const r=t.filePath||void 0;let n;if(t.development){if("function"!==typeof t.jsxDEV)throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=function(e,t){return r;function r(r,n,a,s){const l=Array.isArray(a.children),o=Iu(r);return t(n,a,s,l,{columnNumber:o?o.column-1:void 0,fileName:e,lineNumber:o?o.line:void 0},void 0)}}(r,t.jsxDEV)}else{if("function"!==typeof t.jsx)throw new TypeError("Expected `jsx` in production options");if("function"!==typeof t.jsxs)throw new TypeError("Expected `jsxs` in production options");n=function(e,t,r){return n;function n(e,n,a,s){const l=Array.isArray(a.children)?r:t;return s?l(n,a,s):l(n,a)}}(0,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:n,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:!1!==t.passKeys,passNode:t.passNode||!1,schema:"svg"===t.space?Au:Eu,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:!1!==t.tableCellAlignToStyle},s=Zu(a,e,void 0);return s&&"string"!==typeof s?s:a.create(e,a.Fragment,{children:s||void 0},void 0)}function Zu(e,t,r){return"element"===t.type?function(e,t,r){const n=e.schema;let a=n;"svg"===t.tagName.toLowerCase()&&"html"===n.space&&(a=Au,e.schema=a);e.ancestors.push(t);const s=nc(e,t.tagName,!1),l=function(e,t){const r={};let n,a;for(a in t.properties)if("children"!==a&&qu.call(t.properties,a)){const s=rc(e,a,t.properties[a]);if(s){const[a,l]=s;e.tableCellAlignToStyle&&"align"===a&&"string"===typeof l&&Qu.has(t.tagName)?n=l:r[a]=l}}if(n){(r.style||(r.style={}))["css"===e.stylePropertyNameCase?"text-align":"textAlign"]=n}return r}(e,t);let o=tc(e,t);Ju.has(t.tagName)&&(o=o.filter(function(e){return"string"!==typeof e||!("object"===typeof(t=e)?"text"===t.type&&ru(t.value):ru(t));var t}));return Xu(e,l,s,t),ec(l,o),e.ancestors.pop(),e.schema=n,e.create(t,s,l,r)}(e,t,r):"mdxFlowExpression"===t.type||"mdxTextExpression"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}ac(e,t.position)}(e,t):"mdxJsxFlowElement"===t.type||"mdxJsxTextElement"===t.type?function(e,t,r){const n=e.schema;let a=n;"svg"===t.name&&"html"===n.space&&(a=Au,e.schema=a);e.ancestors.push(t);const s=null===t.name?e.Fragment:nc(e,t.name,!0),l=function(e,t){const r={};for(const n of t.attributes)if("mdxJsxExpressionAttribute"===n.type)if(n.data&&n.data.estree&&e.evaluater){const t=n.data.estree.body[0];Qi(t.type);const a=t.expression;Qi(a.type);const s=a.properties[0];Qi(s.type),Object.assign(r,e.evaluater.evaluateExpression(s.argument))}else ac(e,t.position);else{const a=n.name;let s;if(n.value&&"object"===typeof n.value)if(n.value.data&&n.value.data.estree&&e.evaluater){const t=n.value.data.estree.body[0];Qi(t.type),s=e.evaluater.evaluateExpression(t.expression)}else ac(e,t.position);else s=null===n.value||n.value;r[a]=s}return r}(e,t),o=tc(e,t);return Xu(e,l,s,t),ec(l,o),e.ancestors.pop(),e.schema=n,e.create(t,s,l,r)}(e,t,r):"mdxjsEsm"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);ac(e,t.position)}(e,t):"root"===t.type?function(e,t,r){const n={};return ec(n,tc(e,t)),e.create(t,e.Fragment,n,r)}(e,t,r):"text"===t.type?function(e,t){return t.value}(0,t):void 0}function Xu(e,t,r,n){"string"!==typeof r&&r!==e.Fragment&&e.passNode&&(t.node=n)}function ec(e,t){if(t.length>0){const r=t.length>1?t:t[0];r&&(e.children=r)}}function tc(e,t){const r=[];let n=-1;const a=e.passKeys?new Map:Ku;for(;++n<t.children.length;){const s=t.children[n];let l;if(e.passKeys){const e="element"===s.type?s.tagName:"mdxJsxFlowElement"===s.type||"mdxJsxTextElement"===s.type?s.name:void 0;if(e){const t=a.get(e)||0;l=e+"-"+t,a.set(e,t+1)}}const o=Zu(e,s,l);void 0!==o&&r.push(o)}return r}function rc(e,t,r){const n=function(e,t){const r=su(t);let n=t,a=lu;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&"data"===r.slice(0,4)&&Bu.test(t)){if("-"===t.charAt(4)){const e=t.slice(5).replace(_u,Lu);n="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{const e=t.slice(4);if(!_u.test(e)){let r=e.replace(Su,Tu);"-"!==r.charAt(0)&&(r="-"+r),t="data"+r}}a=xu}return new a(n,t)}(e.schema,t);if(!(null===r||void 0===r||"number"===typeof r&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?function(e,t){const r=t||{};return(""===e[e.length-1]?[...e,""]:e).join((r.padRight?" ":"")+","+(!1===r.padLeft?"":" ")).trim()}(r):r.join(" ").trim()),"style"===n.property){let t="object"===typeof r?r:function(e,t){try{return Pu(t,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const t=r,n=new Wu("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:t,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Gu+"#cannot-parse-style-attribute",n}}(e,String(r));return"css"===e.stylePropertyNameCase&&(t=function(e){const t={};let r;for(r in e)qu.call(e,r)&&(t[sc(r)]=e[r]);return t}(t)),["style",t]}return["react"===e.elementAttributeNameCase&&n.space?Ru[n.property]||n.property:n.attribute,r]}}function nc(e,t,r){let n;if(r)if(t.includes(".")){const e=t.split(".");let r,a=-1;for(;++a<e.length;){const t=eu(e[a])?{type:"Identifier",name:e[a]}:{type:"Literal",value:e[a]};r=r?{type:"MemberExpression",object:r,property:t,computed:Boolean(a&&"Literal"===t.type),optional:!1}:t}n=r}else n=eu(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};else n={type:"Literal",value:t};if("Literal"===n.type){const t=n.value;return qu.call(e.components,t)?e.components[t]:t}if(e.evaluater)return e.evaluater.evaluateExpression(n);ac(e)}function ac(e,t){const r=new Wu("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=Gu+"#cannot-handle-mdx-estrees-without-createevaluater",r}function sc(e){let t=e.replace($u,lc);return"ms-"===t.slice(0,3)&&(t="-"+t),t}function lc(e){return"-"+e.toLowerCase()}const oc={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},ic={};function uc(e,t){const r=t||ic;return cc(e,"boolean"!==typeof r.includeImageAlt||r.includeImageAlt,"boolean"!==typeof r.includeHtml||r.includeHtml)}function cc(e,t,r){if(function(e){return Boolean(e&&"object"===typeof e)}(e)){if("value"in e)return"html"!==e.type||r?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return dc(e.children,t,r)}return Array.isArray(e)?dc(e,t,r):""}function dc(e,t,r){const n=[];let a=-1;for(;++a<e.length;)n[a]=cc(e[a],t,r);return n.join("")}function mc(e,t,r,n){const a=e.length;let s,l=0;if(t=t<0?-t>a?0:a+t:t>a?a:t,r=r>0?r:0,n.length<1e4)s=Array.from(n),s.unshift(t,r),e.splice(...s);else for(r&&e.splice(t,r);l<n.length;)s=n.slice(l,l+1e4),s.unshift(t,0),e.splice(...s),l+=1e4,t+=1e4}function pc(e,t){return e.length>0?(mc(e,e.length,0,t),e):t}class hc{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const r=null===t||void 0===t?Number.POSITIVE_INFINITY:t;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,t,r){const n=t||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-n,Number.POSITIVE_INFINITY);return r&&gc(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),gc(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),gc(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&0===this.right.length||e<0&&0===this.left.length))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);gc(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);gc(this.left,t.reverse())}}}function gc(e,t){let r=0;if(t.length<1e4)e.push(...t);else for(;r<t.length;)e.push(...t.slice(r,r+1e4)),r+=1e4}function fc(e){const t={};let r,n,a,s,l,o,i,u=-1;const c=new hc(e);for(;++u<c.length;){for(;u in t;)u=t[u];if(r=c.get(u),u&&"chunkFlow"===r[1].type&&"listItemPrefix"===c.get(u-1)[1].type&&(o=r[1]._tokenizer.events,a=0,a<o.length&&"lineEndingBlank"===o[a][1].type&&(a+=2),a<o.length&&"content"===o[a][1].type))for(;++a<o.length&&"content"!==o[a][1].type;)"chunkText"===o[a][1].type&&(o[a][1]._isInFirstContentOfListItem=!0,a++);if("enter"===r[0])r[1].contentType&&(Object.assign(t,xc(c,u)),u=t[u],i=!0);else if(r[1]._container){for(a=u,n=void 0;a--;)if(s=c.get(a),"lineEnding"===s[1].type||"lineEndingBlank"===s[1].type)"enter"===s[0]&&(n&&(c.get(n)[1].type="lineEndingBlank"),s[1].type="lineEnding",n=a);else if("linePrefix"!==s[1].type&&"listItemIndent"!==s[1].type)break;n&&(r[1].end=qt({},c.get(n)[1].start),l=c.slice(n,u),l.unshift(r),c.splice(n,u-n+1,l))}}return mc(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!i}function xc(e,t){const r=e.get(t)[1],n=e.get(t)[2];let a=t-1;const s=[];let l=r._tokenizer;l||(l=n.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const o=l.events,i=[],u={};let c,d,m=-1,p=r,h=0,g=0;const f=[g];for(;p;){for(;e.get(++a)[1]!==p;);s.push(a),p._tokenizer||(c=n.sliceStream(p),p.next||c.push(null),d&&l.defineSkip(p.start),p._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(c),p._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=r;++m<o.length;)"exit"===o[m][0]&&"enter"===o[m-1][0]&&o[m][1].type===o[m-1][1].type&&o[m][1].start.line!==o[m][1].end.line&&(g=m+1,f.push(g),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(l.events=[],p?(p._tokenizer=void 0,p.previous=void 0):f.pop(),m=f.length;m--;){const t=o.slice(f[m],f[m+1]),r=s.pop();i.push([r,r+t.length-1]),e.splice(r,2,t)}for(i.reverse(),m=-1;++m<i.length;)u[h+i[m][0]]=h+i[m][1],h+=i[m][1]-i[m][0]-1;return u}const yc={}.hasOwnProperty;function bc(e){const t={};let r=-1;for(;++r<e.length;)vc(t,e[r]);return t}function vc(e,t){let r;for(r in t){const n=(yc.call(e,r)?e[r]:void 0)||(e[r]={}),a=t[r];let s;if(a)for(s in a){yc.call(n,s)||(n[s]=[]);const e=a[s];Dc(n[s],Array.isArray(e)?e:e?[e]:[])}}}function Dc(e,t){let r=-1;const n=[];for(;++r<t.length;)("after"===t[r].add?e:n).push(t[r]);mc(e,0,0,n)}const kc=Lc(/[A-Za-z]/),wc=Lc(/[\dA-Za-z]/),Cc=Lc(/[#-'*+\--9=?A-Z^-~]/);function jc(e){return null!==e&&(e<32||127===e)}const Fc=Lc(/\d/),Nc=Lc(/[\dA-Fa-f]/),Ec=Lc(/[!-/:-@[-`{-~]/);function Ac(e){return null!==e&&e<-2}function Sc(e){return null!==e&&(e<0||32===e)}function _c(e){return-2===e||-1===e||32===e}const Bc=Lc(/(?:[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B4E\u1B4F\u1B5A-\u1B60\u1B7D-\u1B7F\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDD6E\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9\uDFD4\uDFD5\uDFD7\uDFD8]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09\uDFE1]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDD6D-\uDD6F\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD839\uDDFF|\uD83A[\uDD5E\uDD5F])|(?:[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2429\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E5\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD803[\uDD8E\uDD8F]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDC00-\uDCEF\uDD00-\uDEB3\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0-\uDCBB\uDCC0\uDCC1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE89\uDE8F-\uDEC6\uDECE-\uDEDC\uDEDF-\uDEE9\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFEF])/),Tc=Lc(/\s/);function Lc(e){return function(t){return null!==t&&t>-1&&e.test(String.fromCharCode(t))}}function Rc(e,t,r,n){const a=n?n-1:Number.POSITIVE_INFINITY;let s=0;return function(n){if(_c(n))return e.enter(r),l(n);return t(n)};function l(n){return _c(n)&&s++<a?(e.consume(n),l):(e.exit(r),t(n))}}const Pc={tokenize:function(e){const t=e.attempt(this.parser.constructs.contentInitial,function(r){if(null===r)return void e.consume(r);return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Rc(e,t,"linePrefix")},function(t){return e.enter("paragraph"),n(t)});let r;return t;function n(t){const n=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=n),r=n,a(t)}function a(t){return null===t?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(t)):Ac(t)?(e.consume(t),e.exit("chunkText"),n):(e.consume(t),a)}}};const Oc={tokenize:function(e){const t=this,r=[];let n,a,s,l=0;return o;function o(n){if(l<r.length){const a=r[l];return t.containerState=a[1],e.attempt(a[0].continuation,i,u)(n)}return u(n)}function i(e){if(l++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,n&&y();const r=t.events.length;let a,s=r;for(;s--;)if("exit"===t.events[s][0]&&"chunkFlow"===t.events[s][1].type){a=t.events[s][1].end;break}x(l);let o=r;for(;o<t.events.length;)t.events[o][1].end=qt({},a),o++;return mc(t.events,s+1,0,t.events.slice(r)),t.events.length=o,u(e)}return o(e)}function u(a){if(l===r.length){if(!n)return m(a);if(n.currentConstruct&&n.currentConstruct.concrete)return h(a);t.interrupt=Boolean(n.currentConstruct&&!n._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Ic,c,d)(a)}function c(e){return n&&y(),x(l),m(e)}function d(e){return t.parser.lazy[t.now().line]=l!==r.length,s=t.now().offset,h(e)}function m(r){return t.containerState={},e.attempt(Ic,p,h)(r)}function p(e){return l++,r.push([t.currentConstruct,t.containerState]),m(e)}function h(r){return null===r?(n&&y(),x(0),void e.consume(r)):(n=n||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:n,contentType:"flow",previous:a}),g(r))}function g(r){return null===r?(f(e.exit("chunkFlow"),!0),x(0),void e.consume(r)):Ac(r)?(e.consume(r),f(e.exit("chunkFlow")),l=0,t.interrupt=void 0,o):(e.consume(r),g)}function f(e,r){const o=t.sliceStream(e);if(r&&o.push(null),e.previous=a,a&&(a.next=e),a=e,n.defineSkip(e.start),n.write(o),t.parser.lazy[e.start.line]){let e=n.events.length;for(;e--;)if(n.events[e][1].start.offset<s&&(!n.events[e][1].end||n.events[e][1].end.offset>s))return;const r=t.events.length;let a,o,i=r;for(;i--;)if("exit"===t.events[i][0]&&"chunkFlow"===t.events[i][1].type){if(a){o=t.events[i][1].end;break}a=!0}for(x(l),e=r;e<t.events.length;)t.events[e][1].end=qt({},o),e++;mc(t.events,i+1,0,t.events.slice(r)),t.events.length=e}}function x(n){let a=r.length;for(;a-- >n;){const n=r[a];t.containerState=n[1],n[0].exit.call(t,e)}r.length=n}function y(){n.write([null]),a=void 0,n=void 0,t.containerState._closeFlow=void 0}}},Ic={tokenize:function(e,t,r){return Rc(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};const Mc={partial:!0,tokenize:function(e,t,r){return function(t){return _c(t)?Rc(e,n,"linePrefix")(t):n(t)};function n(e){return null===e||Ac(e)?t(e):r(e)}}};const zc={resolve:function(e){return fc(e),e},tokenize:function(e,t){let r;return function(t){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),n(t)};function n(t){return null===t?a(t):Ac(t)?e.check(Uc,s,a)(t):(e.consume(t),n)}function a(r){return e.exit("chunkContent"),e.exit("content"),t(r)}function s(t){return e.consume(t),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,n}}},Uc={partial:!0,tokenize:function(e,t,r){const n=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),Rc(e,a,"linePrefix")};function a(a){if(null===a||Ac(a))return r(a);const s=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&s&&"linePrefix"===s[1].type&&s[2].sliceSerialize(s[1],!0).length>=4?t(a):e.interrupt(n.parser.constructs.flow,r,t)(a)}}};const Hc={tokenize:function(e){const t=this,r=e.attempt(Mc,function(n){if(null===n)return void e.consume(n);return e.enter("lineEndingBlank"),e.consume(n),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r},e.attempt(this.parser.constructs.flowInitial,n,Rc(e,e.attempt(this.parser.constructs.flow,n,e.attempt(zc,n)),"linePrefix")));return r;function n(n){if(null!==n)return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),t.currentConstruct=void 0,r;e.consume(n)}}};const Vc={resolveAll:$c()},Wc=Kc("string"),qc=Kc("text");function Kc(e){return{resolveAll:$c("text"===e?Jc:void 0),tokenize:function(t){const r=this,n=this.parser.constructs[e],a=t.attempt(n,s,l);return s;function s(e){return i(e)?a(e):l(e)}function l(e){if(null!==e)return t.enter("data"),t.consume(e),o;t.consume(e)}function o(e){return i(e)?(t.exit("data"),a(e)):(t.consume(e),o)}function i(e){if(null===e)return!0;const t=n[e];let a=-1;if(t)for(;++a<t.length;){const e=t[a];if(!e.previous||e.previous.call(r,r.previous))return!0}return!1}}}}function $c(e){return function(t,r){let n,a=-1;for(;++a<=t.length;)void 0===n?t[a]&&"data"===t[a][1].type&&(n=a,a++):t[a]&&"data"===t[a][1].type||(a!==n+2&&(t[n][1].end=t[a-1][1].end,t.splice(n+2,a-n-2),a=n+2),n=void 0);return e?e(t,r):t}}function Jc(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||"lineEnding"===e[r][1].type)&&"data"===e[r-1][1].type){const n=e[r-1][1],a=t.sliceStream(n);let s,l=a.length,o=-1,i=0;for(;l--;){const e=a[l];if("string"===typeof e){for(o=e.length;32===e.charCodeAt(o-1);)i++,o--;if(o)break;o=-1}else if(-2===e)s=!0,i++;else if(-1!==e){l++;break}}if(t._contentTypeTextTrailing&&r===e.length&&(i=0),i){const a={type:r===e.length||s||i<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?o:n.start._bufferIndex+o,_index:n.start._index+l,line:n.end.line,column:n.end.column-i,offset:n.end.offset-i},end:qt({},n.end)};n.end=qt({},a.start),n.start.offset===n.end.offset?Object.assign(n,a):(e.splice(r,0,["enter",a,t],["exit",a,t]),r+=2)}r++}return e}const Qc={name:"thematicBreak",tokenize:function(e,t,r){let n,a=0;return function(t){return e.enter("thematicBreak"),function(e){return n=e,s(e)}(t)};function s(s){return s===n?(e.enter("thematicBreakSequence"),l(s)):a>=3&&(null===s||Ac(s))?(e.exit("thematicBreak"),t(s)):r(s)}function l(t){return t===n?(e.consume(t),a++,l):(e.exit("thematicBreakSequence"),_c(t)?Rc(e,s,"whitespace")(t):s(t))}}};const Gc={continuation:{tokenize:function(e,t,r){const n=this;return n.containerState._closeFlow=void 0,e.check(Mc,a,s);function a(r){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,Rc(e,t,"listItemIndent",n.containerState.size+1)(r)}function s(r){return n.containerState.furtherBlankLines||!_c(r)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,l(r)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(Zc,t,l)(r))}function l(a){return n.containerState._closeFlow=!0,n.interrupt=void 0,Rc(e,e.attempt(Gc,t,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}},exit:function(e){e.exit(this.containerState.type)},name:"list",tokenize:function(e,t,r){const n=this,a=n.events[n.events.length-1];let s=a&&"linePrefix"===a[1].type?a[2].sliceSerialize(a[1],!0).length:0,l=0;return function(t){const a=n.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===a?!n.containerState.marker||t===n.containerState.marker:Fc(t)){if(n.containerState.type||(n.containerState.type=a,e.enter(a,{_container:!0})),"listUnordered"===a)return e.enter("listItemPrefix"),42===t||45===t?e.check(Qc,r,i)(t):i(t);if(!n.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),o(t)}return r(t)};function o(t){return Fc(t)&&++l<10?(e.consume(t),o):(!n.interrupt||l<2)&&(n.containerState.marker?t===n.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),i(t)):r(t)}function i(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||t,e.check(Mc,n.interrupt?r:u,e.attempt(Yc,d,c))}function u(e){return n.containerState.initialBlankLine=!0,s++,d(e)}function c(t){return _c(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),d):r(t)}function d(r){return n.containerState.size=s+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(r)}}},Yc={partial:!0,tokenize:function(e,t,r){const n=this;return Rc(e,function(e){const a=n.events[n.events.length-1];return!_c(e)&&a&&"listItemPrefixWhitespace"===a[1].type?t(e):r(e)},"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5)}},Zc={partial:!0,tokenize:function(e,t,r){const n=this;return Rc(e,function(e){const a=n.events[n.events.length-1];return a&&"listItemIndent"===a[1].type&&a[2].sliceSerialize(a[1],!0).length===n.containerState.size?t(e):r(e)},"listItemIndent",n.containerState.size+1)}};const Xc={continuation:{tokenize:function(e,t,r){const n=this;return function(t){if(_c(t))return Rc(e,a,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t);return a(t)};function a(n){return e.attempt(Xc,t,r)(n)}}},exit:function(e){e.exit("blockQuote")},name:"blockQuote",tokenize:function(e,t,r){const n=this;return function(t){if(62===t){const r=n.containerState;return r.open||(e.enter("blockQuote",{_container:!0}),r.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),a}return r(t)};function a(r){return _c(r)?(e.enter("blockQuotePrefixWhitespace"),e.consume(r),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(r))}}};function ed(e,t,r,n,a,s,l,o,i){const u=i||Number.POSITIVE_INFINITY;let c=0;return function(t){if(60===t)return e.enter(n),e.enter(a),e.enter(s),e.consume(t),e.exit(s),d;if(null===t||32===t||41===t||jc(t))return r(t);return e.enter(n),e.enter(l),e.enter(o),e.enter("chunkString",{contentType:"string"}),h(t)};function d(r){return 62===r?(e.enter(s),e.consume(r),e.exit(s),e.exit(a),e.exit(n),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),m(r))}function m(t){return 62===t?(e.exit("chunkString"),e.exit(o),d(t)):null===t||60===t||Ac(t)?r(t):(e.consume(t),92===t?p:m)}function p(t){return 60===t||62===t||92===t?(e.consume(t),m):m(t)}function h(a){return c||null!==a&&41!==a&&!Sc(a)?c<u&&40===a?(e.consume(a),c++,h):41===a?(e.consume(a),c--,h):null===a||32===a||40===a||jc(a)?r(a):(e.consume(a),92===a?g:h):(e.exit("chunkString"),e.exit(o),e.exit(l),e.exit(n),t(a))}function g(t){return 40===t||41===t||92===t?(e.consume(t),h):h(t)}}function td(e,t,r,n,a,s){const l=this;let o,i=0;return function(t){return e.enter(n),e.enter(a),e.consume(t),e.exit(a),e.enter(s),u};function u(d){return i>999||null===d||91===d||93===d&&!o||94===d&&!i&&"_hiddenFootnoteSupport"in l.parser.constructs?r(d):93===d?(e.exit(s),e.enter(a),e.consume(d),e.exit(a),e.exit(n),t):Ac(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),u):(e.enter("chunkString",{contentType:"string"}),c(d))}function c(t){return null===t||91===t||93===t||Ac(t)||i++>999?(e.exit("chunkString"),u(t)):(e.consume(t),o||(o=!_c(t)),92===t?d:c)}function d(t){return 91===t||92===t||93===t?(e.consume(t),i++,c):c(t)}}function rd(e,t,r,n,a,s){let l;return function(t){if(34===t||39===t||40===t)return e.enter(n),e.enter(a),e.consume(t),e.exit(a),l=40===t?41:t,o;return r(t)};function o(r){return r===l?(e.enter(a),e.consume(r),e.exit(a),e.exit(n),t):(e.enter(s),i(r))}function i(t){return t===l?(e.exit(s),o(l)):null===t?r(t):Ac(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),Rc(e,i,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),u(t))}function u(t){return t===l||null===t||Ac(t)?(e.exit("chunkString"),i(t)):(e.consume(t),92===t?c:u)}function c(t){return t===l||92===t?(e.consume(t),u):u(t)}}function nd(e,t){let r;return function n(a){if(Ac(a))return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),r=!0,n;if(_c(a))return Rc(e,n,r?"linePrefix":"lineSuffix")(a);return t(a)}}function ad(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const sd={name:"definition",tokenize:function(e,t,r){const n=this;let a;return function(t){return e.enter("definition"),function(t){return td.call(n,e,s,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)}(t)};function s(t){return a=ad(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),l):r(t)}function l(t){return Sc(t)?nd(e,o)(t):o(t)}function o(t){return ed(e,i,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(t)}function i(t){return e.attempt(ld,u,u)(t)}function u(t){return _c(t)?Rc(e,c,"whitespace")(t):c(t)}function c(s){return null===s||Ac(s)?(e.exit("definition"),n.parser.defined.push(a),t(s)):r(s)}}},ld={partial:!0,tokenize:function(e,t,r){return function(t){return Sc(t)?nd(e,n)(t):r(t)};function n(t){return rd(e,a,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(t)}function a(t){return _c(t)?Rc(e,s,"whitespace")(t):s(t)}function s(e){return null===e||Ac(e)?t(e):r(e)}}};const od={name:"codeIndented",tokenize:function(e,t,r){const n=this;return function(t){return e.enter("codeIndented"),Rc(e,a,"linePrefix",5)(t)};function a(e){const t=n.events[n.events.length-1];return t&&"linePrefix"===t[1].type&&t[2].sliceSerialize(t[1],!0).length>=4?s(e):r(e)}function s(t){return null===t?o(t):Ac(t)?e.attempt(id,s,o)(t):(e.enter("codeFlowValue"),l(t))}function l(t){return null===t||Ac(t)?(e.exit("codeFlowValue"),s(t)):(e.consume(t),l)}function o(r){return e.exit("codeIndented"),t(r)}}},id={partial:!0,tokenize:function(e,t,r){const n=this;return a;function a(t){return n.parser.lazy[n.now().line]?r(t):Ac(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),a):Rc(e,s,"linePrefix",5)(t)}function s(e){const s=n.events[n.events.length-1];return s&&"linePrefix"===s[1].type&&s[2].sliceSerialize(s[1],!0).length>=4?t(e):Ac(e)?a(e):r(e)}}};const ud={name:"headingAtx",resolve:function(e,t){let r,n,a=e.length-2,s=3;"whitespace"===e[s][1].type&&(s+=2);a-2>s&&"whitespace"===e[a][1].type&&(a-=2);"atxHeadingSequence"===e[a][1].type&&(s===a-1||a-4>s&&"whitespace"===e[a-2][1].type)&&(a-=s+1===a?2:4);a>s&&(r={type:"atxHeadingText",start:e[s][1].start,end:e[a][1].end},n={type:"chunkText",start:e[s][1].start,end:e[a][1].end,contentType:"text"},mc(e,s,a-s+1,[["enter",r,t],["enter",n,t],["exit",n,t],["exit",r,t]]));return e},tokenize:function(e,t,r){let n=0;return function(t){return e.enter("atxHeading"),function(t){return e.enter("atxHeadingSequence"),a(t)}(t)};function a(t){return 35===t&&n++<6?(e.consume(t),a):null===t||Sc(t)?(e.exit("atxHeadingSequence"),s(t)):r(t)}function s(r){return 35===r?(e.enter("atxHeadingSequence"),l(r)):null===r||Ac(r)?(e.exit("atxHeading"),t(r)):_c(r)?Rc(e,s,"whitespace")(r):(e.enter("atxHeadingText"),o(r))}function l(t){return 35===t?(e.consume(t),l):(e.exit("atxHeadingSequence"),s(t))}function o(t){return null===t||35===t||Sc(t)?(e.exit("atxHeadingText"),s(t)):(e.consume(t),o)}}};const cd={name:"setextUnderline",resolveTo:function(e,t){let r,n,a,s=e.length;for(;s--;)if("enter"===e[s][0]){if("content"===e[s][1].type){r=s;break}"paragraph"===e[s][1].type&&(n=s)}else"content"===e[s][1].type&&e.splice(s,1),a||"definition"!==e[s][1].type||(a=s);const l={type:"setextHeading",start:qt({},e[r][1].start),end:qt({},e[e.length-1][1].end)};e[n][1].type="setextHeadingText",a?(e.splice(n,0,["enter",l,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end=qt({},e[a][1].end)):e[r][1]=l;return e.push(["exit",l,t]),e},tokenize:function(e,t,r){const n=this;let a;return function(t){let l,o=n.events.length;for(;o--;)if("lineEnding"!==n.events[o][1].type&&"linePrefix"!==n.events[o][1].type&&"content"!==n.events[o][1].type){l="paragraph"===n.events[o][1].type;break}if(!n.parser.lazy[n.now().line]&&(n.interrupt||l))return e.enter("setextHeadingLine"),a=t,function(t){return e.enter("setextHeadingLineSequence"),s(t)}(t);return r(t)};function s(t){return t===a?(e.consume(t),s):(e.exit("setextHeadingLineSequence"),_c(t)?Rc(e,l,"lineSuffix")(t):l(t))}function l(n){return null===n||Ac(n)?(e.exit("setextHeadingLine"),t(n)):r(n)}}};const dd=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],md=["pre","script","style","textarea"],pd={concrete:!0,name:"htmlFlow",resolveTo:function(e){let t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2));return e},tokenize:function(e,t,r){const n=this;let a,s,l,o,i;return function(t){return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),u}(t)};function u(o){return 33===o?(e.consume(o),c):47===o?(e.consume(o),s=!0,p):63===o?(e.consume(o),a=3,n.interrupt?t:L):kc(o)?(e.consume(o),l=String.fromCharCode(o),h):r(o)}function c(s){return 45===s?(e.consume(s),a=2,d):91===s?(e.consume(s),a=5,o=0,m):kc(s)?(e.consume(s),a=4,n.interrupt?t:L):r(s)}function d(a){return 45===a?(e.consume(a),n.interrupt?t:L):r(a)}function m(a){const s="CDATA[";return a===s.charCodeAt(o++)?(e.consume(a),6===o?n.interrupt?t:F:m):r(a)}function p(t){return kc(t)?(e.consume(t),l=String.fromCharCode(t),h):r(t)}function h(o){if(null===o||47===o||62===o||Sc(o)){const i=47===o,u=l.toLowerCase();return i||s||!md.includes(u)?dd.includes(l.toLowerCase())?(a=6,i?(e.consume(o),g):n.interrupt?t(o):F(o)):(a=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(o):s?f(o):x(o)):(a=1,n.interrupt?t(o):F(o))}return 45===o||wc(o)?(e.consume(o),l+=String.fromCharCode(o),h):r(o)}function g(a){return 62===a?(e.consume(a),n.interrupt?t:F):r(a)}function f(t){return _c(t)?(e.consume(t),f):C(t)}function x(t){return 47===t?(e.consume(t),C):58===t||95===t||kc(t)?(e.consume(t),y):_c(t)?(e.consume(t),x):C(t)}function y(t){return 45===t||46===t||58===t||95===t||wc(t)?(e.consume(t),y):b(t)}function b(t){return 61===t?(e.consume(t),v):_c(t)?(e.consume(t),b):x(t)}function v(t){return null===t||60===t||61===t||62===t||96===t?r(t):34===t||39===t?(e.consume(t),i=t,D):_c(t)?(e.consume(t),v):k(t)}function D(t){return t===i?(e.consume(t),i=null,w):null===t||Ac(t)?r(t):(e.consume(t),D)}function k(t){return null===t||34===t||39===t||47===t||60===t||61===t||62===t||96===t||Sc(t)?b(t):(e.consume(t),k)}function w(e){return 47===e||62===e||_c(e)?x(e):r(e)}function C(t){return 62===t?(e.consume(t),j):r(t)}function j(t){return null===t||Ac(t)?F(t):_c(t)?(e.consume(t),j):r(t)}function F(t){return 45===t&&2===a?(e.consume(t),S):60===t&&1===a?(e.consume(t),_):62===t&&4===a?(e.consume(t),R):63===t&&3===a?(e.consume(t),L):93===t&&5===a?(e.consume(t),T):!Ac(t)||6!==a&&7!==a?null===t||Ac(t)?(e.exit("htmlFlowData"),N(t)):(e.consume(t),F):(e.exit("htmlFlowData"),e.check(hd,P,N)(t))}function N(t){return e.check(gd,E,P)(t)}function E(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),A}function A(t){return null===t||Ac(t)?N(t):(e.enter("htmlFlowData"),F(t))}function S(t){return 45===t?(e.consume(t),L):F(t)}function _(t){return 47===t?(e.consume(t),l="",B):F(t)}function B(t){if(62===t){const r=l.toLowerCase();return md.includes(r)?(e.consume(t),R):F(t)}return kc(t)&&l.length<8?(e.consume(t),l+=String.fromCharCode(t),B):F(t)}function T(t){return 93===t?(e.consume(t),L):F(t)}function L(t){return 62===t?(e.consume(t),R):45===t&&2===a?(e.consume(t),L):F(t)}function R(t){return null===t||Ac(t)?(e.exit("htmlFlowData"),P(t)):(e.consume(t),R)}function P(r){return e.exit("htmlFlow"),t(r)}}},hd={partial:!0,tokenize:function(e,t,r){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),e.attempt(Mc,t,r)}}},gd={partial:!0,tokenize:function(e,t,r){const n=this;return function(t){if(Ac(t))return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),a;return r(t)};function a(e){return n.parser.lazy[n.now().line]?r(e):t(e)}}};const fd={partial:!0,tokenize:function(e,t,r){const n=this;return function(t){if(null===t)return r(t);return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),a};function a(e){return n.parser.lazy[n.now().line]?r(e):t(e)}}},xd={concrete:!0,name:"codeFenced",tokenize:function(e,t,r){const n=this,a={partial:!0,tokenize:function(e,t,r){let a=0;return l;function l(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i}function i(t){return e.enter("codeFencedFence"),_c(t)?Rc(e,u,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):u(t)}function u(t){return t===s?(e.enter("codeFencedFenceSequence"),c(t)):r(t)}function c(t){return t===s?(a++,e.consume(t),c):a>=o?(e.exit("codeFencedFenceSequence"),_c(t)?Rc(e,d,"whitespace")(t):d(t)):r(t)}function d(n){return null===n||Ac(n)?(e.exit("codeFencedFence"),t(n)):r(n)}}};let s,l=0,o=0;return function(t){return function(t){const r=n.events[n.events.length-1];return l=r&&"linePrefix"===r[1].type?r[2].sliceSerialize(r[1],!0).length:0,s=t,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),i(t)}(t)};function i(t){return t===s?(o++,e.consume(t),i):o<3?r(t):(e.exit("codeFencedFenceSequence"),_c(t)?Rc(e,u,"whitespace")(t):u(t))}function u(r){return null===r||Ac(r)?(e.exit("codeFencedFence"),n.interrupt?t(r):e.check(fd,p,y)(r)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),c(r))}function c(t){return null===t||Ac(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),u(t)):_c(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Rc(e,d,"whitespace")(t)):96===t&&t===s?r(t):(e.consume(t),c)}function d(t){return null===t||Ac(t)?u(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),m(t))}function m(t){return null===t||Ac(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),u(t)):96===t&&t===s?r(t):(e.consume(t),m)}function p(t){return e.attempt(a,y,h)(t)}function h(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),g}function g(t){return l>0&&_c(t)?Rc(e,f,"linePrefix",l+1)(t):f(t)}function f(t){return null===t||Ac(t)?e.check(fd,p,y)(t):(e.enter("codeFlowValue"),x(t))}function x(t){return null===t||Ac(t)?(e.exit("codeFlowValue"),f(t)):(e.consume(t),x)}function y(r){return e.exit("codeFenced"),t(r)}}};const yd=document.createElement("i");function bd(e){const t="&"+e+";";yd.innerHTML=t;const r=yd.textContent;return(59!==r.charCodeAt(r.length-1)||"semi"===e)&&(r!==t&&r)}const vd={name:"characterReference",tokenize:function(e,t,r){const n=this;let a,s,l=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),o};function o(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),i):(e.enter("characterReferenceValue"),a=31,s=wc,u(t))}function i(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,s=Nc,u):(e.enter("characterReferenceValue"),a=7,s=Fc,u(t))}function u(o){if(59===o&&l){const a=e.exit("characterReferenceValue");return s!==wc||bd(n.sliceSerialize(a))?(e.enter("characterReferenceMarker"),e.consume(o),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):r(o)}return s(o)&&l++<a?(e.consume(o),u):r(o)}}};const Dd={name:"characterEscape",tokenize:function(e,t,r){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),n};function n(n){return Ec(n)?(e.enter("characterEscapeValue"),e.consume(n),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(n)}}};const kd={name:"lineEnding",tokenize:function(e,t){return function(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Rc(e,t,"linePrefix")}}};function wd(e,t,r){const n=[];let a=-1;for(;++a<e.length;){const s=e[a].resolveAll;s&&!n.includes(s)&&(t=s(t,r),n.push(s))}return t}const Cd={name:"labelEnd",resolveAll:function(e){let t=-1;const r=[];for(;++t<e.length;){const n=e[t][1];if(r.push(e[t]),"labelImage"===n.type||"labelLink"===n.type||"labelEnd"===n.type){const e="labelImage"===n.type?4:2;n.type="data",t+=e}}e.length!==r.length&&mc(e,0,e.length,r);return e},resolveTo:function(e,t){let r,n,a,s,l=e.length,o=0;for(;l--;)if(r=e[l][1],n){if("link"===r.type||"labelLink"===r.type&&r._inactive)break;"enter"===e[l][0]&&"labelLink"===r.type&&(r._inactive=!0)}else if(a){if("enter"===e[l][0]&&("labelImage"===r.type||"labelLink"===r.type)&&!r._balanced&&(n=l,"labelLink"!==r.type)){o=2;break}}else"labelEnd"===r.type&&(a=l);const i={type:"labelLink"===e[n][1].type?"link":"image",start:qt({},e[n][1].start),end:qt({},e[e.length-1][1].end)},u={type:"label",start:qt({},e[n][1].start),end:qt({},e[a][1].end)},c={type:"labelText",start:qt({},e[n+o+2][1].end),end:qt({},e[a-2][1].start)};return s=[["enter",i,t],["enter",u,t]],s=pc(s,e.slice(n+1,n+o+3)),s=pc(s,[["enter",c,t]]),s=pc(s,wd(t.parser.constructs.insideSpan.null,e.slice(n+o+4,a-3),t)),s=pc(s,[["exit",c,t],e[a-2],e[a-1],["exit",u,t]]),s=pc(s,e.slice(a+1)),s=pc(s,[["exit",i,t]]),mc(e,n,e.length,s),e},tokenize:function(e,t,r){const n=this;let a,s,l=n.events.length;for(;l--;)if(("labelImage"===n.events[l][1].type||"labelLink"===n.events[l][1].type)&&!n.events[l][1]._balanced){a=n.events[l][1];break}return function(t){if(!a)return r(t);if(a._inactive)return c(t);return s=n.parser.defined.includes(ad(n.sliceSerialize({start:a.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),o};function o(t){return 40===t?e.attempt(jd,u,s?u:c)(t):91===t?e.attempt(Fd,u,s?i:c)(t):s?u(t):c(t)}function i(t){return e.attempt(Nd,u,c)(t)}function u(e){return t(e)}function c(e){return a._balanced=!0,r(e)}}},jd={tokenize:function(e,t,r){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),n};function n(t){return Sc(t)?nd(e,a)(t):a(t)}function a(t){return 41===t?u(t):ed(e,s,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(t)}function s(t){return Sc(t)?nd(e,o)(t):u(t)}function l(e){return r(e)}function o(t){return 34===t||39===t||40===t?rd(e,i,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):u(t)}function i(t){return Sc(t)?nd(e,u)(t):u(t)}function u(n){return 41===n?(e.enter("resourceMarker"),e.consume(n),e.exit("resourceMarker"),e.exit("resource"),t):r(n)}}},Fd={tokenize:function(e,t,r){const n=this;return function(t){return td.call(n,e,a,s,"reference","referenceMarker","referenceString")(t)};function a(e){return n.parser.defined.includes(ad(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(e):r(e)}function s(e){return r(e)}}},Nd={tokenize:function(e,t,r){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),n};function n(n){return 93===n?(e.enter("referenceMarker"),e.consume(n),e.exit("referenceMarker"),e.exit("reference"),t):r(n)}}};const Ed={name:"labelStartImage",resolveAll:Cd.resolveAll,tokenize:function(e,t,r){const n=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),a};function a(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),s):r(t)}function s(e){return 94===e&&"_hiddenFootnoteSupport"in n.parser.constructs?r(e):t(e)}}};function Ad(e){return null===e||Sc(e)||Tc(e)?1:Bc(e)?2:void 0}const Sd={name:"attention",resolveAll:function(e,t){let r,n,a,s,l,o,i,u,c=-1;for(;++c<e.length;)if("enter"===e[c][0]&&"attentionSequence"===e[c][1].type&&e[c][1]._close)for(r=c;r--;)if("exit"===e[r][0]&&"attentionSequence"===e[r][1].type&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[c][1]).charCodeAt(0)){if((e[r][1]._close||e[c][1]._open)&&(e[c][1].end.offset-e[c][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[c][1].end.offset-e[c][1].start.offset)%3))continue;o=e[r][1].end.offset-e[r][1].start.offset>1&&e[c][1].end.offset-e[c][1].start.offset>1?2:1;const d=qt({},e[r][1].end),m=qt({},e[c][1].start);_d(d,-o),_d(m,o),s={type:o>1?"strongSequence":"emphasisSequence",start:d,end:qt({},e[r][1].end)},l={type:o>1?"strongSequence":"emphasisSequence",start:qt({},e[c][1].start),end:m},a={type:o>1?"strongText":"emphasisText",start:qt({},e[r][1].end),end:qt({},e[c][1].start)},n={type:o>1?"strong":"emphasis",start:qt({},s.start),end:qt({},l.end)},e[r][1].end=qt({},s.start),e[c][1].start=qt({},l.end),i=[],e[r][1].end.offset-e[r][1].start.offset&&(i=pc(i,[["enter",e[r][1],t],["exit",e[r][1],t]])),i=pc(i,[["enter",n,t],["enter",s,t],["exit",s,t],["enter",a,t]]),i=pc(i,wd(t.parser.constructs.insideSpan.null,e.slice(r+1,c),t)),i=pc(i,[["exit",a,t],["enter",l,t],["exit",l,t],["exit",n,t]]),e[c][1].end.offset-e[c][1].start.offset?(u=2,i=pc(i,[["enter",e[c][1],t],["exit",e[c][1],t]])):u=0,mc(e,r-1,c-r+3,i),c=r+i.length-u-2;break}c=-1;for(;++c<e.length;)"attentionSequence"===e[c][1].type&&(e[c][1].type="data");return e},tokenize:function(e,t){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,a=Ad(n);let s;return function(t){return s=t,e.enter("attentionSequence"),l(t)};function l(o){if(o===s)return e.consume(o),l;const i=e.exit("attentionSequence"),u=Ad(o),c=!u||2===u&&a||r.includes(o),d=!a||2===a&&u||r.includes(n);return i._open=Boolean(42===s?c:c&&(a||!d)),i._close=Boolean(42===s?d:d&&(u||!c)),t(o)}}};function _d(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Bd={name:"autolink",tokenize:function(e,t,r){let n=0;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a};function a(t){return kc(t)?(e.consume(t),s):64===t?r(t):i(t)}function s(e){return 43===e||45===e||46===e||wc(e)?(n=1,l(e)):i(e)}function l(t){return 58===t?(e.consume(t),n=0,o):(43===t||45===t||46===t||wc(t))&&n++<32?(e.consume(t),l):(n=0,i(t))}function o(n){return 62===n?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t):null===n||32===n||60===n||jc(n)?r(n):(e.consume(n),o)}function i(t){return 64===t?(e.consume(t),u):Cc(t)?(e.consume(t),i):r(t)}function u(e){return wc(e)?c(e):r(e)}function c(r){return 46===r?(e.consume(r),n=0,u):62===r?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(r),e.exit("autolinkMarker"),e.exit("autolink"),t):d(r)}function d(t){if((45===t||wc(t))&&n++<63){const r=45===t?d:c;return e.consume(t),r}return r(t)}}};const Td={name:"htmlText",tokenize:function(e,t,r){const n=this;let a,s,l;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),o};function o(t){return 33===t?(e.consume(t),i):47===t?(e.consume(t),v):63===t?(e.consume(t),y):kc(t)?(e.consume(t),w):r(t)}function i(t){return 45===t?(e.consume(t),u):91===t?(e.consume(t),s=0,p):kc(t)?(e.consume(t),x):r(t)}function u(t){return 45===t?(e.consume(t),m):r(t)}function c(t){return null===t?r(t):45===t?(e.consume(t),d):Ac(t)?(l=c,B(t)):(e.consume(t),c)}function d(t){return 45===t?(e.consume(t),m):c(t)}function m(e){return 62===e?_(e):45===e?d(e):c(e)}function p(t){const n="CDATA[";return t===n.charCodeAt(s++)?(e.consume(t),6===s?h:p):r(t)}function h(t){return null===t?r(t):93===t?(e.consume(t),g):Ac(t)?(l=h,B(t)):(e.consume(t),h)}function g(t){return 93===t?(e.consume(t),f):h(t)}function f(t){return 62===t?_(t):93===t?(e.consume(t),f):h(t)}function x(t){return null===t||62===t?_(t):Ac(t)?(l=x,B(t)):(e.consume(t),x)}function y(t){return null===t?r(t):63===t?(e.consume(t),b):Ac(t)?(l=y,B(t)):(e.consume(t),y)}function b(e){return 62===e?_(e):y(e)}function v(t){return kc(t)?(e.consume(t),D):r(t)}function D(t){return 45===t||wc(t)?(e.consume(t),D):k(t)}function k(t){return Ac(t)?(l=k,B(t)):_c(t)?(e.consume(t),k):_(t)}function w(t){return 45===t||wc(t)?(e.consume(t),w):47===t||62===t||Sc(t)?C(t):r(t)}function C(t){return 47===t?(e.consume(t),_):58===t||95===t||kc(t)?(e.consume(t),j):Ac(t)?(l=C,B(t)):_c(t)?(e.consume(t),C):_(t)}function j(t){return 45===t||46===t||58===t||95===t||wc(t)?(e.consume(t),j):F(t)}function F(t){return 61===t?(e.consume(t),N):Ac(t)?(l=F,B(t)):_c(t)?(e.consume(t),F):C(t)}function N(t){return null===t||60===t||61===t||62===t||96===t?r(t):34===t||39===t?(e.consume(t),a=t,E):Ac(t)?(l=N,B(t)):_c(t)?(e.consume(t),N):(e.consume(t),A)}function E(t){return t===a?(e.consume(t),a=void 0,S):null===t?r(t):Ac(t)?(l=E,B(t)):(e.consume(t),E)}function A(t){return null===t||34===t||39===t||60===t||61===t||96===t?r(t):47===t||62===t||Sc(t)?C(t):(e.consume(t),A)}function S(e){return 47===e||62===e||Sc(e)?C(e):r(e)}function _(n){return 62===n?(e.consume(n),e.exit("htmlTextData"),e.exit("htmlText"),t):r(n)}function B(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),T}function T(t){return _c(t)?Rc(e,L,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):L(t)}function L(t){return e.enter("htmlTextData"),l(t)}}};const Ld={name:"labelStartLink",resolveAll:Cd.resolveAll,tokenize:function(e,t,r){const n=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),a};function a(e){return 94===e&&"_hiddenFootnoteSupport"in n.parser.constructs?r(e):t(e)}}};const Rd={name:"hardBreakEscape",tokenize:function(e,t,r){return function(t){return e.enter("hardBreakEscape"),e.consume(t),n};function n(n){return Ac(n)?(e.exit("hardBreakEscape"),t(n)):r(n)}}};const Pd={name:"codeText",previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type},resolve:function(e){let t,r,n=e.length-4,a=3;if(("lineEnding"===e[a][1].type||"space"===e[a][1].type)&&("lineEnding"===e[n][1].type||"space"===e[n][1].type))for(t=a;++t<n;)if("codeTextData"===e[t][1].type){e[a][1].type="codeTextPadding",e[n][1].type="codeTextPadding",a+=2,n-=2;break}t=a-1,n++;for(;++t<=n;)void 0===r?t!==n&&"lineEnding"!==e[t][1].type&&(r=t):t!==n&&"lineEnding"!==e[t][1].type||(e[r][1].type="codeTextData",t!==r+2&&(e[r][1].end=e[t-1][1].end,e.splice(r+2,t-r-2),n-=t-r-2,t=r+2),r=void 0);return e},tokenize:function(e,t,r){let n,a,s=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),l(t)};function l(t){return 96===t?(e.consume(t),s++,l):(e.exit("codeTextSequence"),o(t))}function o(t){return null===t?r(t):32===t?(e.enter("space"),e.consume(t),e.exit("space"),o):96===t?(a=e.enter("codeTextSequence"),n=0,u(t)):Ac(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o):(e.enter("codeTextData"),i(t))}function i(t){return null===t||32===t||96===t||Ac(t)?(e.exit("codeTextData"),o(t)):(e.consume(t),i)}function u(r){return 96===r?(e.consume(r),n++,u):n===s?(e.exit("codeTextSequence"),e.exit("codeText"),t(r)):(a.type="codeTextData",i(r))}}};const Od={42:Gc,43:Gc,45:Gc,48:Gc,49:Gc,50:Gc,51:Gc,52:Gc,53:Gc,54:Gc,55:Gc,56:Gc,57:Gc,62:Xc},Id={91:sd},Md={[-2]:od,[-1]:od,32:od},zd={35:ud,42:Qc,45:[cd,Qc],60:pd,61:cd,95:Qc,96:xd,126:xd},Ud={38:vd,92:Dd},Hd={[-5]:kd,[-4]:kd,[-3]:kd,33:Ed,38:vd,42:Sd,60:[Bd,Td],91:Ld,92:[Rd,Dd],93:Cd,95:Sd,96:Pd},Vd={null:[Sd,Vc]},Wd={null:[42,95]},qd={null:[]};function Kd(e,t,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const a={},s=[];let l=[],o=[],i=!0;const u={attempt:y(function(e,t){b(e,t.from)}),check:y(x),consume:function(e){Ac(e)?(n.line++,n.column=1,n.offset+=-3===e?2:1,v()):-1!==e&&(n.column++,n.offset++);n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===l[n._index].length&&(n._bufferIndex=-1,n._index++));c.previous=e,i=!0},enter:function(e,t){const r=t||{};return r.type=e,r.start=h(),c.events.push(["enter",r,c]),o.push(r),r},exit:function(e){const t=o.pop();return t.end=h(),c.events.push(["exit",t,c]),t},interrupt:y(x,{interrupt:!0})},c={code:null,containerState:{},defineSkip:function(e){a[e.line]=e.column,v()},events:[],now:h,parser:e,previous:null,sliceSerialize:function(e,t){return function(e,t){let r=-1;const n=[];let a;for(;++r<e.length;){const s=e[r];let l;if("string"===typeof s)l=s;else switch(s){case-5:l="\r";break;case-4:l="\n";break;case-3:l="\r\n";break;case-2:l=t?" ":"\t";break;case-1:if(!t&&a)continue;l=" ";break;default:l=String.fromCharCode(s)}a=-2===s,n.push(l)}return n.join("")}(p(e),t)},sliceStream:p,write:function(e){if(l=pc(l,e),g(),null!==l[l.length-1])return[];return b(t,0),c.events=wd(s,c.events,c),c.events}};let d,m=t.tokenize.call(c,u);return t.resolveAll&&s.push(t),c;function p(e){return function(e,t){const r=t.start._index,n=t.start._bufferIndex,a=t.end._index,s=t.end._bufferIndex;let l;if(r===a)l=[e[r].slice(n,s)];else{if(l=e.slice(r,a),n>-1){const e=l[0];"string"===typeof e?l[0]=e.slice(n):l.shift()}s>0&&l.push(e[a].slice(0,s))}return l}(l,e)}function h(){const{_bufferIndex:e,_index:t,line:r,column:a,offset:s}=n;return{_bufferIndex:e,_index:t,line:r,column:a,offset:s}}function g(){let e;for(;n._index<l.length;){const t=l[n._index];if("string"===typeof t)for(e=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===e&&n._bufferIndex<t.length;)f(t.charCodeAt(n._bufferIndex));else f(t)}}function f(e){i=void 0,d=e,m=m(e)}function x(e,t){t.restore()}function y(e,t){return function(r,a,s){let l,d,m,p;return Array.isArray(r)?g(r):"tokenize"in r?g([r]):function(e){return t;function t(t){const r=null!==t&&e[t],n=null!==t&&e.null;return g([...Array.isArray(r)?r:r?[r]:[],...Array.isArray(n)?n:n?[n]:[]])(t)}}(r);function g(e){return l=e,d=0,0===e.length?s:f(e[d])}function f(e){return function(r){p=function(){const e=h(),t=c.previous,r=c.currentConstruct,a=c.events.length,s=Array.from(o);return{from:a,restore:l};function l(){n=e,c.previous=t,c.currentConstruct=r,c.events.length=a,o=s,v()}}(),m=e,e.partial||(c.currentConstruct=e);if(e.name&&c.parser.constructs.disable.null.includes(e.name))return y(r);return e.tokenize.call(t?Object.assign(Object.create(c),t):c,u,x,y)(r)}}function x(t){return i=!0,e(m,p),a}function y(e){return i=!0,p.restore(),++d<l.length?f(l[d]):s}}}function b(e,t){e.resolveAll&&!s.includes(e)&&s.push(e),e.resolve&&mc(c.events,t,c.events.length-t,e.resolve(c.events.slice(t),c)),e.resolveTo&&(c.events=e.resolveTo(c.events,c))}function v(){n.line in a&&n.column<2&&(n.column=a[n.line],n.offset+=a[n.line]-1)}}const $d=/[\0\t\n\r]/g;function Jd(e,t){const r=Number.parseInt(e,t);return r<9||11===r||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||65535===(65535&r)||65534===(65535&r)||r>1114111?"\ufffd":String.fromCodePoint(r)}const Qd=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Gd(e,t,r){if(t)return t;if(35===r.charCodeAt(0)){const e=r.charCodeAt(1),t=120===e||88===e;return Jd(r.slice(t?2:1),t?16:10)}return bd(r)||e}const Yd={}.hasOwnProperty;function Zd(e,t,r){return"string"!==typeof t&&(r=t,t=void 0),function(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(te),autolinkProtocol:j,autolinkEmail:j,atxHeading:s(Y),blockQuote:s(K),characterEscape:j,characterReference:j,codeFenced:s($),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:s($,l),codeText:s(J,l),codeTextData:j,data:j,codeFlowValue:j,definition:s(Q),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:s(G),hardBreakEscape:s(Z),hardBreakTrailing:s(Z),htmlFlow:s(X,l),htmlFlowData:j,htmlText:s(X,l),htmlTextData:j,image:s(ee),label:l,link:s(te),listItem:s(ne),listItemValue:m,listOrdered:s(re,d),listUnordered:s(re),paragraph:s(ae),reference:M,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:s(Y),strong:s(se),thematicBreak:s(oe)},exit:{atxHeading:i(),atxHeadingSequence:D,autolink:i(),autolinkEmail:q,autolinkProtocol:W,blockQuote:i(),characterEscapeValue:F,characterReferenceMarkerHexadecimal:U,characterReferenceMarkerNumeric:U,characterReferenceValue:H,characterReference:V,codeFenced:i(f),codeFencedFence:g,codeFencedFenceInfo:p,codeFencedFenceMeta:h,codeFlowValue:F,codeIndented:i(x),codeText:i(_),codeTextData:F,data:F,definition:i(),definitionDestinationString:v,definitionLabelString:y,definitionTitleString:b,emphasis:i(),hardBreakEscape:i(E),hardBreakTrailing:i(E),htmlFlow:i(A),htmlFlowData:F,htmlText:i(S),htmlTextData:F,image:i(T),label:R,labelText:L,lineEnding:N,link:i(B),listItem:i(),listOrdered:i(),listUnordered:i(),paragraph:i(),referenceString:z,resourceDestinationString:P,resourceTitleString:O,resource:I,setextHeading:i(C),setextHeadingLineSequence:w,setextHeadingText:k,strong:i(),thematicBreak:i()}};em(t,(e||{}).mdastExtensions||[]);const r={};return n;function n(e){let n={type:"root",children:[]};const s={stack:[n],tokenStack:[],config:t,enter:o,exit:u,buffer:l,resume:c,data:r},i=[];let d=-1;for(;++d<e.length;)if("listOrdered"===e[d][1].type||"listUnordered"===e[d][1].type)if("enter"===e[d][0])i.push(d);else{d=a(e,i.pop(),d)}for(d=-1;++d<e.length;){const r=t[e[d][0]];Yd.call(r,e[d][1].type)&&r[e[d][1].type].call(Object.assign({sliceSerialize:e[d][2].sliceSerialize},s),e[d][1])}if(s.tokenStack.length>0){const e=s.tokenStack[s.tokenStack.length-1];(e[1]||rm).call(s,void 0,e[0])}for(n.position={start:Xd(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:Xd(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},d=-1;++d<t.transforms.length;)n=t.transforms[d](n)||n;return n}function a(e,t,r){let n,a,s,l,o=t-1,i=-1,u=!1;for(;++o<=r;){const t=e[o];switch(t[1].type){case"listUnordered":case"listOrdered":case"blockQuote":"enter"===t[0]?i++:i--,l=void 0;break;case"lineEndingBlank":"enter"===t[0]&&(!n||l||i||s||(s=o),l=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:l=void 0}if(!i&&"enter"===t[0]&&"listItemPrefix"===t[1].type||-1===i&&"exit"===t[0]&&("listUnordered"===t[1].type||"listOrdered"===t[1].type)){if(n){let l=o;for(a=void 0;l--;){const t=e[l];if("lineEnding"===t[1].type||"lineEndingBlank"===t[1].type){if("exit"===t[0])continue;a&&(e[a][1].type="lineEndingBlank",u=!0),t[1].type="lineEnding",a=l}else if("linePrefix"!==t[1].type&&"blockQuotePrefix"!==t[1].type&&"blockQuotePrefixWhitespace"!==t[1].type&&"blockQuoteMarker"!==t[1].type&&"listItemIndent"!==t[1].type)break}s&&(!a||s<a)&&(n._spread=!0),n.end=Object.assign({},a?e[a][1].start:t[1].end),e.splice(a||o,0,["exit",n,t[2]]),o++,r++}if("listItemPrefix"===t[1].type){const a={type:"listItem",_spread:!1,start:Object.assign({},t[1].start),end:void 0};n=a,e.splice(o,0,["enter",a,t[2]]),o++,r++,s=void 0,l=!0}}}return e[t][1]._spread=u,r}function s(e,t){return r;function r(r){o.call(this,e(r),r),t&&t.call(this,r)}}function l(){this.stack.push({type:"fragment",children:[]})}function o(e,t,r){this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,r||void 0]),e.position={start:Xd(t.start),end:void 0}}function i(e){return t;function t(t){e&&e.call(this,t),u.call(this,t)}}function u(e,t){const r=this.stack.pop(),n=this.tokenStack.pop();if(!n)throw new Error("Cannot close `"+e.type+"` ("+zu({start:e.start,end:e.end})+"): it\u2019s not open");if(n[0].type!==e.type)if(t)t.call(this,e,n[0]);else{(n[1]||rm).call(this,e,n[0])}r.position.end=Xd(e.end)}function c(){return uc(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function m(e){if(this.data.expectingFirstListItemValue){this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),this.data.expectingFirstListItemValue=void 0}}function p(){const e=this.resume();this.stack[this.stack.length-1].lang=e}function h(){const e=this.resume();this.stack[this.stack.length-1].meta=e}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function f(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}function y(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.label=t,r.identifier=ad(this.sliceSerialize(e)).toLowerCase()}function b(){const e=this.resume();this.stack[this.stack.length-1].title=e}function v(){const e=this.resume();this.stack[this.stack.length-1].url=e}function D(e){const t=this.stack[this.stack.length-1];if(!t.depth){const r=this.sliceSerialize(e).length;t.depth=r}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function w(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).codePointAt(0)?1:2}function C(){this.data.setextHeadingSlurpLineEnding=void 0}function j(e){const t=this.stack[this.stack.length-1].children;let r=t[t.length-1];r&&"text"===r.type||(r=le(),r.position={start:Xd(e.start),end:void 0},t.push(r)),this.stack.push(r)}function F(e){const t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=Xd(e.end)}function N(e){const r=this.stack[this.stack.length-1];if(this.data.atHardBreak){return r.children[r.children.length-1].position.end=Xd(e.end),void(this.data.atHardBreak=void 0)}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(r.type)&&(j.call(this,e),F.call(this,e))}function E(){this.data.atHardBreak=!0}function A(){const e=this.resume();this.stack[this.stack.length-1].value=e}function S(){const e=this.resume();this.stack[this.stack.length-1].value=e}function _(){const e=this.resume();this.stack[this.stack.length-1].value=e}function B(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function T(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function L(e){const t=this.sliceSerialize(e),r=this.stack[this.stack.length-2];r.label=function(e){return e.replace(Qd,Gd)}(t),r.identifier=ad(t).toLowerCase()}function R(){const e=this.stack[this.stack.length-1],t=this.resume(),r=this.stack[this.stack.length-1];if(this.data.inReference=!0,"link"===r.type){const t=e.children;r.children=t}else r.alt=t}function P(){const e=this.resume();this.stack[this.stack.length-1].url=e}function O(){const e=this.resume();this.stack[this.stack.length-1].title=e}function I(){this.data.inReference=void 0}function M(){this.data.referenceType="collapsed"}function z(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.label=t,r.identifier=ad(this.sliceSerialize(e)).toLowerCase(),this.data.referenceType="full"}function U(e){this.data.characterReferenceType=e.type}function H(e){const t=this.sliceSerialize(e),r=this.data.characterReferenceType;let n;if(r)n=Jd(t,"characterReferenceMarkerNumeric"===r?10:16),this.data.characterReferenceType=void 0;else{n=bd(t)}this.stack[this.stack.length-1].value+=n}function V(e){this.stack.pop().position.end=Xd(e.end)}function W(e){F.call(this,e);this.stack[this.stack.length-1].url=this.sliceSerialize(e)}function q(e){F.call(this,e);this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)}function K(){return{type:"blockquote",children:[]}}function $(){return{type:"code",lang:null,meta:null,value:""}}function J(){return{type:"inlineCode",value:""}}function Q(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function G(){return{type:"emphasis",children:[]}}function Y(){return{type:"heading",depth:0,children:[]}}function Z(){return{type:"break"}}function X(){return{type:"html",value:""}}function ee(){return{type:"image",title:null,url:"",alt:null}}function te(){return{type:"link",title:null,url:"",children:[]}}function re(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}function ne(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}function ae(){return{type:"paragraph",children:[]}}function se(){return{type:"strong",children:[]}}function le(){return{type:"text",value:""}}function oe(){return{type:"thematicBreak"}}}(r)(function(e){for(;!fc(e););return e}(function(e){const t={constructs:bc([s,...(e||{}).extensions||[]]),content:r(Pc),defined:[],document:r(Oc),flow:r(Hc),lazy:{},string:r(Wc),text:r(qc)};return t;function r(e){return function(r){return Kd(t,e,r)}}}(r).document().write(function(){let e,t=1,r="",n=!0;return function(a,s,l){const o=[];let i,u,c,d,m;for(a=r+("string"===typeof a?a.toString():new TextDecoder(s||void 0).decode(a)),c=0,r="",n&&(65279===a.charCodeAt(0)&&c++,n=void 0);c<a.length;){if($d.lastIndex=c,i=$d.exec(a),d=i&&void 0!==i.index?i.index:a.length,m=a.charCodeAt(d),!i){r=a.slice(c);break}if(10===m&&c===d&&e)o.push(-3),e=void 0;else switch(e&&(o.push(-5),e=void 0),c<d&&(o.push(a.slice(c,d)),t+=d-c),m){case 0:o.push(65533),t++;break;case 9:for(u=4*Math.ceil(t/4),o.push(-2);t++<u;)o.push(-1);break;case 10:o.push(-4),t=1;break;default:e=!0,t=1}c=d+1}return l&&(e&&o.push(-5),r&&o.push(r),o.push(null)),o}}()(e,t,!0))))}function Xd(e){return{line:e.line,column:e.column,offset:e.offset}}function em(e,t){let r=-1;for(;++r<t.length;){const n=t[r];Array.isArray(n)?em(e,n):tm(e,n)}}function tm(e,t){let r;for(r in t)if(Yd.call(t,r))switch(r){case"canContainEols":{const n=t[r];n&&e[r].push(...n);break}case"transforms":{const n=t[r];n&&e[r].push(...n);break}case"enter":case"exit":{const n=t[r];n&&Object.assign(e[r],n);break}}}function rm(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+zu({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+zu({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+zu({start:t.start,end:t.end})+") is still open")}function nm(e){const t=this;t.parser=function(r){return Zd(r,qt(qt(qt({},t.data("settings")),e),{},{extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]}))}}const am="object"===typeof self?self:globalThis,sm=e=>((e,t)=>{const r=(t,r)=>(e.set(r,t),t),n=a=>{if(e.has(a))return e.get(a);const[s,l]=t[a];switch(s){case 0:case-1:return r(l,a);case 1:{const e=r([],a);for(const t of l)e.push(n(t));return e}case 2:{const e=r({},a);for(const[t,r]of l)e[n(t)]=n(r);return e}case 3:return r(new Date(l),a);case 4:{const{source:e,flags:t}=l;return r(new RegExp(e,t),a)}case 5:{const e=r(new Map,a);for(const[t,r]of l)e.set(n(t),n(r));return e}case 6:{const e=r(new Set,a);for(const t of l)e.add(n(t));return e}case 7:{const{name:e,message:t}=l;return r(new am[e](t),a)}case 8:return r(BigInt(l),a);case"BigInt":return r(Object(BigInt(l)),a);case"ArrayBuffer":return r(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:e}=new Uint8Array(l);return r(new DataView(e),l)}}return r(new am[s](l),a)};return n})(new Map,e)(0),lm="",{toString:om}={},{keys:im}=Object,um=e=>{const t=typeof e;if("object"!==t||!e)return[0,t];const r=om.call(e).slice(8,-1);switch(r){case"Array":return[1,lm];case"Object":return[2,lm];case"Date":return[3,lm];case"RegExp":return[4,lm];case"Map":return[5,lm];case"Set":return[6,lm];case"DataView":return[1,r]}return r.includes("Array")?[1,r]:r.includes("Error")?[7,r]:[2,r]},cm=e=>{let[t,r]=e;return 0===t&&("function"===r||"symbol"===r)},dm=function(e){let{json:t,lossy:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[];return((e,t,r,n)=>{const a=(e,t)=>{const a=n.push(e)-1;return r.set(t,a),a},s=n=>{if(r.has(n))return r.get(n);let[l,o]=um(n);switch(l){case 0:{let t=n;switch(o){case"bigint":l=8,t=n.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+o);t=null;break;case"undefined":return a([-1],n)}return a([l,t],n)}case 1:{if(o){let e=n;return"DataView"===o?e=new Uint8Array(n.buffer):"ArrayBuffer"===o&&(e=new Uint8Array(n)),a([o,[...e]],n)}const e=[],t=a([l,e],n);for(const r of n)e.push(s(r));return t}case 2:{if(o)switch(o){case"BigInt":return a([o,n.toString()],n);case"Boolean":case"Number":case"String":return a([o,n.valueOf()],n)}if(t&&"toJSON"in n)return s(n.toJSON());const r=[],i=a([l,r],n);for(const t of im(n))!e&&cm(um(n[t]))||r.push([s(t),s(n[t])]);return i}case 3:return a([l,n.toISOString()],n);case 4:{const{source:e,flags:t}=n;return a([l,{source:e,flags:t}],n)}case 5:{const t=[],r=a([l,t],n);for(const[a,l]of n)(e||!cm(um(a))&&!cm(um(l)))&&t.push([s(a),s(l)]);return r}case 6:{const t=[],r=a([l,t],n);for(const a of n)!e&&cm(um(a))||t.push(s(a));return r}}const{message:i}=n;return a([l,{name:o,message:i}],n)};return s})(!(t||r),!!t,new Map,n)(e),n},mm="function"===typeof structuredClone?(e,t)=>t&&("json"in t||"lossy"in t)?sm(dm(e,t)):structuredClone(e):(e,t)=>sm(dm(e,t));function pm(e){const t=[];let r=-1,n=0,a=0;for(;++r<e.length;){const s=e.charCodeAt(r);let l="";if(37===s&&wc(e.charCodeAt(r+1))&&wc(e.charCodeAt(r+2)))a=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(l=String.fromCharCode(s));else if(s>55295&&s<57344){const t=e.charCodeAt(r+1);s<56320&&t>56319&&t<57344?(l=String.fromCharCode(s,t),a=1):l="\ufffd"}else l=String.fromCharCode(s);l&&(t.push(e.slice(n,r),encodeURIComponent(l)),n=r+a+1,l=""),a&&(r+=a,a=0)}return t.join("")+e.slice(n)}function hm(e,t){const r=[{type:"text",value:"\u21a9"}];return t>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),r}function gm(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}const fm=function(e){if(null===e||void 0===e)return ym;if("function"===typeof e)return xm(e);if("object"===typeof e)return Array.isArray(e)?function(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=fm(e[r]);return xm(n);function n(){let e=-1;for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];for(;++e<t.length;)if(t[e].apply(this,n))return!0;return!1}}(e):function(e){const t=e;return xm(r);function r(r){const n=r;let a;for(a in e)if(n[a]!==t[a])return!1;return!0}}(e);if("string"===typeof e)return function(e){return xm(t);function t(t){return t&&t.type===e}}(e);throw new Error("Expected function, string, or object as test")};function xm(e){return function(t,r,n){return Boolean(bm(t)&&e.call(this,t,"number"===typeof r?r:void 0,n||void 0))}}function ym(){return!0}function bm(e){return null!==e&&"object"===typeof e&&"type"in e}const vm=[],Dm=!0,km=!1;function wm(e,t,r,n){let a;"function"===typeof t&&"function"!==typeof r?(n=r,r=t):a=t;const s=fm(a),l=n?-1:1;!function e(a,o,i){const u=a&&"object"===typeof a?a:{};if("string"===typeof u.type){const e="string"===typeof u.tagName?u.tagName:"string"===typeof u.name?u.name:void 0;Object.defineProperty(c,"name",{value:"node ("+a.type+(e?"<"+e+">":"")+")"})}return c;function c(){let u,c,d,m=vm;if((!t||s(a,o,i[i.length-1]||void 0))&&(m=function(e){if(Array.isArray(e))return e;if("number"===typeof e)return[Dm,e];return null===e||void 0===e?vm:[e]}(r(a,i)),m[0]===km))return m;if("children"in a&&a.children){const t=a;if(t.children&&"skip"!==m[0])for(c=(n?t.children.length:-1)+l,d=i.concat(t);c>-1&&c<t.children.length;){const r=t.children[c];if(u=e(r,c,d)(),u[0]===km)return u;c="number"===typeof u[1]?u[1]:c+l}}return m}}(e,void 0,[])()}function Cm(e,t,r,n){let a,s,l;"function"===typeof t&&"function"!==typeof r?(s=void 0,l=t,a=r):(s=t,l=r,a=n),wm(e,s,function(e,t){const r=t[t.length-1],n=r?r.children.indexOf(e):void 0;return l(e,n,r)},a)}function jm(e,t){const r=t.referenceType;let n="]";if("collapsed"===r?n+="[]":"full"===r&&(n+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type)return[{type:"text",value:"!["+t.alt+n}];const a=e.all(t),s=a[0];s&&"text"===s.type?s.value="["+s.value:a.unshift({type:"text",value:"["});const l=a[a.length-1];return l&&"text"===l.type?l.value+=n:a.push({type:"text",value:n}),a}function Fm(e){const t=e.spread;return null===t||void 0===t?e.children.length>1:t}function Nm(e){const t=String(e),r=/\r?\n|\r/g;let n=r.exec(t),a=0;const s=[];for(;n;)s.push(Em(t.slice(a,n.index),a>0,!0),n[0]),a=n.index+n[0].length,n=r.exec(t);return s.push(Em(t.slice(a),a>0,!1)),s.join("")}function Em(e,t,r){let n=0,a=e.length;if(t){let t=e.codePointAt(n);for(;9===t||32===t;)n++,t=e.codePointAt(n)}if(r){let t=e.codePointAt(a-1);for(;9===t||32===t;)a--,t=e.codePointAt(a-1)}return a>n?e.slice(n,a):""}const Am={blockquote:function(e,t){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,r),e.applyData(t,r)},break:function(e,t){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,r),[e.applyData(t,r),{type:"text",value:"\n"}]},code:function(e,t){const r=t.value?t.value+"\n":"",n={},a=t.lang?t.lang.split(/\s+/):[];a.length>0&&(n.className=["language-"+a[0]]);let s={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s},delete:function(e,t){const r={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},emphasis:function(e,t){const r={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},footnoteReference:function(e,t){const r="string"===typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",n=String(t.identifier).toUpperCase(),a=pm(n.toLowerCase()),s=e.footnoteOrder.indexOf(n);let l,o=e.footnoteCounts.get(n);void 0===o?(o=0,e.footnoteOrder.push(n),l=e.footnoteOrder.length):l=s+1,o+=1,e.footnoteCounts.set(n,o);const i={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+a,id:r+"fnref-"+a+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(t,i);const u={type:"element",tagName:"sup",properties:{},children:[i]};return e.patch(t,u),e.applyData(t,u)},heading:function(e,t){const r={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},html:function(e,t){if(e.options.allowDangerousHtml){const r={type:"raw",value:t.value};return e.patch(t,r),e.applyData(t,r)}},imageReference:function(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return jm(e,t);const a={src:pm(n.url||""),alt:t.alt};null!==n.title&&void 0!==n.title&&(a.title=n.title);const s={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,s),e.applyData(t,s)},image:function(e,t){const r={src:pm(t.url)};null!==t.alt&&void 0!==t.alt&&(r.alt=t.alt),null!==t.title&&void 0!==t.title&&(r.title=t.title);const n={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,n),e.applyData(t,n)},inlineCode:function(e,t){const r={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(t,n),e.applyData(t,n)},linkReference:function(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return jm(e,t);const a={href:pm(n.url||"")};null!==n.title&&void 0!==n.title&&(a.title=n.title);const s={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)},link:function(e,t){const r={href:pm(t.url)};null!==t.title&&void 0!==t.title&&(r.title=t.title);const n={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},listItem:function(e,t,r){const n=e.all(t),a=r?function(e){let t=!1;if("list"===e.type){t=e.spread||!1;const r=e.children;let n=-1;for(;!t&&++n<r.length;)t=Fm(r[n])}return t}(r):Fm(t),s={},l=[];if("boolean"===typeof t.checked){const e=n[0];let r;e&&"element"===e.type&&"p"===e.tagName?r=e:(r={type:"element",tagName:"p",properties:{},children:[]},n.unshift(r)),r.children.length>0&&r.children.unshift({type:"text",value:" "}),r.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<n.length;){const e=n[o];(a||0!==o||"element"!==e.type||"p"!==e.tagName)&&l.push({type:"text",value:"\n"}),"element"!==e.type||"p"!==e.tagName||a?l.push(e):l.push(...e.children)}const i=n[n.length-1];i&&(a||"element"!==i.type||"p"!==i.tagName)&&l.push({type:"text",value:"\n"});const u={type:"element",tagName:"li",properties:s,children:l};return e.patch(t,u),e.applyData(t,u)},list:function(e,t){const r={},n=e.all(t);let a=-1;for("number"===typeof t.start&&1!==t.start&&(r.start=t.start);++a<n.length;){const e=n[a];if("element"===e.type&&"li"===e.tagName&&e.properties&&Array.isArray(e.properties.className)&&e.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:r,children:e.wrap(n,!0)};return e.patch(t,s),e.applyData(t,s)},paragraph:function(e,t){const r={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},root:function(e,t){const r={type:"root",children:e.wrap(e.all(t))};return e.patch(t,r),e.applyData(t,r)},strong:function(e,t){const r={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},table:function(e,t){const r=e.all(t),n=r.shift(),a=[];if(n){const r={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(t.children[0],r),a.push(r)}if(r.length>0){const n={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},s=Iu(t.children[1]),l=Ou(t.children[t.children.length-1]);s&&l&&(n.position={start:s,end:l}),a.push(n)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,s),e.applyData(t,s)},tableCell:function(e,t){const r={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},tableRow:function(e,t,r){const n=r?r.children:void 0,a=0===(n?n.indexOf(t):1)?"th":"td",s=r&&"table"===r.type?r.align:void 0,l=s?s.length:t.children.length;let o=-1;const i=[];for(;++o<l;){const r=t.children[o],n={},l=s?s[o]:void 0;l&&(n.align=l);let u={type:"element",tagName:a,properties:n,children:[]};r&&(u.children=e.all(r),e.patch(r,u),u=e.applyData(r,u)),i.push(u)}const u={type:"element",tagName:"tr",properties:{},children:e.wrap(i,!0)};return e.patch(t,u),e.applyData(t,u)},text:function(e,t){const r={type:"text",value:Nm(String(t.value))};return e.patch(t,r),e.applyData(t,r)},thematicBreak:function(e,t){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,r),e.applyData(t,r)},toml:Sm,yaml:Sm,definition:Sm,footnoteDefinition:Sm};function Sm(){}const _m=["children"],Bm={}.hasOwnProperty,Tm={};function Lm(e,t){e.position&&(t.position=function(e){const t=Iu(e),r=Ou(e);if(t&&r)return{start:t,end:r}}(e))}function Rm(e,t){let r=t;if(e&&e.data){const t=e.data.hName,n=e.data.hChildren,a=e.data.hProperties;if("string"===typeof t)if("element"===r.type)r.tagName=t;else{r={type:"element",tagName:t,properties:{},children:"children"in r?r.children:[r]}}"element"===r.type&&a&&Object.assign(r.properties,mm(a)),"children"in r&&r.children&&null!==n&&void 0!==n&&(r.children=n)}return r}function Pm(e,t){const r=t.data||{},n=!("value"in t)||Bm.call(r,"hProperties")||Bm.call(r,"hChildren")?{type:"element",tagName:"div",properties:{},children:e.all(t)}:{type:"text",value:t.value};return e.patch(t,n),e.applyData(t,n)}function Om(e,t){const r=[];let n=-1;for(t&&r.push({type:"text",value:"\n"});++n<e.length;)n&&r.push({type:"text",value:"\n"}),r.push(e[n]);return t&&e.length>0&&r.push({type:"text",value:"\n"}),r}function Im(e){let t=0,r=e.charCodeAt(t);for(;9===r||32===r;)t++,r=e.charCodeAt(t);return e.slice(t)}function Mm(e,t){const r=function(e,t){const r=t||Tm,n=new Map,a=new Map,s=new Map,l=qt(qt({},Am),r.handlers),o={all:function(e){const t=[];if("children"in e){const r=e.children;let n=-1;for(;++n<r.length;){const a=o.one(r[n],e);if(a){if(n&&"break"===r[n-1].type&&(Array.isArray(a)||"text"!==a.type||(a.value=Im(a.value)),!Array.isArray(a)&&"element"===a.type)){const e=a.children[0];e&&"text"===e.type&&(e.value=Im(e.value))}Array.isArray(a)?t.push(...a):t.push(a)}}}return t},applyData:Rm,definitionById:n,footnoteById:a,footnoteCounts:s,footnoteOrder:[],handlers:l,one:function(e,t){const r=e.type,n=o.handlers[r];if(Bm.call(o.handlers,r)&&n)return n(o,e,t);if(o.options.passThrough&&o.options.passThrough.includes(r)){if("children"in e){const{children:t}=e,r=xn(e,_m),n=mm(r);return n.children=o.all(e),n}return mm(e)}return(o.options.unknownHandler||Pm)(o,e,t)},options:r,patch:Lm,wrap:Om};return Cm(e,function(e){if("definition"===e.type||"footnoteDefinition"===e.type){const t="definition"===e.type?n:a,r=String(e.identifier).toUpperCase();t.has(r)||t.set(r,e)}}),o}(e,t),n=r.one(e,void 0),a=function(e){const t="string"===typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||hm,n=e.options.footnoteBackLabel||gm,a=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let i=-1;for(;++i<e.footnoteOrder.length;){const a=e.footnoteById.get(e.footnoteOrder[i]);if(!a)continue;const s=e.all(a),l=String(a.identifier).toUpperCase(),u=pm(l.toLowerCase());let c=0;const d=[],m=e.footnoteCounts.get(l);for(;void 0!==m&&++c<=m;){d.length>0&&d.push({type:"text",value:" "});let e="string"===typeof r?r:r(i,c);"string"===typeof e&&(e={type:"text",value:e}),d.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+u+(c>1?"-"+c:""),dataFootnoteBackref:"",ariaLabel:"string"===typeof n?n:n(i,c),className:["data-footnote-backref"]},children:Array.isArray(e)?e:[e]})}const p=s[s.length-1];if(p&&"element"===p.type&&"p"===p.tagName){const e=p.children[p.children.length-1];e&&"text"===e.type?e.value+=" ":p.children.push({type:"text",value:" "}),p.children.push(...d)}else s.push(...d);const h={type:"element",tagName:"li",properties:{id:t+"fn-"+u},children:e.wrap(s,!0)};e.patch(a,h),o.push(h)}if(0!==o.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:qt(qt({},mm(l)),{},{id:"footnote-label"}),children:[{type:"text",value:a}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:"\n"}]}}(r),s=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return a&&s.children.push({type:"text",value:"\n"},a),s}function zm(e,t){return e&&"run"in e?async function(r,n){const a=Mm(r,qt({file:n},t));await e.run(a,n)}:function(r,n){return Mm(r,qt({file:n},e||t))}}function Um(e){if(e)throw e}var Hm=r(240);function Vm(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Wm(){const e=[],t={run:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];let a=-1;const s=r.pop();if("function"!==typeof s)throw new TypeError("Expected function as last argument, not "+s);!function t(n){const l=e[++a];let o=-1;if(n)s(n);else{for(var i=arguments.length,u=new Array(i>1?i-1:0),c=1;c<i;c++)u[c-1]=arguments[c];for(;++o<r.length;)null!==u[o]&&void 0!==u[o]||(u[o]=r[o]);r=u,l?function(e,t){let r;return a;function a(){for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];const i=e.length>a.length;let u;i&&a.push(s);try{u=e.apply(this,a)}catch(n){if(i&&r)throw n;return s(n)}i||(u&&u.then&&"function"===typeof u.then?u.then(l,s):u instanceof Error?s(u):l(u))}function s(e){if(!r){r=!0;for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];t(e,...a)}}function l(e){s(null,e)}}(l,t)(...u):s(null,...u)}}(null,...r)},use:function(r){if("function"!==typeof r)throw new TypeError("Expected `middelware` to be a function, not "+r);return e.push(r),t}};return t}const qm={basename:function(e,t){if(void 0!==t&&"string"!==typeof t)throw new TypeError('"ext" argument must be a string');Km(e);let r,n=0,a=-1,s=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;s--;)if(47===e.codePointAt(s)){if(r){n=s+1;break}}else a<0&&(r=!0,a=s+1);return a<0?"":e.slice(n,a)}if(t===e)return"";let l=-1,o=t.length-1;for(;s--;)if(47===e.codePointAt(s)){if(r){n=s+1;break}}else l<0&&(r=!0,l=s+1),o>-1&&(e.codePointAt(s)===t.codePointAt(o--)?o<0&&(a=s):(o=-1,a=l));n===a?a=l:a<0&&(a=e.length);return e.slice(n,a)},dirname:function(e){if(Km(e),0===e.length)return".";let t,r=-1,n=e.length;for(;--n;)if(47===e.codePointAt(n)){if(t){r=n;break}}else t||(t=!0);return r<0?47===e.codePointAt(0)?"/":".":1===r&&47===e.codePointAt(0)?"//":e.slice(0,r)},extname:function(e){Km(e);let t,r=e.length,n=-1,a=0,s=-1,l=0;for(;r--;){const o=e.codePointAt(r);if(47!==o)n<0&&(t=!0,n=r+1),46===o?s<0?s=r:1!==l&&(l=1):s>-1&&(l=-1);else if(t){a=r+1;break}}if(s<0||n<0||0===l||1===l&&s===n-1&&s===a+1)return"";return e.slice(s,n)},join:function(){let e,t=-1;for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];for(;++t<n.length;)Km(n[t]),n[t]&&(e=void 0===e?n[t]:e+"/"+n[t]);return void 0===e?".":function(e){Km(e);const t=47===e.codePointAt(0);let r=function(e,t){let r,n,a="",s=0,l=-1,o=0,i=-1;for(;++i<=e.length;){if(i<e.length)r=e.codePointAt(i);else{if(47===r)break;r=47}if(47===r){if(l===i-1||1===o);else if(l!==i-1&&2===o){if(a.length<2||2!==s||46!==a.codePointAt(a.length-1)||46!==a.codePointAt(a.length-2))if(a.length>2){if(n=a.lastIndexOf("/"),n!==a.length-1){n<0?(a="",s=0):(a=a.slice(0,n),s=a.length-1-a.lastIndexOf("/")),l=i,o=0;continue}}else if(a.length>0){a="",s=0,l=i,o=0;continue}t&&(a=a.length>0?a+"/..":"..",s=2)}else a.length>0?a+="/"+e.slice(l+1,i):a=e.slice(l+1,i),s=i-l-1;l=i,o=0}else 46===r&&o>-1?o++:o=-1}return a}(e,!t);0!==r.length||t||(r=".");r.length>0&&47===e.codePointAt(e.length-1)&&(r+="/");return t?"/"+r:r}(e)},sep:"/"};function Km(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const $m={cwd:function(){return"/"}};function Jm(e){return Boolean(null!==e&&"object"===typeof e&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&void 0===e.auth)}function Qm(e){if("string"===typeof e)e=new URL(e);else if(!Jm(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return function(e){if(""!==e.hostname){const e=new TypeError('File URL host must be "localhost" or empty on darwin');throw e.code="ERR_INVALID_FILE_URL_HOST",e}const t=e.pathname;let r=-1;for(;++r<t.length;)if(37===t.codePointAt(r)&&50===t.codePointAt(r+1)){const e=t.codePointAt(r+2);if(70===e||102===e){const e=new TypeError("File URL path must not include encoded / characters");throw e.code="ERR_INVALID_FILE_URL_PATH",e}}return decodeURIComponent(t)}(e)}const Gm=["history","path","basename","stem","extname","dirname"];class Ym{constructor(e){let t;t=e?Jm(e)?{path:e}:"string"===typeof e||function(e){return Boolean(e&&"object"===typeof e&&"byteLength"in e&&"byteOffset"in e)}(e)?{value:e}:e:{},this.cwd="cwd"in t?"":$m.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r,n=-1;for(;++n<Gm.length;){const e=Gm[n];e in t&&void 0!==t[e]&&null!==t[e]&&(this[e]="history"===e?[...t[e]]:t[e])}for(r in t)Gm.includes(r)||(this[r]=t[r])}get basename(){return"string"===typeof this.path?qm.basename(this.path):void 0}set basename(e){Xm(e,"basename"),Zm(e,"basename"),this.path=qm.join(this.dirname||"",e)}get dirname(){return"string"===typeof this.path?qm.dirname(this.path):void 0}set dirname(e){ep(this.basename,"dirname"),this.path=qm.join(e||"",this.basename)}get extname(){return"string"===typeof this.path?qm.extname(this.path):void 0}set extname(e){if(Zm(e,"extname"),ep(this.dirname,"extname"),e){if(46!==e.codePointAt(0))throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=qm.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Jm(e)&&(e=Qm(e)),Xm(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return"string"===typeof this.path?qm.basename(this.path,this.extname):void 0}set stem(e){Xm(e,"stem"),Zm(e,"stem"),this.path=qm.join(this.dirname||"",e+(this.extname||""))}fail(e,t,r){const n=this.message(e,t,r);throw n.fatal=!0,n}info(e,t,r){const n=this.message(e,t,r);return n.fatal=void 0,n}message(e,t,r){const n=new Wu(e,t,r);return this.path&&(n.name=this.path+":"+n.name,n.file=this.path),n.fatal=!1,this.messages.push(n),n}toString(e){if(void 0===this.value)return"";if("string"===typeof this.value)return this.value;return new TextDecoder(e||void 0).decode(this.value)}}function Zm(e,t){if(e&&e.includes(qm.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+qm.sep+"`")}function Xm(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function ep(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}const tp=function(e){const t=this.constructor.prototype,r=t[e],n=function(){return r.apply(n,arguments)};return Object.setPrototypeOf(n,t),n},rp={}.hasOwnProperty;class np extends tp{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Wm()}copy(){const e=new np;let t=-1;for(;++t<this.attachers.length;){const r=this.attachers[t];e.use(...r)}return e.data(Hm(!0,{},this.namespace)),e}data(e,t){return"string"===typeof e?2===arguments.length?(op("data",this.frozen),this.namespace[e]=t,this):rp.call(this.namespace,e)&&this.namespace[e]||void 0:e?(op("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...r]=this.attachers[this.freezeIndex];if(!1===r[0])continue;!0===r[0]&&(r[0]=void 0);const n=t.call(e,...r);"function"===typeof n&&this.transformers.use(n)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=cp(e),r=this.parser||this.Parser;return sp("parse",r),r(String(t),t)}process(e,t){const r=this;return this.freeze(),sp("process",this.parser||this.Parser),lp("process",this.compiler||this.Compiler),t?n(void 0,t):new Promise(n);function n(n,a){const s=cp(e),l=r.parse(s);function o(e,r){e||!r?a(e):n?n(r):t(void 0,r)}r.run(l,s,function(e,t,n){if(e||!t||!n)return o(e);const a=t,s=r.stringify(a,n);var l;"string"===typeof(l=s)||function(e){return Boolean(e&&"object"===typeof e&&"byteLength"in e&&"byteOffset"in e)}(l)?n.value=s:n.result=s,o(e,n)})}}processSync(e){let t,r=!1;return this.freeze(),sp("processSync",this.parser||this.Parser),lp("processSync",this.compiler||this.Compiler),this.process(e,function(e,n){r=!0,Um(e),t=n}),up("processSync","process",r),t}run(e,t,r){ip(e),this.freeze();const n=this.transformers;return r||"function"!==typeof t||(r=t,t=void 0),r?a(void 0,r):new Promise(a);function a(a,s){const l=cp(t);n.run(e,l,function(t,n,l){const o=n||e;t?s(t):a?a(o):r(void 0,o,l)})}}runSync(e,t){let r,n=!1;return this.run(e,t,function(e,t){Um(e),r=t,n=!0}),up("runSync","run",n),r}stringify(e,t){this.freeze();const r=cp(t),n=this.compiler||this.Compiler;return lp("stringify",n),ip(e),n(e,r)}use(e){const t=this.attachers,r=this.namespace;if(op("use",this.frozen),null===e||void 0===e);else if("function"===typeof e){for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];u(e,a)}else{if("object"!==typeof e)throw new TypeError("Expected usable value, not `"+e+"`");Array.isArray(e)?i(e):o(e)}return this;function l(e){if("function"===typeof e)u(e,[]);else{if("object"!==typeof e)throw new TypeError("Expected usable value, not `"+e+"`");if(Array.isArray(e)){const[t,...r]=e;u(t,r)}else o(e)}}function o(e){if(!("plugins"in e)&&!("settings"in e))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");i(e.plugins),e.settings&&(r.settings=Hm(!0,r.settings,e.settings))}function i(e){let t=-1;if(null===e||void 0===e);else{if(!Array.isArray(e))throw new TypeError("Expected a list of plugins, not `"+e+"`");for(;++t<e.length;){l(e[t])}}}function u(e,r){let n=-1,a=-1;for(;++n<t.length;)if(t[n][0]===e){a=n;break}if(-1===a)t.push([e,...r]);else if(r.length>0){let[n,...s]=r;const l=t[a][1];Vm(l)&&Vm(n)&&(n=Hm(!0,l,n)),t[a]=[e,n,...s]}}}}const ap=(new np).freeze();function sp(e,t){if("function"!==typeof t)throw new TypeError("Cannot `"+e+"` without `parser`")}function lp(e,t){if("function"!==typeof t)throw new TypeError("Cannot `"+e+"` without `compiler`")}function op(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function ip(e){if(!Vm(e)||"string"!==typeof e.type)throw new TypeError("Expected node, got `"+e+"`")}function up(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function cp(e){return function(e){return Boolean(e&&"object"===typeof e&&"message"in e&&"messages"in e)}(e)?e:new Ym(e)}const dp=[],mp={allowDangerousHtml:!0},pp=/^(https?|ircs?|mailto|xmpp)$/i,hp=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function gp(e){const t=fp(e),r=xp(e);return yp(t.runSync(t.parse(r),r),e)}function fp(e){const t=e.rehypePlugins||dp,r=e.remarkPlugins||dp,n=e.remarkRehypeOptions?qt(qt({},e.remarkRehypeOptions),mp):mp;return ap().use(nm).use(r).use(zm,n).use(t)}function xp(e){const t=e.children||"",r=new Ym;return"string"===typeof t&&(r.value=t),r}function yp(e,t){const r=t.allowedElements,n=t.allowElement,a=t.components,s=t.disallowedElements,l=t.skipHtml,o=t.unwrapDisallowed,i=t.urlTransform||bp;for(const u of hp)Object.hasOwn(t,u.from)&&Gi((u.from,u.to&&u.to,u.id));return Cm(e,function(e,t,a){if("raw"===e.type&&a&&"number"===typeof t)return l?a.children.splice(t,1):a.children[t]={type:"text",value:e.value},t;if("element"===e.type){let t;for(t in oc)if(Object.hasOwn(oc,t)&&Object.hasOwn(e.properties,t)){const r=e.properties[t],n=oc[t];(null===n||n.includes(e.tagName))&&(e.properties[t]=i(String(r||""),t,e))}}if("element"===e.type){let l=r?!r.includes(e.tagName):!!s&&s.includes(e.tagName);if(!l&&n&&"number"===typeof t&&(l=!n(e,t,a)),l&&a&&"number"===typeof t)return o&&e.children?a.children.splice(t,1,...e.children):a.children.splice(t,1),t}}),Yu(e,{Fragment:dn.Fragment,components:a,ignoreInvalidStyle:!0,jsx:dn.jsx,jsxs:dn.jsxs,passKeys:!0,passNode:!0})}function bp(e){const t=e.indexOf(":"),r=e.indexOf("?"),n=e.indexOf("#"),a=e.indexOf("/");return-1===t||-1!==a&&t>a||-1!==r&&t>r||-1!==n&&t>n||pp.test(e.slice(0,t))?e:""}function vp(e,t){const r=String(e);if("string"!==typeof t)throw new TypeError("Expected character");let n=0,a=r.indexOf(t);for(;-1!==a;)n++,a=r.indexOf(t,a+t.length);return n}function Dp(e,t,r){const n=fm((r||{}).ignore||[]),a=function(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!e[0]||Array.isArray(e[0])?e:[e];let n=-1;for(;++n<r.length;){const e=r[n];t.push([kp(e[0]),wp(e[1])])}return t}(t);let s=-1;for(;++s<a.length;)wm(e,"text",l);function l(e,t){let r,l=-1;for(;++l<t.length;){const e=t[l],a=r?r.children:void 0;if(n(e,a?a.indexOf(e):void 0,r))return;r=e}if(r)return function(e,t){const r=t[t.length-1],n=a[s][0],l=a[s][1];let o=0;const i=r.children.indexOf(e);let u=!1,c=[];n.lastIndex=0;let d=n.exec(e.value);for(;d;){const r=d.index,a={index:d.index,input:d.input,stack:[...t,e]};let s=l(...d,a);if("string"===typeof s&&(s=s.length>0?{type:"text",value:s}:void 0),!1===s?n.lastIndex=r+1:(o!==r&&c.push({type:"text",value:e.value.slice(o,r)}),Array.isArray(s)?c.push(...s):s&&c.push(s),o=r+d[0].length,u=!0),!n.global)break;d=n.exec(e.value)}u?(o<e.value.length&&c.push({type:"text",value:e.value.slice(o)}),r.children.splice(i,1,...c)):c=[e];return i+c.length}(e,t)}}function kp(e){return"string"===typeof e?new RegExp(function(e){if("string"!==typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(e),"g"):e}function wp(e){return"function"===typeof e?e:function(){return e}}const Cp="phrasing",jp=["autolink","link","image","label"];function Fp(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Np(e){this.config.enter.autolinkProtocol.call(this,e)}function Ep(e){this.config.exit.autolinkProtocol.call(this,e)}function Ap(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Sp(e){this.config.exit.autolinkEmail.call(this,e)}function _p(e){this.exit(e)}function Bp(e){Dp(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Tp],[/(?<=^|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]|(?:[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B4E\u1B4F\u1B5A-\u1B60\u1B7D-\u1B7F\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDD6E\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9\uDFD4\uDFD5\uDFD7\uDFD8]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09\uDFE1]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDD6D-\uDD6F\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD839\uDDFF|\uD83A[\uDD5E\uDD5F])|(?:[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2429\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E5\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD803[\uDD8E\uDD8F]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDC00-\uDCEF\uDD00-\uDEB3\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0-\uDCBB\uDCC0\uDCC1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE89\uDE8F-\uDEC6\uDECE-\uDEDC\uDEDF-\uDEE9\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFEF]))([\+\x2D\.0-9A-Z_a-z]+)@([\x2D0-9A-Z_a-z]+(?:\.[\x2D0-9A-Z_a-z]+)+)/g,Lp]],{ignore:["link","linkReference"]})}function Tp(e,t,r,n,a){let s="";if(!Rp(a))return!1;if(/^w/i.test(t)&&(r=t+r,t="",s="http://"),!function(e){const t=e.split(".");if(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))return!1;return!0}(r))return!1;const l=function(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let r=t[0],n=r.indexOf(")");const a=vp(e,"(");let s=vp(e,")");for(;-1!==n&&a>s;)e+=r.slice(0,n+1),r=r.slice(n+1),n=r.indexOf(")"),s++;return[e,r]}(r+n);if(!l[0])return!1;const o={type:"link",title:null,url:s+t+l[0],children:[{type:"text",value:t+l[0]}]};return l[1]?[o,{type:"text",value:l[1]}]:o}function Lp(e,t,r,n){return!(!Rp(n,!0)||/[-\d_]$/.test(r))&&{type:"link",title:null,url:"mailto:"+t+"@"+r,children:[{type:"text",value:t+"@"+r}]}}function Rp(e,t){const r=e.input.charCodeAt(e.index-1);return(0===e.index||Tc(r)||Bc(r))&&(!t||47!==r)}function Pp(){this.buffer()}function Op(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Ip(){this.buffer()}function Mp(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function zp(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=ad(this.sliceSerialize(e)).toLowerCase(),r.label=t}function Up(e){this.exit(e)}function Hp(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=ad(this.sliceSerialize(e)).toLowerCase(),r.label=t}function Vp(e){this.exit(e)}function Wp(e,t,r,n){const a=r.createTracker(n);let s=a.move("[^");const l=r.enter("footnoteReference"),o=r.enter("reference");return s+=a.move(r.safe(r.associationId(e),{after:"]",before:s})),o(),l(),s+=a.move("]"),s}function qp(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:function(e,r,n,a){const s=n.createTracker(a);let l=s.move("[^");const o=n.enter("footnoteDefinition"),i=n.enter("label");l+=s.move(n.safe(n.associationId(e),{before:l,after:"]"})),i(),l+=s.move("]:"),e.children&&e.children.length>0&&(s.shift(4),l+=s.move((t?"\n":" ")+n.indentLines(n.containerFlow(e,s.current()),t?$p:Kp)));return o(),l},footnoteReference:Wp},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]}}function Kp(e,t,r){return 0===t?e:$p(e,t,r)}function $p(e,t,r){return(r?"":"    ")+e}Wp.peek=function(){return"["};const Jp=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];function Qp(e){this.enter({type:"delete",children:[]},e)}function Gp(e){this.exit(e)}function Yp(e,t,r,n){const a=r.createTracker(n),s=r.enter("strikethrough");let l=a.move("~~");return l+=r.containerPhrasing(e,qt(qt({},a.current()),{},{before:l,after:"~"})),l+=a.move("~~"),s(),l}function Zp(e){return e.length}function Xp(e){return null===e||void 0===e?"":String(e)}function eh(e){const t="string"===typeof e?e.codePointAt(0):0;return 67===t||99===t?99:76===t||108===t?108:82===t||114===t?114:0}function th(e,t,r){return">"+(r?"":" ")+e}function rh(e,t){return nh(e,t.inConstruct,!0)&&!nh(e,t.notInConstruct,!1)}function nh(e,t,r){if("string"===typeof t&&(t=[t]),!t||0===t.length)return r;let n=-1;for(;++n<t.length;)if(e.includes(t[n]))return!0;return!1}function ah(e,t,r,n){let a=-1;for(;++a<r.unsafe.length;)if("\n"===r.unsafe[a].character&&rh(r.stack,r.unsafe[a]))return/[ \t]/.test(n.before)?"":" ";return"\\\n"}function sh(e,t,r){return(r?"":"    ")+e}function lh(e){const t=e.options.quote||'"';if('"'!==t&&"'"!==t)throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function oh(e){return"&#x"+e.toString(16).toUpperCase()+";"}function ih(e,t,r){const n=Ad(e),a=Ad(t);return void 0===n?void 0===a?"_"===r?{inside:!0,outside:!0}:{inside:!1,outside:!1}:1===a?{inside:!0,outside:!0}:{inside:!1,outside:!0}:1===n?void 0===a?{inside:!1,outside:!1}:1===a?{inside:!0,outside:!0}:{inside:!1,outside:!1}:void 0===a?{inside:!1,outside:!1}:1===a?{inside:!0,outside:!1}:{inside:!1,outside:!1}}function uh(e,t,r,n){const a=function(e){const t=e.options.emphasis||"*";if("*"!==t&&"_"!==t)throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}(r),s=r.enter("emphasis"),l=r.createTracker(n),o=l.move(a);let i=l.move(r.containerPhrasing(e,qt({after:a,before:o},l.current())));const u=i.charCodeAt(0),c=ih(n.before.charCodeAt(n.before.length-1),u,a);c.inside&&(i=oh(u)+i.slice(1));const d=i.charCodeAt(i.length-1),m=ih(n.after.charCodeAt(0),d,a);m.inside&&(i=i.slice(0,-1)+oh(d));const p=l.move(a);return s(),r.attentionEncodeSurroundingInfo={after:m.outside,before:c.outside},o+i+p}function ch(e){return e.value||""}function dh(e,t,r,n){const a=lh(r),s='"'===a?"Quote":"Apostrophe",l=r.enter("image");let o=r.enter("label");const i=r.createTracker(n);let u=i.move("![");return u+=i.move(r.safe(e.alt,qt({before:u,after:"]"},i.current()))),u+=i.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=r.enter("destinationLiteral"),u+=i.move("<"),u+=i.move(r.safe(e.url,qt({before:u,after:">"},i.current()))),u+=i.move(">")):(o=r.enter("destinationRaw"),u+=i.move(r.safe(e.url,qt({before:u,after:e.title?" ":")"},i.current())))),o(),e.title&&(o=r.enter("title".concat(s)),u+=i.move(" "+a),u+=i.move(r.safe(e.title,qt({before:u,after:a},i.current()))),u+=i.move(a),o()),u+=i.move(")"),l(),u}function mh(e,t,r,n){const a=e.referenceType,s=r.enter("imageReference");let l=r.enter("label");const o=r.createTracker(n);let i=o.move("![");const u=r.safe(e.alt,qt({before:i,after:"]"},o.current()));i+=o.move(u+"]["),l();const c=r.stack;r.stack=[],l=r.enter("reference");const d=r.safe(r.associationId(e),qt({before:i,after:"]"},o.current()));return l(),r.stack=c,s(),"full"!==a&&u&&u===d?"shortcut"===a?i=i.slice(0,-1):i+=o.move("]"):i+=o.move(d+"]"),i}function ph(e,t,r){let n=e.value||"",a="`",s=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(n);)a+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++s<r.unsafe.length;){const e=r.unsafe[s],t=r.compilePattern(e);let a;if(e.atBreak)for(;a=t.exec(n);){let e=a.index;10===n.charCodeAt(e)&&13===n.charCodeAt(e-1)&&e--,n=n.slice(0,e)+" "+n.slice(a.index+1)}}return a+n+a}function hh(e,t){const r=uc(e);return Boolean(!t.options.resourceLink&&e.url&&!e.title&&e.children&&1===e.children.length&&"text"===e.children[0].type&&(r===e.url||"mailto:"+r===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}function gh(e,t,r,n){const a=lh(r),s='"'===a?"Quote":"Apostrophe",l=r.createTracker(n);let o,i;if(hh(e,r)){const t=r.stack;r.stack=[],o=r.enter("autolink");let n=l.move("<");return n+=l.move(r.containerPhrasing(e,qt({before:n,after:">"},l.current()))),n+=l.move(">"),o(),r.stack=t,n}o=r.enter("link"),i=r.enter("label");let u=l.move("[");return u+=l.move(r.containerPhrasing(e,qt({before:u,after:"]("},l.current()))),u+=l.move("]("),i(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(i=r.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(r.safe(e.url,qt({before:u,after:">"},l.current()))),u+=l.move(">")):(i=r.enter("destinationRaw"),u+=l.move(r.safe(e.url,qt({before:u,after:e.title?" ":")"},l.current())))),i(),e.title&&(i=r.enter("title".concat(s)),u+=l.move(" "+a),u+=l.move(r.safe(e.title,qt({before:u,after:a},l.current()))),u+=l.move(a),i()),u+=l.move(")"),o(),u}function fh(e,t,r,n){const a=e.referenceType,s=r.enter("linkReference");let l=r.enter("label");const o=r.createTracker(n);let i=o.move("[");const u=r.containerPhrasing(e,qt({before:i,after:"]"},o.current()));i+=o.move(u+"]["),l();const c=r.stack;r.stack=[],l=r.enter("reference");const d=r.safe(r.associationId(e),qt({before:i,after:"]"},o.current()));return l(),r.stack=c,s(),"full"!==a&&u&&u===d?"shortcut"===a?i=i.slice(0,-1):i+=o.move("]"):i+=o.move(d+"]"),i}function xh(e){const t=e.options.bullet||"*";if("*"!==t&&"+"!==t&&"-"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function yh(e){const t=e.options.rule||"*";if("*"!==t&&"-"!==t&&"_"!==t)throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}Yp.peek=function(){return"~"},uh.peek=function(e,t,r){return r.options.emphasis||"*"},ch.peek=function(){return"<"},dh.peek=function(){return"!"},mh.peek=function(){return"!"},ph.peek=function(){return"`"},gh.peek=function(e,t,r){return hh(e,r)?"<":"["},fh.peek=function(){return"["};const bh=fm(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function vh(e,t,r,n){const a=function(e){const t=e.options.strong||"*";if("*"!==t&&"_"!==t)throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}(r),s=r.enter("strong"),l=r.createTracker(n),o=l.move(a+a);let i=l.move(r.containerPhrasing(e,qt({after:a,before:o},l.current())));const u=i.charCodeAt(0),c=ih(n.before.charCodeAt(n.before.length-1),u,a);c.inside&&(i=oh(u)+i.slice(1));const d=i.charCodeAt(i.length-1),m=ih(n.after.charCodeAt(0),d,a);m.inside&&(i=i.slice(0,-1)+oh(d));const p=l.move(a+a);return s(),r.attentionEncodeSurroundingInfo={after:m.outside,before:c.outside},o+i+p}vh.peek=function(e,t,r){return r.options.strong||"*"};const Dh={blockquote:function(e,t,r,n){const a=r.enter("blockquote"),s=r.createTracker(n);s.move("> "),s.shift(2);const l=r.indentLines(r.containerFlow(e,s.current()),th);return a(),l},break:ah,code:function(e,t,r,n){const a=function(e){const t=e.options.fence||"`";if("`"!==t&&"~"!==t)throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}(r),s=e.value||"",l="`"===a?"GraveAccent":"Tilde";if(function(e,t){return Boolean(!1===t.options.fences&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}(e,r)){const e=r.enter("codeIndented"),t=r.indentLines(s,sh);return e(),t}const o=r.createTracker(n),i=a.repeat(Math.max(function(e,t){const r=String(e);let n=r.indexOf(t),a=n,s=0,l=0;if("string"!==typeof t)throw new TypeError("Expected substring");for(;-1!==n;)n===a?++s>l&&(l=s):s=1,a=n+t.length,n=r.indexOf(t,a);return l}(s,a)+1,3)),u=r.enter("codeFenced");let c=o.move(i);if(e.lang){const t=r.enter("codeFencedLang".concat(l));c+=o.move(r.safe(e.lang,qt({before:c,after:" ",encode:["`"]},o.current()))),t()}if(e.lang&&e.meta){const t=r.enter("codeFencedMeta".concat(l));c+=o.move(" "),c+=o.move(r.safe(e.meta,qt({before:c,after:"\n",encode:["`"]},o.current()))),t()}return c+=o.move("\n"),s&&(c+=o.move(s+"\n")),c+=o.move(i),u(),c},definition:function(e,t,r,n){const a=lh(r),s='"'===a?"Quote":"Apostrophe",l=r.enter("definition");let o=r.enter("label");const i=r.createTracker(n);let u=i.move("[");return u+=i.move(r.safe(r.associationId(e),qt({before:u,after:"]"},i.current()))),u+=i.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=r.enter("destinationLiteral"),u+=i.move("<"),u+=i.move(r.safe(e.url,qt({before:u,after:">"},i.current()))),u+=i.move(">")):(o=r.enter("destinationRaw"),u+=i.move(r.safe(e.url,qt({before:u,after:e.title?" ":"\n"},i.current())))),o(),e.title&&(o=r.enter("title".concat(s)),u+=i.move(" "+a),u+=i.move(r.safe(e.title,qt({before:u,after:a},i.current()))),u+=i.move(a),o()),l(),u},emphasis:uh,hardBreak:ah,heading:function(e,t,r,n){const a=Math.max(Math.min(6,e.depth||1),1),s=r.createTracker(n);if(function(e,t){let r=!1;return Cm(e,function(e){if("value"in e&&/\r?\n|\r/.test(e.value)||"break"===e.type)return r=!0,km}),Boolean((!e.depth||e.depth<3)&&uc(e)&&(t.options.setext||r))}(e,r)){const t=r.enter("headingSetext"),n=r.enter("phrasing"),l=r.containerPhrasing(e,qt(qt({},s.current()),{},{before:"\n",after:"\n"}));return n(),t(),l+"\n"+(1===a?"=":"-").repeat(l.length-(Math.max(l.lastIndexOf("\r"),l.lastIndexOf("\n"))+1))}const l="#".repeat(a),o=r.enter("headingAtx"),i=r.enter("phrasing");s.move(l+" ");let u=r.containerPhrasing(e,qt({before:"# ",after:"\n"},s.current()));return/^[\t ]/.test(u)&&(u=oh(u.charCodeAt(0))+u.slice(1)),u=u?l+" "+u:l,r.options.closeAtx&&(u+=" "+l),i(),o(),u},html:ch,image:dh,imageReference:mh,inlineCode:ph,link:gh,linkReference:fh,list:function(e,t,r,n){const a=r.enter("list"),s=r.bulletCurrent;let l=e.ordered?function(e){const t=e.options.bulletOrdered||".";if("."!==t&&")"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}(r):xh(r);const o=e.ordered?"."===l?")":".":function(e){const t=xh(e),r=e.options.bulletOther;if(!r)return"*"===t?"-":"*";if("*"!==r&&"+"!==r&&"-"!==r)throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+r+"`) to be different");return r}(r);let i=!(!t||!r.bulletLastUsed)&&l===r.bulletLastUsed;if(!e.ordered){const t=e.children?e.children[0]:void 0;if("*"!==l&&"-"!==l||!t||t.children&&t.children[0]||"list"!==r.stack[r.stack.length-1]||"listItem"!==r.stack[r.stack.length-2]||"list"!==r.stack[r.stack.length-3]||"listItem"!==r.stack[r.stack.length-4]||0!==r.indexStack[r.indexStack.length-1]||0!==r.indexStack[r.indexStack.length-2]||0!==r.indexStack[r.indexStack.length-3]||(i=!0),yh(r)===l&&t){let t=-1;for(;++t<e.children.length;){const r=e.children[t];if(r&&"listItem"===r.type&&r.children&&r.children[0]&&"thematicBreak"===r.children[0].type){i=!0;break}}}}i&&(l=o),r.bulletCurrent=l;const u=r.containerFlow(e,n);return r.bulletLastUsed=l,r.bulletCurrent=s,a(),u},listItem:function(e,t,r,n){const a=function(e){const t=e.options.listItemIndent||"one";if("tab"!==t&&"one"!==t&&"mixed"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}(r);let s=r.bulletCurrent||xh(r);t&&"list"===t.type&&t.ordered&&(s=("number"===typeof t.start&&t.start>-1?t.start:1)+(!1===r.options.incrementListMarker?0:t.children.indexOf(e))+s);let l=s.length+1;("tab"===a||"mixed"===a&&(t&&"list"===t.type&&t.spread||e.spread))&&(l=4*Math.ceil(l/4));const o=r.createTracker(n);o.move(s+" ".repeat(l-s.length)),o.shift(l);const i=r.enter("listItem"),u=r.indentLines(r.containerFlow(e,o.current()),function(e,t,r){if(t)return(r?"":" ".repeat(l))+e;return(r?s:s+" ".repeat(l-s.length))+e});return i(),u},paragraph:function(e,t,r,n){const a=r.enter("paragraph"),s=r.enter("phrasing"),l=r.containerPhrasing(e,n);return s(),a(),l},root:function(e,t,r,n){const a=e.children.some(function(e){return bh(e)});return(a?r.containerPhrasing:r.containerFlow).call(r,e,n)},strong:vh,text:function(e,t,r,n){return r.safe(e.value,n)},thematicBreak:function(e,t,r){const n=(yh(r)+(r.options.ruleSpaces?" ":"")).repeat(function(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}(r));return r.options.ruleSpaces?n.slice(0,-1):n}};function kh(e){const t=e._align;this.enter({type:"table",align:t.map(function(e){return"none"===e?null:e}),children:[]},e),this.data.inTable=!0}function wh(e){this.exit(e),this.data.inTable=void 0}function Ch(e){this.enter({type:"tableRow",children:[]},e)}function jh(e){this.exit(e)}function Fh(e){this.enter({type:"tableCell",children:[]},e)}function Nh(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Eh));const r=this.stack[this.stack.length-1];r.type,r.value=t,this.exit(e)}function Eh(e,t){return"|"===t?t:e}function Ah(e){const t=e||{},r=t.tableCellPadding,n=t.tablePipeAlign,a=t.stringLength,s=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:"\n",inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[\t :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:function(e,t,r){let n=Dh.inlineCode(e,t,r);r.stack.includes("tableCell")&&(n=n.replace(/\|/g,"\\$&"));return n},table:function(e,t,r,n){return o(function(e,t,r){const n=e.children;let a=-1;const s=[],l=t.enter("table");for(;++a<n.length;)s[a]=i(n[a],t,r);return l(),s}(e,r,n),e.align)},tableCell:l,tableRow:function(e,t,r,n){const a=i(e,r,n),s=o([a]);return s.slice(0,s.indexOf("\n"))}}};function l(e,t,r,n){const a=r.enter("tableCell"),l=r.enter("phrasing"),o=r.containerPhrasing(e,qt(qt({},n),{},{before:s,after:s}));return l(),a(),o}function o(e,t){return function(e,t){const r=t||{},n=(r.align||[]).concat(),a=r.stringLength||Zp,s=[],l=[],o=[],i=[];let u=0,c=-1;for(;++c<e.length;){const t=[],n=[];let s=-1;for(e[c].length>u&&(u=e[c].length);++s<e[c].length;){const l=Xp(e[c][s]);if(!1!==r.alignDelimiters){const e=a(l);n[s]=e,(void 0===i[s]||e>i[s])&&(i[s]=e)}t.push(l)}l[c]=t,o[c]=n}let d=-1;if("object"===typeof n&&"length"in n)for(;++d<u;)s[d]=eh(n[d]);else{const e=eh(n);for(;++d<u;)s[d]=e}d=-1;const m=[],p=[];for(;++d<u;){const e=s[d];let t="",n="";99===e?(t=":",n=":"):108===e?t=":":114===e&&(n=":");let a=!1===r.alignDelimiters?1:Math.max(1,i[d]-t.length-n.length);const l=t+"-".repeat(a)+n;!1!==r.alignDelimiters&&(a=t.length+a+n.length,a>i[d]&&(i[d]=a),p[d]=a),m[d]=l}l.splice(1,0,m),o.splice(1,0,p),c=-1;const h=[];for(;++c<l.length;){const e=l[c],t=o[c];d=-1;const n=[];for(;++d<u;){const a=e[d]||"";let l="",o="";if(!1!==r.alignDelimiters){const e=i[d]-(t[d]||0),r=s[d];114===r?l=" ".repeat(e):99===r?e%2?(l=" ".repeat(e/2+.5),o=" ".repeat(e/2-.5)):(l=" ".repeat(e/2),o=l):o=" ".repeat(e)}!1===r.delimiterStart||d||n.push("|"),!1===r.padding||!1===r.alignDelimiters&&""===a||!1===r.delimiterStart&&!d||n.push(" "),!1!==r.alignDelimiters&&n.push(l),n.push(a),!1!==r.alignDelimiters&&n.push(o),!1!==r.padding&&n.push(" "),!1===r.delimiterEnd&&d===u-1||n.push("|")}h.push(!1===r.delimiterEnd?n.join("").replace(/ +$/,""):n.join(""))}return h.join("\n")}(e,{align:t,alignDelimiters:n,padding:r,stringLength:a})}function i(e,t,r){const n=e.children;let a=-1;const s=[],o=t.enter("tableRow");for(;++a<n.length;)s[a]=l(n[a],0,t,r);return o(),s}}function Sh(e){const t=this.stack[this.stack.length-2];t.type,t.checked="taskListCheckValueChecked"===e.type}function _h(e){const t=this.stack[this.stack.length-2];if(t&&"listItem"===t.type&&"boolean"===typeof t.checked){const e=this.stack[this.stack.length-1];e.type;const r=e.children[0];if(r&&"text"===r.type){const n=t.children;let a,s=-1;for(;++s<n.length;){const e=n[s];if("paragraph"===e.type){a=e;break}}a===e&&(r.value=r.value.slice(1),0===r.value.length?e.children.shift():e.position&&r.position&&"number"===typeof r.position.start.offset&&(r.position.start.column++,r.position.start.offset++,e.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function Bh(e,t,r,n){const a=e.children[0],s="boolean"===typeof e.checked&&a&&"paragraph"===a.type,l="["+(e.checked?"x":" ")+"] ",o=r.createTracker(n);s&&o.move(l);let i=Dh.listItem(e,t,r,qt(qt({},n),o.current()));return s&&(i=i.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,function(e){return e+l})),i}const Th={tokenize:function(e,t,r){let n=0;return function t(s){if((87===s||119===s)&&n<3)return n++,e.consume(s),t;if(46===s&&3===n)return e.consume(s),a;return r(s)};function a(e){return null===e?r(e):t(e)}},partial:!0},Lh={tokenize:function(e,t,r){let n,a,s;return l;function l(t){return 46===t||95===t?e.check(Ph,i,o)(t):null===t||Sc(t)||Tc(t)||45!==t&&Bc(t)?i(t):(s=!0,e.consume(t),l)}function o(t){return 95===t?n=!0:(a=n,n=void 0),e.consume(t),l}function i(e){return a||n||!s?r(e):t(e)}},partial:!0},Rh={tokenize:function(e,t){let r=0,n=0;return a;function a(l){return 40===l?(r++,e.consume(l),a):41===l&&n<r?s(l):33===l||34===l||38===l||39===l||41===l||42===l||44===l||46===l||58===l||59===l||60===l||63===l||93===l||95===l||126===l?e.check(Ph,t,s)(l):null===l||Sc(l)||Tc(l)?t(l):(e.consume(l),a)}function s(t){return 41===t&&n++,e.consume(t),a}},partial:!0},Ph={tokenize:function(e,t,r){return n;function n(l){return 33===l||34===l||39===l||41===l||42===l||44===l||46===l||58===l||59===l||63===l||95===l||126===l?(e.consume(l),n):38===l?(e.consume(l),s):93===l?(e.consume(l),a):60===l||null===l||Sc(l)||Tc(l)?t(l):r(l)}function a(e){return null===e||40===e||91===e||Sc(e)||Tc(e)?t(e):n(e)}function s(e){return kc(e)?l(e):r(e)}function l(t){return 59===t?(e.consume(t),n):kc(t)?(e.consume(t),l):r(t)}},partial:!0},Oh={tokenize:function(e,t,r){return function(t){return e.consume(t),n};function n(e){return wc(e)?r(e):t(e)}},partial:!0},Ih={name:"wwwAutolink",tokenize:function(e,t,r){const n=this;return function(t){if(87!==t&&119!==t||!Vh.call(n,n.previous)||$h(n.events))return r(t);return e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Th,e.attempt(Lh,e.attempt(Rh,a),r),r)(t)};function a(r){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(r)}},previous:Vh},Mh={name:"protocolAutolink",tokenize:function(e,t,r){const n=this;let a="",s=!1;return function(t){if((72===t||104===t)&&Wh.call(n,n.previous)&&!$h(n.events))return e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),a+=String.fromCodePoint(t),e.consume(t),l;return r(t)};function l(t){if(kc(t)&&a.length<5)return a+=String.fromCodePoint(t),e.consume(t),l;if(58===t){const r=a.toLowerCase();if("http"===r||"https"===r)return e.consume(t),o}return r(t)}function o(t){return 47===t?(e.consume(t),s?i:(s=!0,o)):r(t)}function i(t){return null===t||jc(t)||Sc(t)||Tc(t)||Bc(t)?r(t):e.attempt(Lh,e.attempt(Rh,u),r)(t)}function u(r){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(r)}},previous:Wh},zh={name:"emailAutolink",tokenize:function(e,t,r){const n=this;let a,s;return function(t){if(!Kh(t)||!qh.call(n,n.previous)||$h(n.events))return r(t);return e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),l(t)};function l(t){return Kh(t)?(e.consume(t),l):64===t?(e.consume(t),o):r(t)}function o(t){return 46===t?e.check(Oh,u,i)(t):45===t||95===t||wc(t)?(s=!0,e.consume(t),o):u(t)}function i(t){return e.consume(t),a=!0,o}function u(l){return s&&a&&kc(n.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(l)):r(l)}},previous:qh},Uh={};let Hh=48;for(;Hh<123;)Uh[Hh]=zh,Hh++,58===Hh?Hh=65:91===Hh&&(Hh=97);function Vh(e){return null===e||40===e||42===e||95===e||91===e||93===e||126===e||Sc(e)}function Wh(e){return!kc(e)}function qh(e){return!(47===e||Kh(e))}function Kh(e){return 43===e||45===e||46===e||95===e||wc(e)}function $h(e){let t=e.length,r=!1;for(;t--;){const n=e[t][1];if(("labelLink"===n.type||"labelImage"===n.type)&&!n._balanced){r=!0;break}if(n._gfmAutolinkLiteralWalkedInto){r=!1;break}}return e.length>0&&!r&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}Uh[43]=zh,Uh[45]=zh,Uh[46]=zh,Uh[95]=zh,Uh[72]=[zh,Mh],Uh[104]=[zh,Mh],Uh[87]=[zh,Ih],Uh[119]=[zh,Ih];const Jh={tokenize:function(e,t,r){const n=this;return Rc(e,function(e){const a=n.events[n.events.length-1];return a&&"gfmFootnoteDefinitionIndent"===a[1].type&&4===a[2].sliceSerialize(a[1],!0).length?t(e):r(e)},"gfmFootnoteDefinitionIndent",5)},partial:!0};function Qh(e,t,r){const n=this;let a=n.events.length;const s=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let l;for(;a--;){const e=n.events[a][1];if("labelImage"===e.type){l=e;break}if("gfmFootnoteCall"===e.type||"labelLink"===e.type||"label"===e.type||"image"===e.type||"link"===e.type)break}return function(a){if(!l||!l._balanced)return r(a);const o=ad(n.sliceSerialize({start:l.end,end:n.now()}));if(94!==o.codePointAt(0)||!s.includes(o.slice(1)))return r(a);return e.enter("gfmFootnoteCallLabelMarker"),e.consume(a),e.exit("gfmFootnoteCallLabelMarker"),t(a)}}function Gh(e,t){let r,n=e.length;for(;n--;)if("labelImage"===e[n][1].type&&"enter"===e[n][0]){r=e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const a={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},s={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};s.end.column++,s.end.offset++,s.end._bufferIndex++;const l={type:"gfmFootnoteCallString",start:Object.assign({},s.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},l.start),end:Object.assign({},l.end)},i=[e[n+1],e[n+2],["enter",a,t],e[n+3],e[n+4],["enter",s,t],["exit",s,t],["enter",l,t],["enter",o,t],["exit",o,t],["exit",l,t],e[e.length-2],e[e.length-1],["exit",a,t]];return e.splice(n,e.length-n+1,...i),e}function Yh(e,t,r){const n=this,a=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let s,l=0;return function(t){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(t),e.exit("gfmFootnoteCallLabelMarker"),o};function o(t){return 94!==t?r(t):(e.enter("gfmFootnoteCallMarker"),e.consume(t),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",i)}function i(o){if(l>999||93===o&&!s||null===o||91===o||Sc(o))return r(o);if(93===o){e.exit("chunkString");const s=e.exit("gfmFootnoteCallString");return a.includes(ad(n.sliceSerialize(s)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(o),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):r(o)}return Sc(o)||(s=!0),l++,e.consume(o),92===o?u:i}function u(t){return 91===t||92===t||93===t?(e.consume(t),l++,i):i(t)}}function Zh(e,t,r){const n=this,a=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let s,l,o=0;return function(t){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionLabelMarker"),i};function i(t){return 94===t?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",u):r(t)}function u(t){if(o>999||93===t&&!l||null===t||91===t||Sc(t))return r(t);if(93===t){e.exit("chunkString");const r=e.exit("gfmFootnoteDefinitionLabelString");return s=ad(n.sliceSerialize(r)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),d}return Sc(t)||(l=!0),o++,e.consume(t),92===t?c:u}function c(t){return 91===t||92===t||93===t?(e.consume(t),o++,u):u(t)}function d(t){return 58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),a.includes(s)||a.push(s),Rc(e,m,"gfmFootnoteDefinitionWhitespace")):r(t)}function m(e){return t(e)}}function Xh(e,t,r){return e.check(Mc,t,e.attempt(Jh,t,r))}function eg(e){e.exit("gfmFootnoteDefinition")}function tg(e){let t=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:function(e,r,n){const a=this.previous,s=this.events;let l=0;return function(t){if(126===a&&"characterEscape"!==s[s.length-1][1].type)return n(t);return e.enter("strikethroughSequenceTemporary"),o(t)};function o(s){const i=Ad(a);if(126===s)return l>1?n(s):(e.consume(s),l++,o);if(l<2&&!t)return n(s);const u=e.exit("strikethroughSequenceTemporary"),c=Ad(s);return u._open=!c||2===c&&Boolean(i),u._close=!i||2===i&&Boolean(c),r(s)}},resolveAll:function(e,t){let r=-1;for(;++r<e.length;)if("enter"===e[r][0]&&"strikethroughSequenceTemporary"===e[r][1].type&&e[r][1]._close){let n=r;for(;n--;)if("exit"===e[n][0]&&"strikethroughSequenceTemporary"===e[n][1].type&&e[n][1]._open&&e[r][1].end.offset-e[r][1].start.offset===e[n][1].end.offset-e[n][1].start.offset){e[r][1].type="strikethroughSequence",e[n][1].type="strikethroughSequence";const a={type:"strikethrough",start:Object.assign({},e[n][1].start),end:Object.assign({},e[r][1].end)},s={type:"strikethroughText",start:Object.assign({},e[n][1].end),end:Object.assign({},e[r][1].start)},l=[["enter",a,t],["enter",e[n][1],t],["exit",e[n][1],t],["enter",s,t]],o=t.parser.constructs.insideSpan.null;o&&mc(l,l.length,0,wd(o,e.slice(n+1,r),t)),mc(l,l.length,0,[["exit",s,t],["enter",e[r][1],t],["exit",e[r][1],t],["exit",a,t]]),mc(e,n-1,r-n+3,l),r=n+l.length-2;break}}r=-1;for(;++r<e.length;)"strikethroughSequenceTemporary"===e[r][1].type&&(e[r][1].type="data");return e}};return null!==t&&void 0!==t||(t=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}}}class rg{constructor(){this.map=[]}add(e,t,r){!function(e,t,r,n){let a=0;if(0===r&&0===n.length)return;for(;a<e.map.length;){if(e.map[a][0]===t)return e.map[a][1]+=r,void e.map[a][2].push(...n);a+=1}e.map.push([t,r,n])}(this,e,t,r)}consume(e){if(this.map.sort(function(e,t){return e[0]-t[0]}),0===this.map.length)return;let t=this.map.length;const r=[];for(;t>0;)t-=1,r.push(e.slice(this.map[t][0]+this.map[t][1]),this.map[t][2]),e.length=this.map[t][0];r.push(e.slice()),e.length=0;let n=r.pop();for(;n;){for(const t of n)e.push(t);n=r.pop()}this.map.length=0}}function ng(e,t){let r=!1;const n=[];for(;t<e.length;){const a=e[t];if(r){if("enter"===a[0])"tableContent"===a[1].type&&n.push("tableDelimiterMarker"===e[t+1][1].type?"left":"none");else if("tableContent"===a[1].type){if("tableDelimiterMarker"===e[t-1][1].type){const e=n.length-1;n[e]="left"===n[e]?"center":"right"}}else if("tableDelimiterRow"===a[1].type)break}else"enter"===a[0]&&"tableDelimiterRow"===a[1].type&&(r=!0);t+=1}return n}function ag(e,t,r){const n=this;let a,s=0,l=0;return function(e){let t=n.events.length-1;for(;t>-1;){const e=n.events[t][1].type;if("lineEnding"!==e&&"linePrefix"!==e)break;t--}const a=t>-1?n.events[t][1].type:null,s="tableHead"===a||"tableRow"===a?v:o;if(s===v&&n.parser.lazy[n.now().line])return r(e);return s(e)};function o(t){return e.enter("tableHead"),e.enter("tableRow"),function(e){if(124===e)return i(e);return a=!0,l+=1,i(e)}(t)}function i(t){return null===t?r(t):Ac(t)?l>1?(l=0,n.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),d):r(t):_c(t)?Rc(e,i,"whitespace")(t):(l+=1,a&&(a=!1,s+=1),124===t?(e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),a=!0,i):(e.enter("data"),u(t)))}function u(t){return null===t||124===t||Sc(t)?(e.exit("data"),i(t)):(e.consume(t),92===t?c:u)}function c(t){return 92===t||124===t?(e.consume(t),u):u(t)}function d(t){return n.interrupt=!1,n.parser.lazy[n.now().line]?r(t):(e.enter("tableDelimiterRow"),a=!1,_c(t)?Rc(e,m,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):m(t))}function m(t){return 45===t||58===t?h(t):124===t?(a=!0,e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),p):b(t)}function p(t){return _c(t)?Rc(e,h,"whitespace")(t):h(t)}function h(t){return 58===t?(l+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(t),e.exit("tableDelimiterMarker"),g):45===t?(l+=1,g(t)):null===t||Ac(t)?y(t):b(t)}function g(t){return 45===t?(e.enter("tableDelimiterFiller"),f(t)):b(t)}function f(t){return 45===t?(e.consume(t),f):58===t?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(t),e.exit("tableDelimiterMarker"),x):(e.exit("tableDelimiterFiller"),x(t))}function x(t){return _c(t)?Rc(e,y,"whitespace")(t):y(t)}function y(r){return 124===r?m(r):(null===r||Ac(r))&&a&&s===l?(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(r)):b(r)}function b(e){return r(e)}function v(t){return e.enter("tableRow"),D(t)}function D(r){return 124===r?(e.enter("tableCellDivider"),e.consume(r),e.exit("tableCellDivider"),D):null===r||Ac(r)?(e.exit("tableRow"),t(r)):_c(r)?Rc(e,D,"whitespace")(r):(e.enter("data"),k(r))}function k(t){return null===t||124===t||Sc(t)?(e.exit("data"),D(t)):(e.consume(t),92===t?w:k)}function w(t){return 92===t||124===t?(e.consume(t),k):k(t)}}function sg(e,t){let r,n,a,s=-1,l=!0,o=0,i=[0,0,0,0],u=[0,0,0,0],c=!1,d=0;const m=new rg;for(;++s<e.length;){const p=e[s],h=p[1];"enter"===p[0]?"tableHead"===h.type?(c=!1,0!==d&&(og(m,t,d,r,n),n=void 0,d=0),r={type:"table",start:Object.assign({},h.start),end:Object.assign({},h.end)},m.add(s,0,[["enter",r,t]])):"tableRow"===h.type||"tableDelimiterRow"===h.type?(l=!0,a=void 0,i=[0,0,0,0],u=[0,s+1,0,0],c&&(c=!1,n={type:"tableBody",start:Object.assign({},h.start),end:Object.assign({},h.end)},m.add(s,0,[["enter",n,t]])),o="tableDelimiterRow"===h.type?2:n?3:1):!o||"data"!==h.type&&"tableDelimiterMarker"!==h.type&&"tableDelimiterFiller"!==h.type?"tableCellDivider"===h.type&&(l?l=!1:(0!==i[1]&&(u[0]=u[1],a=lg(m,t,i,o,void 0,a)),i=u,u=[i[1],s,0,0])):(l=!1,0===u[2]&&(0!==i[1]&&(u[0]=u[1],a=lg(m,t,i,o,void 0,a),i=[0,0,0,0]),u[2]=s)):"tableHead"===h.type?(c=!0,d=s):"tableRow"===h.type||"tableDelimiterRow"===h.type?(d=s,0!==i[1]?(u[0]=u[1],a=lg(m,t,i,o,s,a)):0!==u[1]&&(a=lg(m,t,u,o,s,a)),o=0):!o||"data"!==h.type&&"tableDelimiterMarker"!==h.type&&"tableDelimiterFiller"!==h.type||(u[3]=s)}for(0!==d&&og(m,t,d,r,n),m.consume(t.events),s=-1;++s<t.events.length;){const e=t.events[s];"enter"===e[0]&&"table"===e[1].type&&(e[1]._align=ng(t.events,s))}return e}function lg(e,t,r,n,a,s){const l=1===n?"tableHeader":2===n?"tableDelimiter":"tableData";0!==r[0]&&(s.end=Object.assign({},ig(t.events,r[0])),e.add(r[0],0,[["exit",s,t]]));const o=ig(t.events,r[1]);if(s={type:l,start:Object.assign({},o),end:Object.assign({},o)},e.add(r[1],0,[["enter",s,t]]),0!==r[2]){const a=ig(t.events,r[2]),s=ig(t.events,r[3]),l={type:"tableContent",start:Object.assign({},a),end:Object.assign({},s)};if(e.add(r[2],0,[["enter",l,t]]),2!==n){const n=t.events[r[2]],a=t.events[r[3]];if(n[1].end=Object.assign({},a[1].end),n[1].type="chunkText",n[1].contentType="text",r[3]>r[2]+1){const t=r[2]+1,n=r[3]-r[2]-1;e.add(t,n,[])}}e.add(r[3]+1,0,[["exit",l,t]])}return void 0!==a&&(s.end=Object.assign({},ig(t.events,a)),e.add(a,0,[["exit",s,t]]),s=void 0),s}function og(e,t,r,n,a){const s=[],l=ig(t.events,r);a&&(a.end=Object.assign({},l),s.push(["exit",a,t])),n.end=Object.assign({},l),s.push(["exit",n,t]),e.add(r+1,0,s)}function ig(e,t){const r=e[t],n="enter"===r[0]?"start":"end";return r[1][n]}const ug={name:"tasklistCheck",tokenize:function(e,t,r){const n=this;return function(t){if(null!==n.previous||!n._gfmTasklistFirstContentOfListItem)return r(t);return e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),a};function a(t){return Sc(t)?(e.enter("taskListCheckValueUnchecked"),e.consume(t),e.exit("taskListCheckValueUnchecked"),s):88===t||120===t?(e.enter("taskListCheckValueChecked"),e.consume(t),e.exit("taskListCheckValueChecked"),s):r(t)}function s(t){return 93===t?(e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),l):r(t)}function l(n){return Ac(n)?t(n):_c(n)?e.check({tokenize:cg},t,r)(n):r(n)}}};function cg(e,t,r){return Rc(e,function(e){return null===e?r(e):t(e)},"whitespace")}const dg={};function mg(e){const t=e||dg,r=this.data(),n=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),s=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);n.push(function(e){return bc([{text:Uh},{document:{91:{name:"gfmFootnoteDefinition",tokenize:Zh,continuation:{tokenize:Xh},exit:eg}},text:{91:{name:"gfmFootnoteCall",tokenize:Yh},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Qh,resolveTo:Gh}}},tg(e),{flow:{null:{name:"table",tokenize:ag,resolveAll:sg}}},{text:{91:ug}}])}(t)),a.push([{transforms:[Bp],enter:{literalAutolink:Fp,literalAutolinkEmail:Np,literalAutolinkHttp:Np,literalAutolinkWww:Np},exit:{literalAutolink:_p,literalAutolinkEmail:Sp,literalAutolinkHttp:Ep,literalAutolinkWww:Ap}},{enter:{gfmFootnoteCallString:Pp,gfmFootnoteCall:Op,gfmFootnoteDefinitionLabelString:Ip,gfmFootnoteDefinition:Mp},exit:{gfmFootnoteCallString:zp,gfmFootnoteCall:Up,gfmFootnoteDefinitionLabelString:Hp,gfmFootnoteDefinition:Vp}},{canContainEols:["delete"],enter:{strikethrough:Qp},exit:{strikethrough:Gp}},{enter:{table:kh,tableData:Fh,tableHeader:Fh,tableRow:Ch},exit:{codeText:Nh,table:wh,tableData:jh,tableHeader:jh,tableRow:jh}},{exit:{taskListCheckValueChecked:Sh,taskListCheckValueUnchecked:Sh,paragraph:_h}}]),s.push(function(e){return{extensions:[{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Cp,notInConstruct:jp},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Cp,notInConstruct:jp},{character:":",before:"[ps]",after:"\\/",inConstruct:Cp,notInConstruct:jp}]},qp(e),{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Jp}],handlers:{delete:Yp}},Ah(e),{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Bh}}]}}(t))}const pg=["title","titleId"];function hg(e,t){let{title:r,titleId:n}=e,a=xn(e,pg);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const gg=o.forwardRef(hg),fg=["title","titleId"];function xg(e,t){let{title:r,titleId:n}=e,a=xn(e,fg);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const yg=o.forwardRef(xg),bg=["title","titleId"];function vg(e,t){let{title:r,titleId:n}=e,a=xn(e,bg);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"}))}const Dg=o.forwardRef(vg),kg=o.memo(e=>{let{skill:t,onToggle:r,onEdit:n,onDelete:a,canModify:s,canToggle:l=!0,canHealthCheck:i=!0,onShowToast:u,onSkillUpdate:c,authToken:d}=e;const[m,p]=(0,o.useState)(!1),[h,g]=(0,o.useState)(!1),[f,x]=(0,o.useState)(null),[y,b]=(0,o.useState)(!1),[v,D]=(0,o.useState)(null),[k,w]=(0,o.useState)(!1),[C,j]=(0,o.useState)(t.health_status||"unknown"),[F,N]=(0,o.useState)(t.last_checked_time||null),[E,A]=(0,o.useState)(!1),[S,_]=(0,o.useState)(null),[B,T]=(0,o.useState)(!1);(0,o.useEffect)(()=>{j(t.health_status||"unknown"),N(t.last_checked_time||null)},[t.health_status,t.last_checked_time]);const L=(e=>e.startsWith("/skills/")?e.replace("/skills/","/"):e)(t.path);(0,o.useEffect)(()=>{(async()=>{try{const e=d?{Authorization:"Bearer ".concat(d)}:void 0,t=await cn.get("/api/skills".concat(L,"/security-scan"),e?{headers:e}:void 0);_(t.data)}catch(e){}})()},[L,d]);const R=(0,o.useCallback)(async()=>{p(!0),g(!0),x(null);try{const e=d?{Authorization:"Bearer ".concat(d)}:void 0,t=await cn.get("/api/skills".concat(L,"/content"),e?{headers:e}:void 0);x(t.data.content)}catch(r){var e,t;if(console.error("Failed to fetch SKILL.md content:",r),u)u((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to load SKILL.md content","error")}finally{g(!1)}},[L,d,u]),P=(0,o.useCallback)(async()=>{if(!y){b(!0);try{const t=d?{Authorization:"Bearer ".concat(d)}:void 0,r=await cn.get("/api/skills".concat(L,"/tools"),t?{headers:t}:void 0);if(D(r.data),u){const t=r.data;var e;if(t.all_available)u("All required tools are available","success");else u("Missing tools: ".concat((null===(e=t.missing_tools)||void 0===e?void 0:e.join(", "))||"Unknown"),"error")}}catch(t){console.error("Failed to check tool availability:",t),u&&u("Failed to check tool availability","error")}finally{b(!1)}}},[t.path,d,y,u]),O=(0,o.useCallback)(async()=>{if(!k){w(!0);try{const e=d?{Authorization:"Bearer ".concat(d)}:void 0,r=await cn.get("/api/skills".concat(L,"/health"),e?{headers:e}:void 0),n=r.data.healthy?"healthy":"unhealthy";j(n),N((new Date).toISOString()),c&&c(t.path,{health_status:n,last_checked_time:(new Date).toISOString()}),u&&u(r.data.healthy?"SKILL.md is accessible":"SKILL.md check failed: ".concat(r.data.error||"Unknown error"),r.data.healthy?"success":"error")}catch(e){console.error("Failed to check skill health:",e),j("unhealthy"),u&&u("Failed to check skill health","error")}finally{w(!1)}}},[t.path,d,k,u,c]),I=(0,o.useCallback)(async()=>{if(!B){A(!0),T(!0);try{const e=d?{Authorization:"Bearer ".concat(d)}:void 0,t=await cn.get("/api/skills".concat(L,"/security-scan"),e?{headers:e}:void 0);_(t.data)}catch(t){var e;404!==(null===(e=t.response)||void 0===e?void 0:e.status)&&u&&u("Failed to load security scan results","error"),_(null)}finally{T(!1)}}},[L,d,B,u]),M=(0,o.useCallback)(async()=>{const e=d?{Authorization:"Bearer ".concat(d)}:void 0,t=await cn.post("/api/skills".concat(L,"/rescan"),void 0,e?{headers:e}:void 0);_(t.data)},[L,d]),z=()=>{if(!S)return{Icon:qo,color:"text-gray-400 dark:text-gray-500",title:"View security scan results"};if(S.scan_failed)return{Icon:Jo,color:"text-red-500 dark:text-red-400",title:"Security scan failed"};return S.critical_issues>0||S.high_severity>0||S.medium_severity>0||S.low_severity>0?{Icon:Jo,color:"text-red-500 dark:text-red-400",title:"Security issues found"}:{Icon:qo,color:"text-green-500 dark:text-green-400",title:"Security scan passed"}};return(0,dn.jsxs)(dn.Fragment,{children:[(0,dn.jsxs)("div",{className:"group rounded-2xl shadow-sm hover:shadow-xl transition-all duration-300 h-full flex flex-col bg-gradient-to-br from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 border-2 border-amber-200 dark:border-amber-700 hover:border-amber-300 dark:hover:border-amber-600",children:[(0,dn.jsxs)("div",{className:"p-5 pb-4",children:[(0,dn.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,dn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,dn.jsxs)("div",{className:"flex items-center gap-2 mb-3 flex-wrap",children:[(0,dn.jsx)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white truncate",children:t.name}),(0,dn.jsx)("span",{className:"px-2 py-0.5 text-xs font-semibold bg-gradient-to-r from-amber-100 to-orange-100 text-amber-700 dark:from-amber-900/30 dark:to-orange-900/30 dark:text-amber-300 rounded-full flex-shrink-0 border border-amber-200 dark:border-amber-600",children:"SKILL"}),(0,dn.jsxs)("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full flex-shrink-0 flex items-center gap-1 ".concat((()=>{switch(t.visibility){case"public":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400 border border-green-200 dark:border-green-700";case"group":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400 border border-blue-200 dark:border-blue-700";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600"}})()),children:[(()=>{switch(t.visibility){case"public":return(0,dn.jsx)(Pi,{className:"h-3 w-3"});case"group":return(0,dn.jsx)(gg,{className:"h-3 w-3"});default:return(0,dn.jsx)(Mi,{className:"h-3 w-3"})}})(),t.visibility.toUpperCase()]})]}),(0,dn.jsx)("code",{className:"text-xs text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-800/50 px-2 py-1 rounded font-mono",children:t.path}),t.version&&(0,dn.jsxs)("span",{className:"ml-2 text-xs text-gray-500 dark:text-gray-400",children:["v",t.version]}),t.author&&(0,dn.jsxs)("span",{className:"ml-2 text-xs text-gray-500 dark:text-gray-400",children:["by ",t.author]})]}),(0,dn.jsxs)("div",{className:"flex items-center gap-1",children:[s&&(0,dn.jsxs)(dn.Fragment,{children:[(0,dn.jsx)("button",{className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700/50 rounded-lg transition-all duration-200 flex-shrink-0",onClick:()=>null===n||void 0===n?void 0:n(t),title:"Edit skill",children:(0,dn.jsx)(Yo,{className:"h-4 w-4"})}),(0,dn.jsx)("button",{className:"p-2 text-gray-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-all duration-200 flex-shrink-0",onClick:()=>null===a||void 0===a?void 0:a(L),title:"Delete skill",children:(0,dn.jsx)(ni,{className:"h-4 w-4"})})]}),t.allowed_tools&&t.allowed_tools.length>0&&(0,dn.jsx)("button",{onClick:P,disabled:y,className:"p-2 hover:bg-gray-50 dark:hover:bg-gray-700/50 rounded-lg transition-all duration-200 flex-shrink-0 ".concat(!0===(null===v||void 0===v?void 0:v.all_available)?"text-green-500 dark:text-green-400":!1===(null===v||void 0===v?void 0:v.all_available)?"text-red-500 dark:text-red-400":"text-gray-400 dark:text-gray-500"),title:"Check tool availability",children:(0,dn.jsx)(li,{className:"h-4 w-4 ".concat(y?"animate-spin":"")})}),(0,dn.jsx)("button",{onClick:I,className:"p-2 hover:bg-gray-50 dark:hover:bg-gray-700/50 rounded-lg transition-all duration-200 flex-shrink-0 ".concat(z().color),title:z().title,"aria-label":z().title,children:o.createElement(z().Icon,{className:"h-4 w-4 ".concat(B?"animate-pulse":"")})}),(0,dn.jsx)("button",{onClick:R,className:"p-2 text-gray-400 hover:text-amber-600 dark:hover:text-amber-300 hover:bg-amber-50 dark:hover:bg-amber-700/50 rounded-lg transition-all duration-200 flex-shrink-0",title:"View SKILL.md content",children:(0,dn.jsx)(Hi,{className:"h-4 w-4"})})]})]}),(0,dn.jsx)("p",{className:"text-gray-600 dark:text-gray-300 text-sm leading-relaxed line-clamp-2 mb-4",children:t.description||"No description available"}),t.tags&&t.tags.length>0&&(0,dn.jsxs)("div",{className:"flex flex-wrap gap-1.5 mb-4",children:[t.tags.slice(0,3).map(e=>(0,dn.jsxs)("span",{className:"px-2 py-1 text-xs font-medium rounded ".concat("security-pending"===e?"bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-300 border border-red-200 dark:border-red-700":"bg-amber-50 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300"),children:["#",e]},e)),t.tags.length>3&&(0,dn.jsxs)("span",{className:"px-2 py-1 text-xs font-medium bg-gray-50 dark:bg-gray-800 text-gray-600 dark:text-gray-300 rounded",children:["+",t.tags.length-3]})]}),t.target_agents&&t.target_agents.length>0&&(0,dn.jsxs)("div",{className:"mb-4",children:[(0,dn.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Target agents: "}),(0,dn.jsx)("span",{className:"text-xs text-amber-700 dark:text-amber-300",children:t.target_agents.join(", ")})]}),t.allowed_tools&&t.allowed_tools.length>0&&(0,dn.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,dn.jsx)(li,{className:"h-4 w-4 text-amber-600 dark:text-amber-400"}),(0,dn.jsxs)("span",{className:"text-xs text-gray-600 dark:text-gray-300",children:[t.allowed_tools.length," tool",1!==t.allowed_tools.length?"s":""," required"]}),v&&(v.all_available?(0,dn.jsx)(Co,{className:"h-4 w-4 text-green-500",title:"All tools available"}):(0,dn.jsx)(Ho,{className:"h-4 w-4 text-red-500",title:"Some tools missing"}))]})]}),(0,dn.jsx)("div",{className:"px-5 pb-4",children:(0,dn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,dn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dn.jsx)("div",{className:"p-1.5 bg-amber-50 dark:bg-amber-900/30 rounded",children:(0,dn.jsx)(yg,{className:"h-4 w-4 text-amber-600 dark:text-amber-400"})}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Registry"}),(0,dn.jsx)("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:t.registry_name||"local"})]})]}),(0,dn.jsx)(Ei,{resourceType:"skills",path:L,initialRating:t.num_stars||0,authToken:d,onShowToast:u}),t.skill_md_url&&(0,dn.jsxs)("a",{href:t.skill_md_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs text-amber-700 dark:text-amber-300 hover:underline",children:[(0,dn.jsx)(Dg,{className:"h-3 w-3"}),"SKILL.md"]})]})}),(0,dn.jsx)("div",{className:"mt-auto px-5 py-4 border-t border-amber-100 dark:border-amber-700 bg-amber-50/50 dark:bg-amber-900/30 rounded-b-2xl",children:(0,dn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,dn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,dn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dn.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(t.is_enabled?"bg-green-400 shadow-lg shadow-green-400/30":"bg-gray-300 dark:bg-gray-600")}),(0,dn.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:t.is_enabled?"Enabled":"Disabled"})]}),(0,dn.jsx)("div",{className:"w-px h-4 bg-amber-200 dark:bg-amber-600"}),(0,dn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dn.jsx)("div",{className:"w-3 h-3 rounded-full ".concat("healthy"===C?"bg-emerald-400 shadow-lg shadow-emerald-400/30":"unhealthy"===C?"bg-red-400 shadow-lg shadow-red-400/30":"bg-amber-400 shadow-lg shadow-amber-400/30")}),(0,dn.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"healthy"===C?"Healthy":"unhealthy"===C?"Unhealthy":"Unknown"})]})]}),(0,dn.jsxs)("div",{className:"flex items-center gap-3",children:[(()=>{const e=(e=>{if(!e)return null;try{const t=new Date,r=new Date(e);if(isNaN(r.getTime()))return null;const n=t.getTime()-r.getTime(),a=Math.floor(n/1e3),s=Math.floor(a/60),l=Math.floor(s/60),o=Math.floor(l/24);return o>0?"".concat(o,"d ago"):l>0?"".concat(l,"h ago"):s>0?"".concat(s,"m ago"):"".concat(a,"s ago")}catch(t){return console.error("formatTimeSince error:",t,"for timestamp:",e),null}})(F);return F&&e?(0,dn.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-300 flex items-center gap-1.5",children:[(0,dn.jsx)(ui,{className:"h-3.5 w-3.5"}),(0,dn.jsx)("span",{children:e})]}):null})(),i&&(0,dn.jsx)("button",{onClick:O,disabled:k,className:"p-2.5 text-gray-500 hover:text-amber-600 dark:hover:text-amber-400 hover:bg-amber-50 dark:hover:bg-amber-900/20 rounded-lg transition-all duration-200 disabled:opacity-50",title:"Check SKILL.md accessibility","aria-label":"Check health for ".concat(t.name),children:(0,dn.jsx)(Po,{className:"h-4 w-4 ".concat(k?"animate-spin":"")})}),l&&(0,dn.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",onClick:e=>e.stopPropagation(),children:[(0,dn.jsx)("input",{type:"checkbox",checked:t.is_enabled,onChange:e=>{e.stopPropagation(),r(t.path,e.target.checked)},className:"sr-only peer"}),(0,dn.jsx)("div",{className:"relative w-12 h-6 rounded-full transition-colors duration-200 ease-in-out ".concat(t.is_enabled?"bg-amber-600":"bg-gray-300 dark:bg-gray-600"),children:(0,dn.jsx)("div",{className:"absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full transition-transform duration-200 ease-in-out ".concat(t.is_enabled?"translate-x-6":"translate-x-0")})})]})]})]})})]}),m&&(0,dn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,dn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,dn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.name}),(0,dn.jsx)("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,dn.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,dn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,dn.jsxs)("div",{className:"flex items-center gap-4 mb-4 pb-4 border-b border-gray-200 dark:border-gray-700",children:[t.skill_md_url&&(0,dn.jsxs)("a",{href:t.skill_md_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-sm text-amber-700 dark:text-amber-300 hover:underline",children:[(0,dn.jsx)(Dg,{className:"h-4 w-4"}),"View on GitHub"]}),f&&(0,dn.jsxs)(dn.Fragment,{children:[(0,dn.jsxs)("button",{onClick:()=>{navigator.clipboard.writeText(f),u&&u("SKILL.md copied to clipboard","success")},className:"flex items-center gap-1 text-sm text-gray-600 dark:text-gray-400 hover:text-amber-700 dark:hover:text-amber-300 transition-colors",title:"Copy to clipboard",children:[(0,dn.jsx)(co,{className:"h-4 w-4"}),"Copy"]}),(0,dn.jsxs)("button",{onClick:()=>{const e=new Blob([f],{type:"text/markdown"}),r=URL.createObjectURL(e),n=document.createElement("a");n.href=r,n.download="".concat(t.name||"skill",".md"),document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)},className:"flex items-center gap-1 text-sm text-gray-600 dark:text-gray-400 hover:text-amber-700 dark:hover:text-amber-300 transition-colors",title:"Download SKILL.md",children:[(0,dn.jsx)(ho,{className:"h-4 w-4"}),"Download"]})]})]}),h?(0,dn.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,dn.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-amber-600"})}):f?(()=>{const{frontmatter:e,body:t}=(e=>{const t=e.match(/^---\s*\n([\s\S]*?)\n---\s*\n([\s\S]*)$/);if(t){const e=t[1],r=t[2],n={},a=e.split("\n");for(const t of a){const e=t.indexOf(":");if(e>0){const r=t.substring(0,e).trim(),a=t.substring(e+1).trim();r&&a&&(n[r]=a)}}return{frontmatter:Object.keys(n).length>0?n:null,body:r}}return{frontmatter:null,body:e}})(f);return(0,dn.jsxs)(dn.Fragment,{children:[e&&(0,dn.jsx)("div",{className:"mb-6 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:(0,dn.jsx)("table",{className:"w-full text-sm",children:(0,dn.jsx)("tbody",{children:Object.entries(e).map(e=>{let[t,r]=e;return(0,dn.jsxs)("tr",{className:"border-b border-gray-200 dark:border-gray-700 last:border-b-0",children:[(0,dn.jsx)("td",{className:"px-4 py-2 bg-gray-50 dark:bg-gray-900/50 font-medium text-gray-700 dark:text-gray-300 w-1/4",children:t}),(0,dn.jsx)("td",{className:"px-4 py-2 text-gray-900 dark:text-white",children:r})]},t)})})})}),(0,dn.jsx)("div",{className:"prose prose-sm dark:prose-invert max-w-none prose-headings:text-amber-800 dark:prose-headings:text-amber-200 prose-a:text-amber-600 dark:prose-a:text-amber-400 prose-code:bg-gray-100 dark:prose-code:bg-gray-900 prose-code:px-1 prose-code:py-0.5 prose-code:rounded prose-pre:bg-gray-100 dark:prose-pre:bg-gray-900",children:(0,dn.jsx)(gp,{remarkPlugins:[mg],children:t})})]})})():(0,dn.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,dn.jsx)("p",{children:"Could not load SKILL.md content."}),(0,dn.jsxs)("p",{className:"mt-2 text-sm",children:["Try visiting the"," ",(0,dn.jsx)("a",{href:t.skill_md_url,target:"_blank",rel:"noopener noreferrer",className:"text-amber-600 hover:underline",children:"source URL"})," ","directly."]})]})]})}),(0,dn.jsx)(Di,{resourceName:t.name,resourceType:"skill",isOpen:E,onClose:()=>A(!1),loading:B,scanResult:S,onRescan:s?M:void 0,canRescan:s,onShowToast:u})]})});kg.displayName="SkillCard";const wg=kg,Cg=e=>{var t;let{virtualServer:r,canModify:n,onToggle:a,onEdit:s,onDelete:l,onShowToast:i,onServerUpdate:u,authToken:c}=e;const[d,m]=(0,o.useState)(!1),[p,h]=(0,o.useState)([]),[g,f]=(0,o.useState)(!1),[x,y]=(0,o.useState)({}),[b,v]=(0,o.useState)({}),[D,k]=(0,o.useState)(!1),w=(0,o.useCallback)(async()=>{if(!g){m(!0),f(!0);try{const e=(await cn.get("/api/virtual-servers".concat(r.path,"/tools"))).data.tools||[];h(e);const t={};for(const r of e){const e=r.backend_server_path;t[e]||(t[e]=[]),t[e].push(r)}const n=Object.keys(t);n.length>0&&y({[n[0]]:!0});const a=Object.values(t).some(e=>e.length>3);if(a)v({});else{const t={};for(const r of e)t[r.name]=!0;v(t)}}catch(e){console.error("Failed to fetch tools:",e),null===i||void 0===i||i("Failed to load tools","error"),h([])}finally{f(!1)}}},[r.path,g,i]),C=p.reduce((e,t)=>{const r=t.backend_server_path;return e[r]||(e[r]=[]),e[r].push(t),e},{}),j=Object.keys(C),F={name:r.server_name,path:r.path,description:r.description,enabled:r.is_enabled,tags:r.tags};return(0,dn.jsxs)(dn.Fragment,{children:[(0,dn.jsxs)("div",{className:"group rounded-2xl shadow-sm hover:shadow-xl transition-all duration-300 h-full flex flex-col bg-gradient-to-br from-teal-50 to-cyan-50 dark:from-teal-900/20 dark:to-cyan-900/20 border-2 border-teal-200 dark:border-teal-700 hover:border-teal-300 dark:hover:border-teal-600",children:[(0,dn.jsxs)("div",{className:"p-5 pb-4",children:[(0,dn.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,dn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,dn.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,dn.jsx)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white truncate",children:r.server_name}),(0,dn.jsx)("span",{className:"px-2 py-0.5 text-xs font-semibold bg-teal-100 text-teal-700 dark:bg-teal-900/30 dark:text-teal-300 rounded-full flex-shrink-0 border border-teal-200 dark:border-teal-600",children:"VIRTUAL"})]}),(0,dn.jsx)("code",{className:"text-xs text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-800/50 px-2 py-1 rounded font-mono",children:r.path})]}),(0,dn.jsxs)("div",{className:"flex items-center gap-1 flex-shrink-0",children:[n&&(0,dn.jsx)("button",{className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700/50 rounded-lg transition-all duration-200",onClick:()=>s(r),title:"Edit virtual server",children:(0,dn.jsx)(Yo,{className:"h-4 w-4"})}),(0,dn.jsx)("button",{onClick:()=>k(!0),className:"p-2 text-gray-400 hover:text-green-600 dark:hover:text-green-300 hover:bg-green-50 dark:hover:bg-green-700/50 rounded-lg transition-all duration-200",title:"Copy mcp.json configuration",children:(0,dn.jsx)(ei,{className:"h-4 w-4"})}),n&&(0,dn.jsx)("button",{onClick:()=>l(r.path),className:"p-2 text-gray-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-700/50 rounded-lg transition-all duration-200",title:"Delete virtual server",children:(0,dn.jsx)(ni,{className:"h-4 w-4"})})]})]}),(0,dn.jsx)("p",{className:"text-gray-600 dark:text-gray-300 text-sm leading-relaxed line-clamp-2 mb-4",children:r.description||"No description available"}),r.tags&&r.tags.length>0&&(0,dn.jsxs)("div",{className:"flex flex-wrap gap-1.5 mb-4",children:[r.tags.slice(0,3).map(e=>(0,dn.jsxs)("span",{className:"px-2 py-1 text-xs font-medium bg-teal-50 dark:bg-teal-900/30 text-teal-700 dark:text-teal-300 rounded",children:["#",e]},e)),r.tags.length>3&&(0,dn.jsxs)("span",{className:"px-2 py-1 text-xs font-medium bg-gray-50 dark:bg-gray-800 text-gray-600 dark:text-gray-300 rounded",children:["+",r.tags.length-3]})]})]}),(0,dn.jsx)("div",{className:"px-5 pb-4",children:(0,dn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,dn.jsx)(Ei,{resourceType:"virtual-servers",path:r.path,initialRating:r.num_stars||0,initialCount:(null===(t=r.rating_details)||void 0===t?void 0:t.length)||0,authToken:c,onShowToast:i,onRatingUpdate:e=>{null===u||void 0===u||u(r.path,{num_stars:e})}}),(0,dn.jsx)("div",{className:"flex items-center gap-2",children:r.tool_count>0?(0,dn.jsxs)("button",{onClick:w,disabled:g,className:"flex items-center gap-2 text-teal-600 hover:text-teal-700 dark:text-teal-400 dark:hover:text-teal-300 disabled:opacity-50 hover:bg-teal-50 dark:hover:bg-teal-900/20 px-2 py-1 -mx-2 -my-1 rounded transition-all",title:"View tools",children:[(0,dn.jsx)("div",{className:"p-1.5 bg-teal-50 dark:bg-teal-900/30 rounded",children:(0,dn.jsx)(li,{className:"h-4 w-4"})}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("div",{className:"text-sm font-semibold",children:r.tool_count}),(0,dn.jsx)("div",{className:"text-xs",children:"Tools"})]})]}):(0,dn.jsxs)("div",{className:"flex items-center gap-2 text-gray-400 dark:text-gray-500",children:[(0,dn.jsx)("div",{className:"p-1.5 bg-gray-50 dark:bg-gray-800 rounded",children:(0,dn.jsx)(li,{className:"h-4 w-4"})}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("div",{className:"text-sm font-semibold",children:"0"}),(0,dn.jsx)("div",{className:"text-xs",children:"Tools"})]})]})})]})}),(0,dn.jsx)("div",{className:"mt-auto px-5 py-4 border-t border-teal-100 dark:border-teal-800 bg-teal-50/50 dark:bg-teal-900/10 rounded-b-2xl",children:(0,dn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,dn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dn.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(r.is_enabled?"bg-green-400 shadow-lg shadow-green-400/30":"bg-gray-300 dark:bg-gray-600")}),(0,dn.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:r.is_enabled?"Enabled":"Disabled"})]}),n&&(0,dn.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,dn.jsx)("input",{type:"checkbox",checked:r.is_enabled,onChange:e=>a(r.path,e.target.checked),className:"sr-only peer","aria-label":"Enable ".concat(r.server_name)}),(0,dn.jsx)("div",{className:"relative w-12 h-6 rounded-full transition-colors duration-200 ease-in-out ".concat(r.is_enabled?"bg-teal-600":"bg-gray-300 dark:bg-gray-600"),children:(0,dn.jsx)("div",{className:"absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full transition-transform duration-200 ease-in-out ".concat(r.is_enabled?"translate-x-6":"translate-x-0")})})]})]})})]}),d&&(0,dn.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,dn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-auto",children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,dn.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Tools for ",r.server_name]}),(0,dn.jsx)("button",{onClick:()=>m(!1),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:(0,dn.jsx)(ao,{className:"h-5 w-5"})})]}),g?(0,dn.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,dn.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-teal-600"}),(0,dn.jsx)("span",{className:"ml-3 text-gray-500",children:"Loading tools..."})]}):p.length>0?(0,dn.jsx)("div",{className:"space-y-3",children:j.map(e=>{const t=C[e],r=x[e];return(0,dn.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[(0,dn.jsxs)("button",{onClick:()=>(e=>{y(t=>qt(qt({},t),{},{[e]:!t[e]}))})(e),className:"w-full flex items-center justify-between px-4 py-3 bg-gray-50 dark:bg-gray-900/50 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-left",children:[(0,dn.jsxs)("div",{className:"flex items-center gap-2",children:[r?(0,dn.jsx)(Cs,{className:"h-4 w-4 text-gray-500"}):(0,dn.jsx)(To,{className:"h-4 w-4 text-gray-500"}),(0,dn.jsx)("span",{className:"text-sm font-mono text-gray-700 dark:text-gray-200",children:e})]}),(0,dn.jsxs)("span",{className:"px-2 py-0.5 text-xs bg-teal-100 dark:bg-teal-900/40 text-teal-700 dark:text-teal-300 rounded-full",children:[t.length," tool",1!==t.length?"s":""]})]}),r&&(0,dn.jsx)("ul",{className:"border-t border-gray-200 dark:border-gray-700 divide-y divide-gray-100 dark:divide-gray-800",children:t.map(e=>{const t=b[e.name],r=e.description||e.input_schema&&Object.keys(e.input_schema).length>0;return(0,dn.jsxs)("li",{className:"bg-white dark:bg-gray-800",children:[(0,dn.jsx)("button",{onClick:()=>{return r&&(t=e.name,void v(e=>qt(qt({},e),{},{[t]:!e[t]})));var t},className:"w-full px-4 py-3 text-left ".concat(r?"cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50":"cursor-default"),disabled:!r,children:(0,dn.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,dn.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[r&&(t?(0,dn.jsx)(Cs,{className:"h-3 w-3 text-gray-400 flex-shrink-0"}):(0,dn.jsx)(To,{className:"h-3 w-3 text-gray-400 flex-shrink-0"})),!r&&(0,dn.jsx)("div",{className:"w-3"}),(0,dn.jsx)("span",{className:"font-medium text-sm text-gray-900 dark:text-white",children:e.name}),e.original_name&&e.name!==e.original_name&&(0,dn.jsxs)("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:["(original: ",e.original_name,")"]})]}),e.backend_version&&(0,dn.jsxs)("span",{className:"px-1.5 py-0.5 text-[10px] bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400 rounded font-mono flex-shrink-0",children:["v",e.backend_version]})]})}),t&&r&&(0,dn.jsxs)("div",{className:"px-4 pb-3 pt-0 space-y-3",children:[e.description&&(0,dn.jsx)("div",{className:"ml-5",children:(0,dn.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 leading-relaxed whitespace-pre-wrap",children:e.description})}),e.input_schema&&Object.keys(e.input_schema).length>0&&(0,dn.jsx)("div",{className:"ml-5",children:(0,dn.jsxs)("details",{className:"text-xs",children:[(0,dn.jsx)("summary",{className:"cursor-pointer text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 font-medium",children:"View Schema"}),(0,dn.jsx)("pre",{className:"mt-2 p-3 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded overflow-x-auto text-gray-800 dark:text-gray-200",children:JSON.stringify(e.input_schema,null,2)})]})}),e.required_scopes&&e.required_scopes.length>0&&(0,dn.jsx)("div",{className:"ml-5 flex flex-wrap gap-1",children:e.required_scopes.map(e=>(0,dn.jsx)("span",{className:"px-1.5 py-0.5 text-[10px] bg-amber-50 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300 rounded font-mono",children:e},e))})]})]},e.name)})})]},e)})}):(0,dn.jsx)("p",{className:"text-gray-500 dark:text-gray-300 text-center py-8",children:"No tools available for this virtual server."})]})}),(0,dn.jsx)(pi,{server:F,isOpen:D,onClose:()=>k(!1),onShowToast:i})]})},jg=e=>{let{toolName:t,serverName:r,schema:n,isOpen:a,onClose:s}=e;return a?(0,dn.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:(0,dn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-2xl w-full max-h-[80vh] flex flex-col",children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[(0,dn.jsxs)("div",{children:[(0,dn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t}),(0,dn.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:r})]}),(0,dn.jsx)("button",{onClick:s,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 rounded-lg transition-colors",children:(0,dn.jsx)(ao,{className:"h-5 w-5"})})]}),(0,dn.jsxs)("div",{className:"p-4 overflow-auto flex-1",children:[(0,dn.jsx)("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-2",children:"Input Schema"}),n&&Object.keys(n).length>0?(0,dn.jsx)("pre",{className:"text-xs bg-gray-100 dark:bg-gray-900 p-3 rounded-lg overflow-auto text-gray-800 dark:text-gray-200",children:JSON.stringify(n,null,2)}):(0,dn.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:"No input schema available for this tool."})]})]})}):null},Fg=e=>{var t,r;let{server:n,isOpen:a,onClose:s}=e;if(!a)return null;const l=!0===(null===(t=n.sync_metadata)||void 0===t?void 0:t.is_federated),o=l&&null!==(r=n.sync_metadata)&&void 0!==r&&r.source_peer_id?n.sync_metadata.source_peer_id.replace("peer-registry-","").replace("peer-","").toUpperCase():null;return(0,dn.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:(0,dn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-2xl w-full max-h-[80vh] flex flex-col",children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[(0,dn.jsxs)("div",{children:[(0,dn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:n.server_name}),l&&o&&(0,dn.jsx)("span",{className:"px-2 py-0.5 text-[10px] font-semibold rounded-full bg-cyan-100 text-cyan-700 dark:bg-cyan-900/40 dark:text-cyan-200 border border-cyan-200 dark:border-cyan-700",children:o})]}),(0,dn.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:n.path})]}),(0,dn.jsx)("button",{onClick:s,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 rounded-lg transition-colors",children:(0,dn.jsx)(ao,{className:"h-5 w-5"})})]}),(0,dn.jsxs)("div",{className:"p-4 overflow-auto flex-1 space-y-4",children:[(0,dn.jsxs)("div",{children:[(0,dn.jsx)("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-2",children:"Description"}),(0,dn.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-200",children:n.description||"No description available."})]}),n.tags&&n.tags.length>0&&(0,dn.jsxs)("div",{children:[(0,dn.jsx)("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-2",children:"Tags"}),(0,dn.jsx)("div",{className:"flex flex-wrap gap-2",children:n.tags.map(e=>(0,dn.jsx)("span",{className:"px-2.5 py-1 text-xs rounded-full bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-200",children:e},e))})]}),n.matching_tools&&n.matching_tools.length>0&&(0,dn.jsxs)("div",{children:[(0,dn.jsxs)("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-2",children:["Tools (",n.matching_tools.length,")"]}),(0,dn.jsx)("ul",{className:"space-y-2",children:n.matching_tools.map(e=>(0,dn.jsxs)("li",{className:"text-sm text-gray-700 dark:text-gray-200 bg-gray-50 dark:bg-gray-900/50 p-3 rounded-lg",children:[(0,dn.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:e.tool_name}),e.description&&(0,dn.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mt-1 text-xs",children:e.description})]},e.tool_name))})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-2",children:"Status"}),(0,dn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dn.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(n.is_enabled?"bg-green-400 shadow-lg shadow-green-400/30":"bg-gray-300 dark:bg-gray-600")}),(0,dn.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:n.is_enabled?"Enabled":"Disabled"})]})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-2",children:"Match Score"}),(0,dn.jsxs)("span",{className:"inline-flex items-center rounded-full bg-purple-100 text-purple-700 dark:bg-purple-900/40 dark:text-purple-200 px-3 py-1 text-xs font-semibold",children:[Math.round(100*Math.min(n.relevance_score,1)),"% match"]})]})]})]})})},Ng=e=>{let{skill:t,isOpen:r,onClose:n}=e;const[a,s]=(0,o.useState)(!1),[l,i]=(0,o.useState)(null),[u,c]=(0,o.useState)(null);if(o.useEffect(()=>{if(!r)return i(null),void c(null);(async()=>{s(!0),c(null);try{const e=t.path.startsWith("/skills/")?t.path.replace("/skills/","/"):t.path,r=await cn.get("/api/skills".concat(e,"/content"));i(r.data.content)}catch(n){var e,r;console.error("Failed to fetch SKILL.md content:",n),c((null===(e=n.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.detail)||"Failed to load SKILL.md content")}finally{s(!1)}})()},[r,t.path]),!r)return null;const{frontmatter:d,body:m}=l?(e=>{const t=e.match(/^---\s*\n([\s\S]*?)\n---\s*\n([\s\S]*)$/);if(t){const e=t[1],r=t[2],n={},a=e.split("\n");for(const t of a){const e=t.indexOf(":");if(e>0){const r=t.substring(0,e).trim(),a=t.substring(e+1).trim();r&&a&&(n[r]=a)}}return{frontmatter:Object.keys(n).length>0?n:null,body:r}}return{frontmatter:null,body:e}})(l):{frontmatter:null,body:""};return(0,dn.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:(0,dn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] flex flex-col",children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[(0,dn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.skill_name}),(0,dn.jsx)("span",{className:"px-2 py-0.5 text-[10px] font-semibold rounded-full bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-200 border border-amber-200 dark:border-amber-600",children:"SKILL"})]}),(0,dn.jsx)("button",{onClick:n,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 rounded-lg transition-colors",children:(0,dn.jsx)(ao,{className:"h-5 w-5"})})]}),(0,dn.jsxs)("div",{className:"flex items-center gap-4 px-4 py-3 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50",children:[t.skill_md_url&&(0,dn.jsxs)("a",{href:t.skill_md_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-sm text-amber-700 dark:text-amber-300 hover:underline",children:[(0,dn.jsx)(Dg,{className:"h-4 w-4"}),"View on GitHub"]}),l&&(0,dn.jsxs)(dn.Fragment,{children:[(0,dn.jsxs)("button",{onClick:()=>{l&&navigator.clipboard.writeText(l)},className:"flex items-center gap-1 text-sm text-gray-600 dark:text-gray-400 hover:text-amber-700 dark:hover:text-amber-300 transition-colors",title:"Copy to clipboard",children:[(0,dn.jsx)(co,{className:"h-4 w-4"}),"Copy"]}),(0,dn.jsxs)("button",{onClick:()=>{if(l){const e=new Blob([l],{type:"text/markdown"}),r=URL.createObjectURL(e),n=document.createElement("a");n.href=r,n.download="".concat(t.skill_name||"skill",".md"),document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}},className:"flex items-center gap-1 text-sm text-gray-600 dark:text-gray-400 hover:text-amber-700 dark:hover:text-amber-300 transition-colors",title:"Download SKILL.md",children:[(0,dn.jsx)(ho,{className:"h-4 w-4"}),"Download"]})]})]}),(0,dn.jsx)("div",{className:"p-4 overflow-auto flex-1",children:a?(0,dn.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,dn.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-amber-600"})}):u?(0,dn.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,dn.jsx)("p",{className:"text-red-500",children:u}),t.skill_md_url&&(0,dn.jsxs)("p",{className:"mt-2 text-sm",children:["Try visiting the"," ",(0,dn.jsx)("a",{href:t.skill_md_url,target:"_blank",rel:"noopener noreferrer",className:"text-amber-600 hover:underline",children:"source URL"})," ","directly."]})]}):l?(0,dn.jsxs)(dn.Fragment,{children:[d&&(0,dn.jsx)("div",{className:"mb-6 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:(0,dn.jsx)("table",{className:"w-full text-sm",children:(0,dn.jsx)("tbody",{children:Object.entries(d).map(e=>{let[t,r]=e;return(0,dn.jsxs)("tr",{className:"border-b border-gray-200 dark:border-gray-700 last:border-b-0",children:[(0,dn.jsx)("td",{className:"px-4 py-2 bg-gray-50 dark:bg-gray-900/50 font-medium text-gray-700 dark:text-gray-300 w-1/4",children:t}),(0,dn.jsx)("td",{className:"px-4 py-2 text-gray-900 dark:text-white",children:r})]},t)})})})}),(0,dn.jsx)("div",{className:"prose prose-sm dark:prose-invert max-w-none prose-headings:text-amber-800 dark:prose-headings:text-amber-200 prose-a:text-amber-600 dark:prose-a:text-amber-400 prose-code:bg-gray-100 dark:prose-code:bg-gray-900 prose-code:px-1 prose-code:py-0.5 prose-code:rounded prose-pre:bg-gray-100 dark:prose-pre:bg-gray-900",children:(0,dn.jsx)(gp,{remarkPlugins:[mg],children:m})})]}):(0,dn.jsx)("div",{className:"text-center py-12 text-gray-500",children:(0,dn.jsx)("p",{children:"Could not load SKILL.md content."})})})]})})},Eg=e=>{let{virtualServer:t,isOpen:r,onClose:n}=e;const[a,s]=(0,o.useState)(!1),[l,i]=(0,o.useState)(new Set);if(!r)return null;const u=t.matching_tools||[],c=t.backend_paths||[];return(0,dn.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:(0,dn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-2xl w-full max-h-[80vh] flex flex-col",children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[(0,dn.jsxs)("div",{children:[(0,dn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.server_name}),(0,dn.jsx)("span",{className:"px-2 py-0.5 text-[10px] font-semibold rounded-full bg-indigo-100 text-indigo-700 dark:bg-indigo-900/40 dark:text-indigo-200 border border-indigo-200 dark:border-indigo-600",children:"VIRTUAL"})]}),(0,dn.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.path})]}),(0,dn.jsx)("button",{onClick:n,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 rounded-lg transition-colors",children:(0,dn.jsx)(ao,{className:"h-5 w-5"})})]}),(0,dn.jsxs)("div",{className:"p-4 overflow-auto flex-1 space-y-4",children:[t.endpoint_url&&(0,dn.jsxs)("div",{children:[(0,dn.jsx)("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-2",children:"Endpoint URL"}),(0,dn.jsxs)("div",{className:"flex items-center gap-2 bg-gray-50 dark:bg-gray-900/50 rounded-lg p-2",children:[(0,dn.jsx)("code",{className:"flex-1 text-sm text-indigo-600 dark:text-indigo-400 font-mono break-all",children:t.endpoint_url}),(0,dn.jsx)("button",{onClick:()=>{t.endpoint_url&&(navigator.clipboard.writeText(t.endpoint_url),s(!0),setTimeout(()=>s(!1),2e3))},className:"flex-shrink-0 p-2 text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 rounded-lg transition-colors",title:"Copy endpoint URL",children:a?(0,dn.jsx)("span",{className:"text-xs text-green-600 dark:text-green-400 font-medium",children:"Copied!"}):(0,dn.jsx)(co,{className:"h-4 w-4"})})]})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-2",children:"Description"}),(0,dn.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-200",children:t.description||"No description available."})]}),t.tags&&t.tags.length>0&&(0,dn.jsxs)("div",{children:[(0,dn.jsx)("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-2",children:"Tags"}),(0,dn.jsx)("div",{className:"flex flex-wrap gap-2",children:t.tags.map(e=>(0,dn.jsx)("span",{className:"px-2.5 py-1 text-xs rounded-full bg-indigo-50 text-indigo-700 dark:bg-indigo-900/40 dark:text-indigo-200",children:e},e))})]}),c.length>0&&(0,dn.jsxs)("div",{children:[(0,dn.jsxs)("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-2",children:["Backend Servers (",c.length,")"]}),(0,dn.jsx)("ul",{className:"space-y-1",children:c.map(e=>(0,dn.jsx)("li",{className:"text-sm text-gray-700 dark:text-gray-200 font-mono bg-gray-50 dark:bg-gray-900/50 px-2 py-1 rounded",children:e},e))})]}),u.length>0&&(0,dn.jsxs)("div",{children:[(0,dn.jsxs)("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-2",children:["Tools (",u.length,")"]}),(0,dn.jsx)("ul",{className:"space-y-2",children:u.map(e=>{const t=l.has(e.tool_name);return(0,dn.jsxs)("li",{className:"text-sm text-gray-700 dark:text-gray-200 bg-gray-50 dark:bg-gray-900/50 rounded-lg overflow-hidden",children:[(0,dn.jsxs)("button",{type:"button",onClick:()=>{return t=e.tool_name,void i(e=>{const r=new Set(e);return r.has(t)?r.delete(t):r.add(t),r});var t},className:"w-full p-3 text-left hover:bg-gray-100 dark:hover:bg-gray-800/50 transition-colors",children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,dn.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:e.tool_name}),(0,dn.jsxs)("div",{className:"flex items-center gap-2",children:[void 0!==e.relevance_score&&(0,dn.jsxs)("span",{className:"text-xs text-indigo-600 dark:text-indigo-400",children:[Math.round(100*e.relevance_score),"%"]}),(0,dn.jsx)(Hi,{className:"h-4 w-4 text-gray-400 transition-transform ".concat(t?"rotate-180":"")})]})]}),(e.description||e.match_context)&&(0,dn.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mt-1 text-xs",children:e.description||e.match_context})]}),t&&(0,dn.jsx)("div",{className:"px-3 pb-3 border-t border-gray-200 dark:border-gray-700 pt-2",children:e.inputSchema&&Object.keys(e.inputSchema).length>0?(0,dn.jsxs)(dn.Fragment,{children:[(0,dn.jsx)("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-2",children:"Input Schema"}),(0,dn.jsx)("pre",{className:"text-xs bg-gray-100 dark:bg-gray-900 p-3 rounded-lg overflow-auto text-gray-800 dark:text-gray-200 max-h-48",children:JSON.stringify(e.inputSchema,null,2)})]}):(0,dn.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 italic",children:"No input schema available for this tool."})})]},e.tool_name)})})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-2",children:"Status"}),(0,dn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dn.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(t.is_enabled?"bg-green-400 shadow-lg shadow-green-400/30":"bg-gray-300 dark:bg-gray-600")}),(0,dn.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:t.is_enabled?"Enabled":"Disabled"})]})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-2",children:"Match Score"}),(0,dn.jsxs)("span",{className:"inline-flex items-center rounded-full bg-indigo-100 text-indigo-700 dark:bg-indigo-900/40 dark:text-indigo-200 px-3 py-1 text-xs font-semibold",children:[Math.round(100*Math.min(t.relevance_score,1)),"% match"]})]})]})]})})},Ag=e=>{let{virtualServer:t,onViewDetails:r}=e;const[n,a]=(0,o.useState)(!1),s=t.matching_tools||[],l=n?s:s.slice(0,3),i=s.length>3;return(0,dn.jsxs)("div",{className:"rounded-2xl border-2 border-indigo-200 dark:border-indigo-700 bg-gradient-to-br from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 p-5 shadow-sm hover:shadow-md transition-shadow",children:[(0,dn.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,dn.jsxs)("div",{children:[(0,dn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dn.jsx)("p",{className:"text-base font-semibold text-gray-900 dark:text-white",children:t.server_name}),(0,dn.jsx)("span",{className:"px-2 py-0.5 text-[10px] font-semibold rounded-full bg-indigo-100 text-indigo-700 dark:bg-indigo-900/40 dark:text-indigo-200 border border-indigo-200 dark:border-indigo-600",children:"VIRTUAL"})]}),(0,dn.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.path})]}),(0,dn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dn.jsx)("button",{type:"button",onClick:r,className:"p-2 text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-300 hover:bg-indigo-50 dark:hover:bg-indigo-700/30 rounded-lg transition-colors",title:"View virtual server details",children:(0,dn.jsx)(Hi,{className:"h-4 w-4"})}),(0,dn.jsxs)("span",{className:"inline-flex items-center rounded-full bg-indigo-100 text-indigo-700 dark:bg-indigo-900/40 dark:text-indigo-200 px-3 py-1 text-xs font-semibold",children:[Math.round(100*Math.min(t.relevance_score,1)),"% match"]})]})]}),(0,dn.jsx)("p",{className:"mt-3 text-sm text-gray-600 dark:text-gray-300 line-clamp-3",children:t.description||t.match_context||"No description available."}),t.tags&&t.tags.length>0&&(0,dn.jsx)("div",{className:"mt-4 flex flex-wrap gap-2",children:t.tags.slice(0,6).map(e=>(0,dn.jsx)("span",{className:"px-2.5 py-1 text-[11px] rounded-full bg-indigo-50 text-indigo-700 dark:bg-indigo-900/40 dark:text-indigo-200",children:e},e))}),s.length>0&&(0,dn.jsxs)("div",{className:"mt-4 border-t border-dashed border-indigo-200 dark:border-indigo-700 pt-3",children:[(0,dn.jsxs)("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-2",children:["Tools (",s.length,")"]}),(0,dn.jsx)("ul",{className:"space-y-2",children:l.map(e=>(0,dn.jsx)("li",{className:"text-sm text-gray-700 dark:text-gray-200 flex items-start gap-2",children:(0,dn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,dn.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:e.tool_name}),void 0!==e.relevance_score&&(0,dn.jsxs)("span",{className:"ml-2 text-xs text-indigo-600 dark:text-indigo-400",children:[Math.round(100*e.relevance_score),"%"]}),(e.description||e.match_context)&&(0,dn.jsx)("p",{className:"text-gray-600 dark:text-gray-300 text-xs mt-0.5 line-clamp-1",children:e.description||e.match_context})]})},e.tool_name))}),i&&(0,dn.jsx)("button",{type:"button",onClick:()=>a(!n),className:"mt-2 text-xs text-indigo-600 dark:text-indigo-400 hover:underline",children:n?"Show less":"+".concat(s.length-3," more tools...")})]}),(0,dn.jsxs)("div",{className:"mt-4 flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[(0,dn.jsxs)("span",{children:[t.backend_count||0," backends"]}),(0,dn.jsx)("span",{children:t.is_enabled?"Enabled":"Disabled"})]})]})},Sg=e=>"".concat(Math.round(100*Math.min(e,1)),"%"),_g=e=>{var t;let{query:r,loading:n,error:a,servers:s,tools:l,agents:i,skills:u,virtualServers:c=[]}=e;const d=s.length>0||l.length>0||i.length>0||u.length>0||c.length>0,[m,p]=(0,o.useState)(null),[h,g]=(0,o.useState)(null),[f,x]=(0,o.useState)(null),[y,b]=(0,o.useState)(null),[v,D]=(0,o.useState)(null),[k,w]=(0,o.useState)(null),[C,j]=(0,o.useState)(!1),[F,N]=(0,o.useState)(null),E=(0,o.useMemo)(()=>{const e=new Map;for(const t of l){const r="".concat(t.server_path,":").concat(t.tool_name);t.inputSchema&&e.set(r,t.inputSchema)}return e},[l]);return(0,dn.jsxs)(dn.Fragment,{children:[(0,dn.jsxs)("div",{className:"space-y-8",children:[(0,dn.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[(0,dn.jsxs)("div",{children:[(0,dn.jsx)("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"Semantic Search"}),(0,dn.jsxs)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:["Results for ",(0,dn.jsxs)("span",{className:"text-purple-600 dark:text-purple-300",children:["\u201c",r,"\u201d"]})]})]}),n&&(0,dn.jsxs)("div",{className:"inline-flex items-center text-sm text-purple-600 dark:text-purple-300",children:[(0,dn.jsx)(Po,{className:"h-5 w-5 animate-spin mr-2"}),"Searching\u2026"]})]}),a&&(0,dn.jsx)("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700 dark:border-red-500/40 dark:bg-red-900/30 dark:text-red-200",children:a}),!n&&!a&&!d&&(0,dn.jsxs)("div",{className:"text-center py-16 border border-dashed border-gray-200 dark:border-gray-700 rounded-xl",children:[(0,dn.jsx)("p",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-2",children:"No semantic matches found"}),(0,dn.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 max-w-xl mx-auto",children:"Try refining your query or describing the tools or capabilities you need. Semantic search understands natural language \u2014 phrases like \u201cservers that handle authentication\u201d or \u201ctools for syncing calendars\u201d work great."})]}),s.length>0&&(0,dn.jsxs)("section",{className:"space-y-4",children:[(0,dn.jsx)("div",{className:"flex items-center justify-between",children:(0,dn.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:["Matching Servers ",(0,dn.jsxs)("span",{className:"text-sm font-normal text-gray-500",children:["(",s.length,")"]})]})}),(0,dn.jsx)("div",{className:"grid",style:{gridTemplateColumns:"repeat(auto-fit, minmax(320px, 1fr))",gap:"1.5rem"},children:s.map(e=>{var t,r,n,a,s;const l=!0===(null===(t=e.sync_metadata)||void 0===t?void 0:t.is_federated),o=l&&null!==(r=e.sync_metadata)&&void 0!==r&&r.source_peer_id?e.sync_metadata.source_peer_id.replace("peer-registry-","").replace("peer-","").toUpperCase():null,i=!0===(null===(n=e.sync_metadata)||void 0===n?void 0:n.is_orphaned);return(0,dn.jsxs)("div",{className:"rounded-2xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-5 shadow-sm hover:shadow-md transition-shadow",children:[(0,dn.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,dn.jsxs)("div",{children:[(0,dn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dn.jsx)("p",{className:"text-base font-semibold text-gray-900 dark:text-white",children:e.server_name}),l&&(0,dn.jsx)("span",{className:"px-2 py-0.5 text-[10px] font-semibold rounded-full bg-cyan-100 text-cyan-700 dark:bg-cyan-900/40 dark:text-cyan-200 border border-cyan-200 dark:border-cyan-700",children:o}),i&&(0,dn.jsx)("span",{className:"px-2 py-0.5 text-[10px] font-semibold rounded-full bg-red-100 text-red-700 dark:bg-red-900/40 dark:text-red-200 border border-red-200 dark:border-red-700",title:"No longer exists on peer registry",children:"ORPHANED"})]}),(0,dn.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-300",children:e.path})]}),(0,dn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dn.jsx)("button",{type:"button",onClick:()=>g(e),className:"p-2 text-gray-400 hover:text-purple-600 dark:hover:text-purple-300 hover:bg-purple-50 dark:hover:bg-purple-700/30 rounded-lg transition-colors",title:"View server details",children:(0,dn.jsx)(Hi,{className:"h-4 w-4"})}),(0,dn.jsx)("button",{type:"button",onClick:()=>p(e),className:"p-2 text-gray-400 hover:text-green-600 dark:hover:text-green-300 hover:bg-green-50 dark:hover:bg-green-700/30 rounded-lg transition-colors",title:"Open MCP configuration",children:(0,dn.jsx)(ei,{className:"h-4 w-4"})}),(0,dn.jsxs)("span",{className:"inline-flex items-center rounded-full bg-purple-100 text-purple-700 dark:bg-purple-900/40 dark:text-purple-200 px-3 py-1 text-xs font-semibold",children:[Sg(e.relevance_score)," match"]})]})]}),(0,dn.jsx)("p",{className:"mt-3 text-sm text-gray-600 dark:text-gray-300 line-clamp-3",children:e.description||e.match_context||"No description available."}),(null===(a=e.tags)||void 0===a?void 0:a.length)>0&&(0,dn.jsx)("div",{className:"mt-4 flex flex-wrap gap-2",children:e.tags.slice(0,6).map(e=>(0,dn.jsx)("span",{className:"px-2.5 py-1 text-xs rounded-full bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-200",children:e},e))}),(null===(s=e.matching_tools)||void 0===s?void 0:s.length)>0&&(0,dn.jsxs)("div",{className:"mt-4 border-t border-dashed border-gray-200 dark:border-gray-700 pt-3",children:[(0,dn.jsx)("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-2",children:"Relevant tools"}),(0,dn.jsx)("ul",{className:"space-y-2",children:e.matching_tools.slice(0,3).map(t=>(0,dn.jsxs)("li",{className:"text-sm text-gray-700 dark:text-gray-200 flex items-start gap-2",children:[(0,dn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,dn.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:t.tool_name}),(0,dn.jsx)("span",{className:"mx-2 text-gray-400",children:"-"}),(0,dn.jsx)("span",{className:"text-gray-600 dark:text-gray-300 line-clamp-1",children:t.description||t.match_context||"No description"})]}),(0,dn.jsx)("button",{type:"button",onClick:()=>((e,t,r)=>{const n="".concat(e,":").concat(r),a=E.get(n)||null;N({toolName:r,serverName:t,schema:a})})(e.path,e.server_name,t.tool_name),className:"flex-shrink-0 p-1 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 rounded transition-colors",title:"View input schema",children:(0,dn.jsx)(Hi,{className:"h-4 w-4"})})]},t.tool_name))})]})]},e.path)})})]}),l.length>0&&(0,dn.jsxs)("section",{className:"space-y-4",children:[(0,dn.jsx)("div",{className:"flex items-center justify-between",children:(0,dn.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:["Matching Tools ",(0,dn.jsxs)("span",{className:"text-sm font-normal text-gray-500",children:["(",l.length,")"]})]})}),(0,dn.jsx)("div",{className:"grid",style:{gridTemplateColumns:"repeat(auto-fit, minmax(320px, 1fr))",gap:"1.25rem"},children:l.map(e=>(0,dn.jsxs)("div",{className:"rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-4 flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between",children:[(0,dn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,dn.jsxs)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:[e.tool_name,(0,dn.jsxs)("span",{className:"ml-2 text-xs font-normal text-gray-500 dark:text-gray-400",children:["(",e.server_name,")"]})]}),(0,dn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 line-clamp-2",children:e.description||e.match_context||"No description available."})]}),(0,dn.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[(0,dn.jsx)("button",{type:"button",onClick:()=>N({toolName:e.tool_name,serverName:e.server_name,schema:e.inputSchema||null}),className:"p-1.5 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-lg transition-colors",title:"View input schema",children:(0,dn.jsx)(Hi,{className:"h-4 w-4"})}),(0,dn.jsxs)("span",{className:"inline-flex items-center rounded-full bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-200 px-3 py-1 text-xs font-semibold",children:[Sg(e.relevance_score)," match"]})]})]},"".concat(e.server_path,"-").concat(e.tool_name)))})]}),i.length>0&&(0,dn.jsxs)("section",{className:"space-y-4",children:[(0,dn.jsx)("div",{className:"flex items-center justify-between",children:(0,dn.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:["Matching Agents ",(0,dn.jsxs)("span",{className:"text-sm font-normal text-gray-500",children:["(",i.length,")"]})]})}),(0,dn.jsx)("div",{className:"grid",style:{gridTemplateColumns:"repeat(auto-fit, minmax(320px, 1fr))",gap:"1.25rem"},children:i.map(e=>{var t;const r=e.agent_card||{},n=r.name||e.path.replace(/^\//,""),s=r.description,l=r.tags||[],o=r.visibility||"public",i=r.trust_level||"unverified",u=null!==(t=r.is_enabled)&&void 0!==t&&t,c=r.sync_metadata,d=(r.skills||[]).map(e=>"string"===typeof e?e:(null===e||void 0===e?void 0:e.name)||(null===e||void 0===e?void 0:e.id)).filter(Boolean),m=!0===(null===c||void 0===c?void 0:c.is_federated),p=m&&null!==c&&void 0!==c&&c.source_peer_id?c.source_peer_id.replace("peer-registry-","").replace("peer-","").toUpperCase():null,h=!0===(null===c||void 0===c?void 0:c.is_orphaned);return(0,dn.jsxs)("div",{className:"rounded-2xl border border-cyan-200 dark:border-cyan-900/40 bg-white dark:bg-gray-800 p-5 shadow-sm hover:shadow-md transition-shadow",children:[(0,dn.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,dn.jsxs)("div",{children:[(0,dn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dn.jsx)("p",{className:"text-base font-semibold text-gray-900 dark:text-white",children:n}),m&&(0,dn.jsx)("span",{className:"px-2 py-0.5 text-[10px] font-semibold rounded-full bg-violet-100 text-violet-700 dark:bg-violet-900/40 dark:text-violet-200 border border-violet-200 dark:border-violet-700",children:p}),h&&(0,dn.jsx)("span",{className:"px-2 py-0.5 text-[10px] font-semibold rounded-full bg-red-100 text-red-700 dark:bg-red-900/40 dark:text-red-200 border border-red-200 dark:border-red-700",title:"No longer exists on peer registry",children:"ORPHANED"})]}),(0,dn.jsx)("p",{className:"text-xs uppercase tracking-wide text-gray-400 dark:text-gray-500",children:o})]}),(0,dn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dn.jsx)("button",{type:"button",onClick:()=>(async e=>{b(e),w(null),j(!0);try{const t=await cn.get("/api/agents".concat(e.path));w(t.data)}catch(a){console.error("Failed to fetch agent details:",a)}finally{j(!1)}})(e),className:"p-2 text-gray-400 hover:text-cyan-600 dark:hover:text-cyan-300 hover:bg-cyan-50 dark:hover:bg-cyan-700/30 rounded-lg transition-colors",title:"View full agent details",children:(0,dn.jsx)(Hi,{className:"h-4 w-4"})}),(0,dn.jsxs)("span",{className:"inline-flex items-center rounded-full bg-cyan-100 text-cyan-700 dark:bg-cyan-900/40 dark:text-cyan-200 px-3 py-1 text-xs font-semibold",children:[Sg(e.relevance_score)," match"]})]})]}),(0,dn.jsx)("p",{className:"mt-3 text-sm text-gray-600 dark:text-gray-300 line-clamp-3",children:s||e.match_context||"No description available."}),d.length>0&&(0,dn.jsxs)("div",{className:"mt-4",children:[(0,dn.jsx)("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-1",children:"Key Skills"}),(0,dn.jsxs)("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:[d.slice(0,4).join(", "),d.length>4&&"\u2026"]})]}),l.length>0&&(0,dn.jsx)("div",{className:"mt-4 flex flex-wrap gap-2",children:l.slice(0,6).map(e=>(0,dn.jsx)("span",{className:"px-2.5 py-1 text-[11px] rounded-full bg-cyan-50 text-cyan-700 dark:bg-cyan-900/40 dark:text-cyan-200",children:e},e))}),(0,dn.jsxs)("div",{className:"mt-4 flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[(0,dn.jsx)("span",{className:"font-semibold text-cyan-700 dark:text-cyan-200",children:i}),(0,dn.jsx)("span",{children:u?"Enabled":"Disabled"})]})]},e.path)})})]}),u.length>0&&(0,dn.jsxs)("section",{className:"space-y-4",children:[(0,dn.jsx)("div",{className:"flex items-center justify-between",children:(0,dn.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:["Matching Skills ",(0,dn.jsxs)("span",{className:"text-sm font-normal text-gray-500",children:["(",u.length,")"]})]})}),(0,dn.jsx)("div",{className:"grid",style:{gridTemplateColumns:"repeat(auto-fit, minmax(320px, 1fr))",gap:"1.25rem"},children:u.map(e=>(0,dn.jsxs)("div",{className:"rounded-2xl border-2 border-amber-200 dark:border-amber-700 bg-gradient-to-br from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 p-5 shadow-sm hover:shadow-md transition-shadow",children:[(0,dn.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,dn.jsxs)("div",{children:[(0,dn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dn.jsx)("p",{className:"text-base font-semibold text-gray-900 dark:text-white",children:e.skill_name}),(0,dn.jsx)("span",{className:"px-2 py-0.5 text-[10px] font-semibold rounded-full bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-200 border border-amber-200 dark:border-amber-600",children:"SKILL"})]}),(0,dn.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.visibility||"public"})]}),(0,dn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dn.jsx)("button",{type:"button",onClick:()=>x(e),className:"p-2 text-gray-400 hover:text-amber-600 dark:hover:text-amber-300 hover:bg-amber-50 dark:hover:bg-amber-700/30 rounded-lg transition-colors",title:"View SKILL.md content",children:(0,dn.jsx)(Hi,{className:"h-4 w-4"})}),(0,dn.jsxs)("span",{className:"inline-flex items-center rounded-full bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-200 px-3 py-1 text-xs font-semibold",children:[Sg(e.relevance_score)," match"]})]})]}),(0,dn.jsx)("p",{className:"mt-3 text-sm text-gray-600 dark:text-gray-300 line-clamp-3",children:e.description||e.match_context||"No description available."}),e.tags&&e.tags.length>0&&(0,dn.jsx)("div",{className:"mt-4 flex flex-wrap gap-2",children:e.tags.slice(0,6).map(e=>(0,dn.jsx)("span",{className:"px-2.5 py-1 text-[11px] rounded-full bg-amber-50 text-amber-700 dark:bg-amber-900/40 dark:text-amber-200",children:e},e))}),(0,dn.jsxs)("div",{className:"mt-4 flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[(0,dn.jsxs)("div",{className:"flex items-center gap-2",children:[e.author&&(0,dn.jsxs)("span",{children:["by ",e.author]}),e.version&&(0,dn.jsxs)("span",{className:"text-amber-600 dark:text-amber-400",children:["v",e.version]})]}),(0,dn.jsx)("span",{children:e.is_enabled?"Enabled":"Disabled"})]})]},e.path))})]}),c.length>0&&(0,dn.jsxs)("section",{className:"space-y-4",children:[(0,dn.jsx)("div",{className:"flex items-center justify-between",children:(0,dn.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:["Matching Virtual Servers ",(0,dn.jsxs)("span",{className:"text-sm font-normal text-gray-500",children:["(",c.length,")"]})]})}),(0,dn.jsx)("div",{className:"grid",style:{gridTemplateColumns:"repeat(auto-fit, minmax(320px, 1fr))",gap:"1.25rem"},children:c.map(e=>(0,dn.jsx)(Ag,{virtualServer:e,onViewDetails:()=>D(e)},e.path))})]})]}),m&&(0,dn.jsx)(pi,{server:{name:m.server_name,path:m.path,description:m.description,enabled:null===(t=m.is_enabled)||void 0===t||t,tags:m.tags,num_tools:m.num_tools},isOpen:!0,onClose:()=>p(null)}),y&&(0,dn.jsx)(Ki,{agent:(e=>{var t,r,n;const a=e.agent_card||{};return{name:a.name||e.path.replace(/^\//,""),path:e.path,url:a.url,description:a.description,version:a.version,visibility:null!==(t=a.visibility)&&void 0!==t?t:"public",trust_level:null!==(r=a.trust_level)&&void 0!==r?r:"unverified",enabled:null===(n=a.is_enabled)||void 0===n||n,tags:a.tags||[],status:"unknown"}})(y),isOpen:!0,onClose:()=>b(null),loading:C,fullDetails:k}),F&&(0,dn.jsx)(jg,{toolName:F.toolName,serverName:F.serverName,schema:F.schema,isOpen:!0,onClose:()=>N(null)}),h&&(0,dn.jsx)(Fg,{server:h,isOpen:!0,onClose:()=>g(null)}),f&&(0,dn.jsx)(Ng,{skill:f,isOpen:!0,onClose:()=>x(null)}),v&&(0,dn.jsx)(Eg,{virtualServer:v,isOpen:!0,onClose:()=>D(null)})]})},Bg=["mcp_server","tool","a2a_agent","skill","virtual_server"],Tg=Bg.join("|");function Lg(e){return encodeURIComponent(e)}const Rg=()=>{const[e,t]=(0,o.useState)([]),[r,n]=(0,o.useState)(!0),[a,s]=(0,o.useState)(null),l=(0,o.useCallback)(async()=>{try{n(!0),s(null);const e=await cn.get("/api/virtual-servers"),r=(e.data||{}).virtual_servers||[];t(r)}catch(a){var e,r;const n=a;console.error("Failed to fetch virtual servers:",a),s((null===(e=n.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.detail)||n.message||"Failed to fetch virtual servers"),t([])}finally{n(!1)}},[]),i=(0,o.useCallback)(async e=>{const t=await cn.post("/api/virtual-servers",e);return await l(),t.data},[l]),u=(0,o.useCallback)(async(e,t)=>{const r=await cn.put("/api/virtual-servers/".concat(Lg(e)),t);return await l(),r.data},[l]),c=(0,o.useCallback)(async e=>{await cn.delete("/api/virtual-servers/".concat(Lg(e))),await l()},[l]),d=(0,o.useCallback)(async(e,t)=>{const r=await cn.post("/api/virtual-servers/".concat(Lg(e),"/toggle"),{enabled:t});return await l(),r.data},[l]);return(0,o.useEffect)(()=>{l()},[l]),{virtualServers:e,loading:r,error:a,refreshData:l,createVirtualServer:i,updateVirtualServer:u,deleteVirtualServer:c,toggleVirtualServer:d}},Pg=e=>{const[t,r]=(0,o.useState)(null),[n,a]=(0,o.useState)(!1),[s,l]=(0,o.useState)(null),i=(0,o.useCallback)(async()=>{if(e)try{a(!0),l(null);const t=await cn.get("/api/virtual-servers/".concat(Lg(e)));r(t.data)}catch(s){var t,n;const a=s;console.error("Failed to fetch virtual server ".concat(e,":"),s),l((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||a.message||"Failed to fetch virtual server"),r(null)}finally{a(!1)}else r(null)},[e]);return(0,o.useEffect)(()=>{i()},[i]),{virtualServer:t,loading:n,isLoading:n,error:s,refetch:i}};const Og=e=>{let{selectedTools:t,onToolsChange:r}=e;const{catalog:n,loading:a,error:s}=(()=>{const[e,t]=(0,o.useState)([]),[r,n]=(0,o.useState)(!0),[a,s]=(0,o.useState)(null),l=(0,o.useCallback)(async()=>{try{n(!0),s(null);const e=((await cn.get("/api/tool-catalog")).data||{}).tools||[];t(e)}catch(a){var e,r;const n=a;console.error("Failed to fetch tool catalog:",a),s((null===(e=n.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.detail)||n.message||"Failed to fetch tool catalog"),t([])}finally{n(!1)}},[]);return(0,o.useEffect)(()=>{l()},[l]),{catalog:e,loading:r,error:a,refreshData:l}})(),[l,i]=(0,o.useState)(""),[u,c]=(0,o.useState)(new Set),[d,m]=(0,o.useState)(null),p=(0,o.useMemo)(()=>{const e=new Map;for(const t of n){const r=e.get(t.server_path);r?r.tools.push(t):e.set(t.server_path,{serverPath:t.server_path,serverName:t.server_name,tools:[t]})}return Array.from(e.values()).sort((e,t)=>e.serverName.localeCompare(t.serverName))},[n]),h=(0,o.useMemo)(()=>{if(!l)return p;const e=l.toLowerCase();return p.map(t=>qt(qt({},t),{},{tools:t.tools.filter(t=>t.tool_name.toLowerCase().includes(e)||t.description.toLowerCase().includes(e)||t.server_name.toLowerCase().includes(e))})).filter(e=>e.tools.length>0)},[p,l]),g=e=>t.some(t=>t.tool_name===e.tool_name&&t.backend_server_path===e.server_path),f=e=>e.tools.every(e=>g(e));return(0,dn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,dn.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[(0,dn.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900/50 px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:[(0,dn.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Available Tools"}),(0,dn.jsxs)("div",{className:"relative",children:[(0,dn.jsx)(Mo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,dn.jsx)("input",{type:"text",value:l,onChange:e=>i(e.target.value),placeholder:"Search tools...","aria-label":"Search available tools",className:"w-full pl-9 pr-4 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]})]}),(0,dn.jsxs)("div",{className:"max-h-80 overflow-y-auto",role:"listbox","aria-label":"Available tools",children:[a&&(0,dn.jsx)("div",{className:"p-4 text-center text-sm text-gray-500 dark:text-gray-400",children:"Loading tool catalog..."}),s&&(0,dn.jsx)("div",{className:"p-4 text-center text-sm text-red-500 dark:text-red-400",children:s}),!a&&!s&&0===h.length&&(0,dn.jsx)("div",{className:"p-4 text-center text-sm text-gray-500 dark:text-gray-400",children:l?"No matching tools found":"No tools available"}),h.map(e=>(0,dn.jsxs)("div",{children:[(0,dn.jsxs)("button",{onClick:()=>{return t=e.serverPath,void c(e=>{const r=new Set(e);return r.has(t)?r.delete(t):r.add(t),r});var t},className:"w-full flex items-center justify-between px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[(0,dn.jsxs)("div",{className:"flex items-center gap-2",children:[u.has(e.serverPath)?(0,dn.jsx)(Cs,{className:"h-4 w-4"}):(0,dn.jsx)(To,{className:"h-4 w-4"}),(0,dn.jsx)("span",{children:e.serverName})]}),(0,dn.jsx)("span",{className:"text-xs bg-gray-200 dark:bg-gray-600 px-2 py-0.5 rounded-full",children:e.tools.length})]}),u.has(e.serverPath)&&(0,dn.jsxs)("div",{className:"pl-8 pr-2 pb-1",children:[!f(e)&&(0,dn.jsxs)("button",{onClick:()=>(e=>{const n=[];for(const t of e.tools)g(t)||n.push({tool_name:t.tool_name,backend_server_path:t.server_path,alias:null,backend_version:null});n.length>0&&r([...t,...n])})(e),className:"w-full text-left px-3 py-1.5 text-xs font-medium text-teal-600 dark:text-teal-400 hover:bg-teal-50 dark:hover:bg-teal-900/20 rounded transition-colors mb-1",children:["Select All (",e.tools.length," tools)"]}),e.tools.map(e=>{const n=g(e);return(0,dn.jsxs)("button",{onClick:()=>(e=>{if(g(e))return;const n={tool_name:e.tool_name,backend_server_path:e.server_path,alias:null,backend_version:null};r([...t,n])})(e),disabled:n,role:"option","aria-selected":n,className:"w-full text-left px-3 py-2 text-sm rounded transition-colors mb-1 ".concat(n?"bg-teal-50 dark:bg-teal-900/20 text-teal-600 dark:text-teal-400 cursor-default":"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300"),children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,dn.jsx)("span",{className:"font-mono text-xs",children:e.tool_name}),!n&&(0,dn.jsx)(So,{className:"h-4 w-4 text-gray-400"}),n&&(0,dn.jsx)("span",{className:"text-xs text-teal-500",children:"Added"})]}),e.description&&(0,dn.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5 line-clamp-1",children:e.description})]},"".concat(e.server_path,"-").concat(e.tool_name))})]})]},e.serverPath))]})]}),(0,dn.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[(0,dn.jsx)("div",{className:"bg-gray-50 dark:bg-gray-900/50 px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:(0,dn.jsxs)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Selected Tools (",t.length,")"]})}),(0,dn.jsxs)("div",{className:"max-h-80 overflow-y-auto",role:"listbox","aria-label":"Selected tools",children:[0===t.length&&(0,dn.jsx)("div",{className:"p-4 text-center text-sm text-gray-500 dark:text-gray-400",children:"No tools selected. Click on tools from the left panel to add them."}),t.map((e,a)=>{const s=(e=>n.find(t=>t.tool_name===e.tool_name&&t.server_path===e.backend_server_path))(e),l=s&&s.available_versions.length>1;return(0,dn.jsxs)("div",{className:"px-4 py-3 border-b border-gray-100 dark:border-gray-700 last:border-b-0",children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,dn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,dn.jsx)("span",{className:"font-mono text-sm text-gray-900 dark:text-white",children:e.alias||e.tool_name}),e.alias&&(0,dn.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:["(from ",e.tool_name,")"]})]}),(0,dn.jsxs)("div",{className:"flex items-center gap-1",children:[(0,dn.jsx)("button",{onClick:()=>m(d===a?null:a),className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded transition-colors",title:"Set alias",children:(0,dn.jsx)(Yo,{className:"h-3.5 w-3.5"})}),(0,dn.jsx)("button",{onClick:()=>(e=>{const n=t.filter((t,r)=>r!==e);r(n)})(a),className:"p-1 text-gray-400 hover:text-red-500 rounded transition-colors",title:"Remove tool",children:(0,dn.jsx)(ao,{className:"h-3.5 w-3.5"})})]})]}),(0,dn.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.backend_server_path}),d===a&&(0,dn.jsx)("div",{className:"mt-2",children:(0,dn.jsx)("input",{type:"text",value:e.alias||"",onChange:e=>((e,n)=>{const a=t.map((t,r)=>r===e?qt(qt({},t),{},{alias:n||null}):t);r(a)})(a,e.target.value),placeholder:"Tool alias (optional)",className:"w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-1 focus:ring-teal-500 focus:border-transparent"})}),l&&(0,dn.jsx)("div",{className:"mt-2",children:(0,dn.jsxs)("select",{value:e.backend_version||"",onChange:e=>((e,n)=>{const a=t.map((t,r)=>r===e?qt(qt({},t),{},{backend_version:n||null}):t);r(a)})(a,e.target.value),className:"w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-1 focus:ring-teal-500 focus:border-transparent",children:[(0,dn.jsx)("option",{value:"",children:"Default version"}),s.available_versions.map(e=>(0,dn.jsx)("option",{value:e,children:e},e))]})})]},"".concat(e.backend_server_path,"-").concat(e.tool_name,"-").concat(a))})]})]})]})},Ig=[{id:"basics",label:"Basics"},{id:"tools",label:"Tool Selection"},{id:"config",label:"Configuration"},{id:"review",label:"Review"}];const Mg=e=>{let{virtualServer:t,onSave:r,onCancel:n}=e;const a=!!t,[s,l]=(0,o.useState)("basics"),[i,u]=(0,o.useState)(""),[c,d]=(0,o.useState)(""),[m,p]=(0,o.useState)(""),[h,g]=(0,o.useState)(""),[f,x]=(0,o.useState)(""),[y,b]=(0,o.useState)([]),[v,D]=(0,o.useState)([]),[k,w]=(0,o.useState)(!0),[C,j]=(0,o.useState)(!1),[F,N]=(0,o.useState)(null),[E,A]=(0,o.useState)(!1),S=Ig.findIndex(e=>e.id===s);(0,o.useEffect)(()=>{var e,r;t&&(u(t.server_name),d(t.path),p(t.description||""),g((null===(e=t.tags)||void 0===e?void 0:e.join(", "))||""),x((null===(r=t.required_scopes)||void 0===r?void 0:r.join(", "))||""),b(t.tool_mappings||[]),A(!0))},[t]),(0,o.useEffect)(()=>{a||E||!i||d(function(e){const t=e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"");return"/virtual/".concat(t)}(i))},[i,a,E]);const _=()=>{D([...v,{backend_server_path:"",tool_name:"",alias:""}])},B=(e,t,r)=>{D(v.map((n,a)=>a===e?qt(qt({},n),{},{[t]:r}):n))},T=(0,o.useMemo)(()=>[...y,...v.filter(e=>e.backend_server_path&&e.tool_name).map(e=>({tool_name:e.tool_name,backend_server_path:e.backend_server_path,alias:e.alias||null,backend_version:null}))],[y,v]),L=(0,o.useMemo)(()=>h.split(",").map(e=>e.trim()).filter(Boolean),[h]),R=(0,o.useMemo)(()=>f.split(",").map(e=>e.trim()).filter(Boolean),[f]),P=e=>{if("basics"===e){if(!i.trim())return"Server name is required";if(!c.trim())return"Server path is required"}return null},O=()=>(0,dn.jsxs)("div",{className:"space-y-6",children:[(0,dn.jsxs)("div",{children:[(0,dn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Name ",(0,dn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,dn.jsx)("input",{type:"text",value:i,onChange:e=>u(e.target.value),placeholder:"e.g. Dev Essentials",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Path ",(0,dn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,dn.jsx)("input",{type:"text",value:c,onChange:e=>{return t=e.target.value,d(t),void A(!0);var t},placeholder:"/virtual/dev-essentials",disabled:a,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed font-mono text-sm"}),!a&&(0,dn.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Auto-generated from name. Must start with /virtual/."})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),(0,dn.jsx)("textarea",{value:m,onChange:e=>p(e.target.value),placeholder:"Describe what this virtual server provides...",rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tags"}),(0,dn.jsx)("input",{type:"text",value:h,onChange:e=>g(e.target.value),placeholder:"development, tools, frontend (comma-separated)",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]})]}),I=()=>(0,dn.jsxs)("div",{children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,dn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Select tools to include in this virtual server"}),(0,dn.jsx)("button",{type:"button",onClick:()=>w(!k),className:"text-xs text-teal-600 dark:text-teal-400 hover:underline",children:k?"Switch to manual entry":"Switch to tool picker"})]}),k?(0,dn.jsx)(Og,{selectedTools:y,onToolsChange:b}):(0,dn.jsxs)("div",{className:"space-y-3",children:[v.map((e,t)=>(0,dn.jsxs)("div",{className:"flex items-start gap-2 p-3 bg-gray-50 dark:bg-gray-900/50 rounded-lg",children:[(0,dn.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,dn.jsx)("input",{type:"text",value:e.backend_server_path,onChange:e=>B(t,"backend_server_path",e.target.value),placeholder:"Backend server path (e.g. /github)",className:"w-full px-2 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}),(0,dn.jsx)("input",{type:"text",value:e.tool_name,onChange:e=>B(t,"tool_name",e.target.value),placeholder:"Tool name",className:"w-full px-2 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}),(0,dn.jsx)("input",{type:"text",value:e.alias,onChange:e=>B(t,"alias",e.target.value),placeholder:"Alias (optional)",className:"w-full px-2 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]}),(0,dn.jsx)("button",{type:"button",onClick:()=>(e=>{D(v.filter((t,r)=>r!==e))})(t),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",children:(0,dn.jsx)(ni,{className:"h-4 w-4"})})]},t)),(0,dn.jsxs)("button",{type:"button",onClick:_,className:"flex items-center gap-2 px-3 py-2 text-sm text-teal-600 dark:text-teal-400 hover:bg-teal-50 dark:hover:bg-teal-900/20 rounded-lg transition-colors",children:[(0,dn.jsx)(So,{className:"h-4 w-4"}),"Add Tool Mapping"]})]})]}),M=S===Ig.length-1,z=0===S;return(0,o.useEffect)(()=>{const e=e=>{"Escape"!==e.key||C||n()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[n,C]),(0,dn.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,dn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] flex flex-col",role:"dialog","aria-modal":"true","aria-label":a?"Edit Virtual Server":"Create Virtual Server",children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:[(0,dn.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a?"Edit Virtual Server":"Create Virtual Server"}),(0,dn.jsx)("button",{onClick:n,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-lg transition-colors",children:(0,dn.jsx)(ao,{className:"h-5 w-5"})})]}),(0,dn.jsx)("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50",children:Ig.map((e,t)=>{const r=e.id===s,n=t<S,a=t<=S;return(0,dn.jsxs)(o.Fragment,{children:[t>0&&(0,dn.jsx)("div",{className:"flex-1 h-0.5 mx-2 ".concat(n?"bg-teal-500":"bg-gray-300 dark:bg-gray-600")}),(0,dn.jsxs)("button",{type:"button",onClick:()=>a&&(e=>{const t=Ig.findIndex(t=>t.id===e);t<=S&&(N(null),l(e))})(e.id),disabled:!a,className:"flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ".concat(r?"bg-teal-100 dark:bg-teal-900/30 text-teal-700 dark:text-teal-300":n?"text-teal-600 dark:text-teal-400 hover:bg-teal-50 dark:hover:bg-teal-900/20 cursor-pointer":"text-gray-400 dark:text-gray-500 cursor-default"),children:[(0,dn.jsx)("span",{className:"flex items-center justify-center w-6 h-6 rounded-full text-xs font-bold ".concat(r?"bg-teal-600 text-white":n?"bg-teal-500 text-white":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400"),children:n?(0,dn.jsx)(oo,{className:"h-3.5 w-3.5"}):t+1}),(0,dn.jsx)("span",{className:"hidden sm:inline",children:e.label})]})]},e.id)})}),(0,dn.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:[F&&(0,dn.jsx)("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:(0,dn.jsx)("p",{className:"text-sm text-red-700 dark:text-red-300",children:F})}),(()=>{switch(s){case"basics":return O();case"tools":return I();case"config":return(0,dn.jsxs)("div",{className:"space-y-6",children:[(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tool Aliases and Version Pins"}),0===T.length?(0,dn.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 py-4 text-center bg-gray-50 dark:bg-gray-900/50 rounded-lg",children:"No tools selected. Go back to add tools."}):(0,dn.jsx)("div",{className:"space-y-2",children:T.map((e,t)=>(0,dn.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-900/50 rounded-lg",children:[(0,dn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,dn.jsx)("div",{className:"text-sm font-mono text-gray-900 dark:text-white truncate",children:e.tool_name}),(0,dn.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.backend_server_path})]}),(0,dn.jsx)("div",{className:"w-40",children:(0,dn.jsx)("input",{type:"text",value:e.alias||"",onChange:e=>{if(t<y.length){const r=[...y];r[t]=qt(qt({},r[t]),{},{alias:e.target.value||null}),b(r)}else{const r=t-y.length;r<v.length&&B(r,"alias",e.target.value)}},placeholder:"Alias",className:"w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})}),(0,dn.jsx)("div",{className:"w-28",children:(0,dn.jsx)("input",{type:"text",value:e.backend_version||"",onChange:e=>{if(t<y.length){const r=[...y];r[t]=qt(qt({},r[t]),{},{backend_version:e.target.value||null}),b(r)}},placeholder:"Version",className:"w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})})]},"".concat(e.backend_server_path,"-").concat(e.tool_name,"-").concat(t)))})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Required Scopes"}),(0,dn.jsx)("input",{type:"text",value:f,onChange:e=>x(e.target.value),placeholder:"scope1, scope2 (comma-separated)",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500 focus:border-transparent"}),(0,dn.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Scopes required to access this virtual server. Leave empty for unrestricted access."})]})]});case"review":return(0,dn.jsxs)("div",{className:"space-y-4",children:[(0,dn.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4",children:[(0,dn.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Server Details"}),(0,dn.jsxs)("dl",{className:"grid grid-cols-2 gap-x-4 gap-y-2 text-sm",children:[(0,dn.jsx)("dt",{className:"text-gray-500 dark:text-gray-400",children:"Name"}),(0,dn.jsx)("dd",{className:"text-gray-900 dark:text-white font-medium",children:i||"-"}),(0,dn.jsx)("dt",{className:"text-gray-500 dark:text-gray-400",children:"Path"}),(0,dn.jsx)("dd",{className:"text-gray-900 dark:text-white font-mono text-xs",children:c||"-"}),(0,dn.jsx)("dt",{className:"text-gray-500 dark:text-gray-400",children:"Description"}),(0,dn.jsx)("dd",{className:"text-gray-900 dark:text-white",children:m||"-"}),(0,dn.jsx)("dt",{className:"text-gray-500 dark:text-gray-400",children:"Tags"}),(0,dn.jsx)("dd",{className:"text-gray-900 dark:text-white",children:L.length>0?L.join(", "):"-"}),(0,dn.jsx)("dt",{className:"text-gray-500 dark:text-gray-400",children:"Required Scopes"}),(0,dn.jsx)("dd",{className:"text-gray-900 dark:text-white",children:R.length>0?R.join(", "):"None (unrestricted)"})]})]}),(0,dn.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4",children:[(0,dn.jsxs)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:["Tool Mappings (",T.length,")"]}),0===T.length?(0,dn.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No tools configured"}):(0,dn.jsx)("div",{className:"space-y-1.5",children:T.map((e,t)=>(0,dn.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,dn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dn.jsx)("span",{className:"font-mono text-gray-900 dark:text-white",children:e.alias||e.tool_name}),e.alias&&(0,dn.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["(from ",e.tool_name,")"]})]}),(0,dn.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono",children:[e.backend_server_path,e.backend_version&&" @".concat(e.backend_version)]})]},"review-".concat(e.backend_server_path,"-").concat(e.tool_name,"-").concat(t)))})]}),(0,dn.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:(()=>{const e=new Set(T.map(e=>e.backend_server_path));return"".concat(T.length," tool(s) from ").concat(e.size," backend server(s)")})()})]})}})()]}),(0,dn.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 dark:border-gray-700 flex-shrink-0",children:[(0,dn.jsx)("button",{type:"button",onClick:z?n:()=>{N(null);const e=S-1;e>=0&&l(Ig[e].id)},disabled:C,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors disabled:opacity-50",children:z?"Cancel":"Back"}),(0,dn.jsxs)("div",{className:"flex gap-3",children:[!z&&(0,dn.jsx)("button",{type:"button",onClick:n,disabled:C,className:"px-4 py-2 text-sm font-medium text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors disabled:opacity-50",children:"Cancel"}),M?(0,dn.jsxs)("button",{type:"button",onClick:async()=>{N(null);const e=P("basics");if(e)return l("basics"),void N(e);j(!0);try{if(a){const e={server_name:i.trim(),description:m.trim()||null,tool_mappings:T,required_scopes:R,tags:L};await r(e)}else{const e={server_name:i.trim(),path:c.trim(),description:m.trim(),tool_mappings:T,required_scopes:R,tags:L};await r(e)}}catch(s){var t,n;const e=s;N((null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||e.message||"Failed to save virtual server")}finally{j(!1)}},disabled:C,className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 rounded-lg hover:bg-teal-700 transition-colors disabled:opacity-50 flex items-center gap-2",children:[C&&(0,dn.jsxs)("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[(0,dn.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,dn.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a?"Save Changes":"Create Virtual Server"]}):(0,dn.jsx)("button",{type:"button",onClick:()=>{const e=P(s);if(e)return void N(e);N(null);const t=S+1;t<Ig.length&&l(Ig[t].id)},className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 rounded-lg hover:bg-teal-700 transition-colors",children:"Next"})]})]})]})})},zg=e=>{let{message:t,type:r,onClose:n}=e;return(0,o.useEffect)(()=>{const e=setTimeout(()=>{n()},4e3);return()=>clearTimeout(e)},[n]),(0,dn.jsx)("div",{className:"fixed top-4 right-4 z-50 animate-slide-in-top",children:(0,dn.jsxs)("div",{className:"flex items-center p-4 rounded-lg shadow-lg border ".concat("success"===r?"bg-green-50 border-green-200 text-green-800 dark:bg-green-900/50 dark:border-green-700 dark:text-green-200":"bg-red-50 border-red-200 text-red-800 dark:bg-red-900/50 dark:border-red-700 dark:text-red-200"),children:["success"===r?(0,dn.jsx)(Co,{className:"h-5 w-5 mr-3 flex-shrink-0"}):(0,dn.jsx)(No,{className:"h-5 w-5 mr-3 flex-shrink-0"}),(0,dn.jsx)("p",{className:"text-sm font-medium",children:t}),(0,dn.jsx)("button",{onClick:n,className:"ml-3 flex-shrink-0 text-current opacity-70 hover:opacity-100",children:(0,dn.jsx)(ao,{className:"h-4 w-4"})})]})})},Ug=e=>{var t,r,n,a,s;let{activeFilter:l="all"}=e;const i=ie(),{servers:u,agents:c,loading:d,error:m,refreshData:p,setServers:h,setAgents:g}=bo(),{skills:f,setSkills:x,loading:y,error:b,refreshData:v}=(()=>{const[e,t]=(0,o.useState)([]),[r,n]=(0,o.useState)(!0),[a,s]=(0,o.useState)(null),l=(0,o.useCallback)(async()=>{try{n(!0),s(null);const e=((await cn.get("/api/skills?include_disabled=true")).data||{}).skills||[];console.log("Skills returned from API: ".concat(e.length));const r=e.map(e=>({name:e.name||"Unknown Skill",path:e.path,description:e.description||"",skill_md_url:e.skill_md_url||"",skill_md_raw_url:e.skill_md_raw_url||"",version:e.version,author:e.author,visibility:e.visibility||"public",is_enabled:void 0===e.is_enabled||e.is_enabled,tags:e.tags||[],owner:e.owner,registry_name:e.registry_name||"local",target_agents:e.target_agents||[],allowed_tools:e.allowed_tools||[],requirements:e.requirements||[],num_stars:e.num_stars||0,health_status:e.health_status||"unknown",last_checked_time:e.last_checked_time,created_at:e.created_at,updated_at:e.updated_at}));t(r)}catch(a){var e,r;console.error("Failed to fetch skills data:",a),s((null===(e=a.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.detail)||"Failed to fetch skills"),t([])}finally{n(!1)}},[]);return(0,o.useEffect)(()=>{l()},[l]),{skills:e,setSkills:t,loading:r,error:a,refreshData:l}})(),{virtualServers:D,loading:k,error:w,toggleVirtualServer:C,deleteVirtualServer:j,updateVirtualServer:F,refreshData:N}=Rg(),[E,A]=(0,o.useState)(void 0),[S,_]=(0,o.useState)(!1),{virtualServer:B,loading:T}=Pg(E),{user:L}=pn(),{config:R}=yo(),[P,O]=(0,o.useState)(""),[I,M]=(0,o.useState)(""),[z,U]=(0,o.useState)(!1),[H,V]=(0,o.useState)({name:"",path:"",proxyPass:"",description:"",official:!1,tags:[]}),[W,q]=(0,o.useState)(!1),[K,$]=(0,o.useState)(!1),[J,Q]=(0,o.useState)(null),[G,Y]=(0,o.useState)({name:"",path:"",proxyPass:"",description:"",tags:[],license:"N/A",num_tools:0,mcp_endpoint:"",metadata:"",auth_scheme:"none",auth_credential:"",auth_header_name:"X-API-Key"}),[Z,X]=(0,o.useState)(!1),[ee,te]=(0,o.useState)(null),[re,ne]=(0,o.useState)(null),[ae,se]=(0,o.useState)(null),[le,oe]=(0,o.useState)(null),[ue,ce]=(0,o.useState)("all"),[de,me]=(0,o.useState)({local:!0}),pe=(0,o.useCallback)(e=>{me(t=>qt(qt({},t),{},{[e]:!t[e]}))},[]),[he,ge]=(0,o.useState)({}),[fe,xe]=(0,o.useState)(null);(0,o.useEffect)(()=>{(async()=>{try{var e;const t=await cn.get("/api/peers"),r=(null===(e=t.data)||void 0===e?void 0:e.peers)||t.data||[],n={};r.forEach(e=>{e.peer_id&&e.endpoint&&(n[e.peer_id]=e.endpoint)}),ge(n)}catch(m){console.debug("Could not fetch peer registry endpoints:",m)}})()},[]);const ye=(0,o.useMemo)(()=>window.location.origin,[]),[be,ve]=(0,o.useState)({name:"",path:"",description:"",version:"",visibility:"private",trust_level:"community",tags:[]}),[De,ke]=(0,o.useState)(!1),[we,Ce]=(0,o.useState)(!1),[je,Fe]=(0,o.useState)(null),[Ne,Ee]=(0,o.useState)({name:"",description:"",skill_md_url:"",repository_url:"",version:"",visibility:"public",tags:"",target_agents:""}),[Ae,Se]=(0,o.useState)(!1),[_e,Be]=(0,o.useState)(null),[Te,Le]=(0,o.useState)(!0),[Re,Pe]=(0,o.useState)(!1),Oe=(0,o.useCallback)((e,t)=>{g(r=>r.map(r=>r.path===e?qt(qt({},r),t):r))},[g]),Ie=(0,o.useCallback)(async(e,t)=>{if(null===e||void 0===e||!e.path)return;const r=(e=>e?{Authorization:"Bearer ".concat(e)}:void 0)(t);try{var n,a;const t=await cn.post("/api/agents".concat(e.path,"/health"),void 0,r?{headers:r}:void 0);Oe(e.path,{status:(s=null===(n=t.data)||void 0===n?void 0:n.status,"healthy"===s||"healthy-auth-expired"===s?s:"unhealthy"===s?"unhealthy":"unknown"),last_checked_time:(null===(a=t.data)||void 0===a?void 0:a.last_checked_iso)||null})}catch(m){console.error("Failed to check health for agent ".concat(e.name,":"),m),Oe(e.path,{status:"unhealthy",last_checked_time:(new Date).toISOString()})}var s},[Oe]),Me=((0,o.useCallback)((e,t)=>{const r=e.filter(e=>e.enabled);r.length&&Promise.allSettled(r.map(e=>Ie(e,t))).catch(e=>{console.error("Failed to run agent health checks:",e)})},[Ie]),(0,o.useCallback)((e,t)=>{var r;const n=null===L||void 0===L||null===(r=L.ui_permissions)||void 0===r?void 0:r[e];if(!n)return!1;const a=t.replace(/^\//,"");return n.includes("all")||n.includes(a)},[null===L||void 0===L?void 0:L.ui_permissions])),ze=["anthropic-registry","workday-asor","asor","federated"],Ue=(0,o.useMemo)(()=>u.filter(e=>{const t=e.tags||[];return!ze.some(e=>t.includes(e))}),[u]),He=(0,o.useMemo)(()=>u.filter(e=>{const t=e.tags||[];return ze.some(e=>t.includes(e))}),[u]),Ve=(0,o.useMemo)(()=>c.map(e=>({name:e.name,path:e.path,description:e.description,enabled:e.enabled,tags:e.tags,rating:e.rating,status:e.status,last_checked_time:e.last_checked_time,usersCount:e.usersCount,url:"",version:"",visibility:"public",trust_level:"community",sync_metadata:e.sync_metadata,registered_by:e.registered_by})),[c]),We=(0,o.useMemo)(()=>Ve.filter(e=>{const t=e.tags||[];return!ze.some(e=>t.includes(e))}),[Ve]),qe=(0,o.useMemo)(()=>Ve.filter(e=>{const t=e.tags||[];return ze.some(e=>t.includes(e))}),[Ve]),Ke=(0,o.useMemo)(()=>{const e={local:[]};return Ue.forEach(t=>{var r,n;if(null!==(r=t.sync_metadata)&&void 0!==r&&r.is_federated&&null!==(n=t.sync_metadata)&&void 0!==n&&n.source_peer_id){const r=t.sync_metadata.source_peer_id;e[r]||(e[r]=[]),e[r].push(t)}else e.local.push(t)}),e},[Ue]),$e=(0,o.useMemo)(()=>["local",...Object.keys(Ke).filter(e=>"local"!==e).sort()],[Ke]),Je=(0,o.useMemo)(()=>{const e={local:[]};return We.forEach(t=>{var r,n;if(null!==(r=t.sync_metadata)&&void 0!==r&&r.is_federated&&null!==(n=t.sync_metadata)&&void 0!==n&&n.source_peer_id){const r=t.sync_metadata.source_peer_id;e[r]||(e[r]=[]),e[r].push(t)}else e.local.push(t)}),e},[We]),Qe=(0,o.useMemo)(()=>["local",...Object.keys(Je).filter(e=>"local"!==e).sort()],[Je]),Ge=I.trim().length>=2,{results:Ye,loading:Ze,error:Xe}=function(e){var t,r,n,a,s,l;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const[u,c]=(0,o.useState)(null),[d,m]=(0,o.useState)(!1),[p,h]=(0,o.useState)(null),[g,f]=(0,o.useState)(""),x=null===(t=i.enabled)||void 0===t||t,y=null!==(r=i.minLength)&&void 0!==r?r:2,b=null!==(n=i.maxResults)&&void 0!==n?n:10,v=null!==(a=i.entityTypes)&&void 0!==a?a:Bg,D=null!==(s=null===(l=i.entityTypes)||void 0===l?void 0:l.join("|"))&&void 0!==s?s:Tg;return(0,o.useEffect)(()=>{const t=setTimeout(()=>{f(e.trim())},350);return()=>clearTimeout(t)},[e]),(0,o.useEffect)(()=>{if(!x||g.length<y)return c(null),h(null),void m(!1);let e=!1;const t=new AbortController;return(async()=>{m(!0),h(null);try{const r=await cn.post("/api/search/semantic",{query:g,entity_types:v,max_results:b},{signal:t.signal});e||c(r.data)}catch(a){var r,n;if(cn.isCancel(a)||e)return;const t=(null===(r=a.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.detail)||a.message||"Semantic search failed.";h(t),c(null)}finally{e||m(!1)}})(),()=>{e=!0,t.abort()}},[g,x,y,b,D]),{results:u,loading:d,error:p,debouncedQuery:g}}(I,{minLength:2,maxResults:12,enabled:Ge}),et=null!==(t=null===Ye||void 0===Ye?void 0:Ye.servers)&&void 0!==t?t:[],tt=null!==(r=null===Ye||void 0===Ye?void 0:Ye.tools)&&void 0!==r?r:[],rt=null!==(n=null===Ye||void 0===Ye?void 0:Ye.agents)&&void 0!==n?n:[],nt=null!==(a=null===Ye||void 0===Ye?void 0:Ye.skills)&&void 0!==a?a:[],at=null!==(s=null===Ye||void 0===Ye?void 0:Ye.virtual_servers)&&void 0!==s?s:[],st=(null===Ye||void 0===Ye?void 0:Ye.query)||I||P,lt=Ge,ot=lt&&(Boolean(Xe)||!Ze&&0===et.length&&0===tt.length&&0===rt.length&&0===nt.length&&0===at.length),it=(0,o.useMemo)(()=>{let e=Ue;if("enabled"===l?e=e.filter(e=>e.enabled):"disabled"===l?e=e.filter(e=>!e.enabled):"unhealthy"===l&&(e=e.filter(e=>"unhealthy"===e.status)),P){const t=P.toLowerCase();e=e.filter(e=>e.name.toLowerCase().includes(t)||(e.description||"").toLowerCase().includes(t)||e.path.toLowerCase().includes(t)||(e.tags||[]).some(e=>e.toLowerCase().includes(t)))}return e},[Ue,l,P]),ut=(0,o.useMemo)(()=>{let e=He;if(P){const t=P.toLowerCase();e=e.filter(e=>e.name.toLowerCase().includes(t)||(e.description||"").toLowerCase().includes(t)||e.path.toLowerCase().includes(t)||(e.tags||[]).some(e=>e.toLowerCase().includes(t)))}return e},[He,P]),ct=(0,o.useMemo)(()=>{let e=qe;if(P){const t=P.toLowerCase();e=e.filter(e=>e.name.toLowerCase().includes(t)||(e.description||"").toLowerCase().includes(t)||e.path.toLowerCase().includes(t)||(e.tags||[]).some(e=>e.toLowerCase().includes(t)))}return e},[qe,P]),dt=(0,o.useMemo)(()=>{let e=We;if("enabled"===l?e=e.filter(e=>e.enabled):"disabled"===l?e=e.filter(e=>!e.enabled):"unhealthy"===l&&(e=e.filter(e=>"unhealthy"===e.status)),P){const t=P.toLowerCase();e=e.filter(e=>e.name.toLowerCase().includes(t)||(e.description||"").toLowerCase().includes(t)||e.path.toLowerCase().includes(t)||(e.tags||[]).some(e=>e.toLowerCase().includes(t)))}return e},[We,l,P]),mt=(0,o.useMemo)(()=>{let e=f;if("enabled"===l?e=e.filter(e=>e.is_enabled):"disabled"===l&&(e=e.filter(e=>!e.is_enabled)),P){const t=P.toLowerCase();e=e.filter(e=>e.name.toLowerCase().includes(t)||(e.description||"").toLowerCase().includes(t)||e.path.toLowerCase().includes(t)||(e.tags||[]).some(e=>e.toLowerCase().includes(t))||(e.author||"").toLowerCase().includes(t))}return e},[f,l,P]),pt=(0,o.useMemo)(()=>{let e=D;if("enabled"===l?e=e.filter(e=>e.is_enabled):"disabled"===l&&(e=e.filter(e=>!e.is_enabled)),P){const t=P.toLowerCase();e=e.filter(e=>e.server_name.toLowerCase().includes(t)||(e.description||"").toLowerCase().includes(t)||e.path.toLowerCase().includes(t)||(e.tags||[]).some(e=>e.toLowerCase().includes(t)))}return e},[D,l,P]),ht=(0,o.useCallback)(async(e,t)=>{try{await C(e,t),Lt("Virtual server ".concat(t?"enabled":"disabled"," successfully"),"success")}catch(r){console.error("Failed to toggle virtual server:",r),Lt("Failed to toggle virtual server","error")}},[C]),[gt,ft]=(0,o.useState)(null),[xt,yt]=(0,o.useState)(""),[bt,vt]=(0,o.useState)(!1),Dt=(0,o.useCallback)(e=>{const t=D.find(t=>t.path===e);t&&(ft(t),yt(""))},[D]),kt=(0,o.useCallback)(async()=>{if(gt&&xt===gt.server_name){vt(!0);try{await j(gt.path),Lt("Virtual server deleted successfully","success"),ft(null),yt("")}catch(e){console.error("Failed to delete virtual server:",e),Lt("Failed to delete virtual server","error")}finally{vt(!1)}}},[gt,xt,j]),wt=(0,o.useCallback)(e=>{A(e.path),_(!0)},[]),Ct=(0,o.useCallback)(async e=>{if(E)try{await F(E,e),Lt("Virtual server updated successfully","success"),_(!1),A(void 0),N()}catch(t){const e=t instanceof Error?t.message:"An unexpected error occurred";Lt("Failed to save virtual server: ".concat(e),"error")}},[E,F,N]),jt=(0,o.useCallback)(()=>{_(!1),A(void 0)},[]);console.log("Dashboard filtering debug:"),console.log("Current user:",L),console.log("Total servers from hook: ".concat(u.length)),console.log("Total agents from API: ".concat(Ve.length)),console.log("Active filter: ".concat(l)),console.log('Search term: "'.concat(P,'"')),console.log("Filtered servers: ".concat(it.length)),console.log("Filtered agents: ".concat(dt.length)),(0,o.useEffect)(()=>{0===P.trim().length&&I.length>0&&M("")},[P,I]);const Ft=(0,o.useCallback)(()=>{const e=P.trim();M(e)},[P]),Nt=(0,o.useCallback)(()=>{O(""),M("")},[]),Et=(0,o.useCallback)(e=>{ce(e),lt&&(O(""),M(""))},[lt]),At=async()=>{$(!0);try{await p()}finally{$(!1)}},St=async(e,t)=>{t.stopPropagation(),xe(e);try{await cn.post("/api/peers/".concat(e,"/sync")),te({message:"Synced from ".concat(e," successfully"),type:"success"}),await p()}catch(m){console.error("Failed to sync peer:",m),te({message:"Failed to sync from ".concat(e),type:"error"})}finally{xe(null)}},_t=(0,o.useCallback)(async e=>{try{const t=(await cn.get("/api/server_details".concat(e.path))).data;Q(e),Y({name:t.server_name||e.name,path:e.path,proxyPass:t.proxy_pass_url||"",description:t.description||"",tags:t.tags||[],license:t.license||"N/A",num_tools:t.num_tools||0,mcp_endpoint:t.mcp_endpoint||"",metadata:t.metadata?JSON.stringify(t.metadata,null,2):"",auth_scheme:t.auth_scheme||"none",auth_credential:"",auth_header_name:t.auth_header_name||"X-API-Key"})}catch(m){console.error("Failed to fetch server details:",m),Q(e),Y({name:e.name,path:e.path,proxyPass:"",description:e.description||"",tags:e.tags||[],license:"N/A",num_tools:e.num_tools||0,mcp_endpoint:e.mcp_endpoint||"",metadata:e.metadata?JSON.stringify(e.metadata,null,2):"",auth_scheme:e.auth_scheme||"none",auth_credential:"",auth_header_name:e.auth_header_name||"X-API-Key"})}},[]),Bt=(0,o.useCallback)(async e=>{se(e),ve({name:e.name,path:e.path,description:e.description||"",version:e.version||"1.0.0",visibility:e.visibility||"private",trust_level:e.trust_level||"community",tags:e.tags||[]})},[]),Tt=()=>{Q(null),se(null)},Lt=(0,o.useCallback)((e,t)=>{te({message:e,type:"info"===t?"success":t})},[]),Rt=(0,o.useCallback)(()=>{te(null)},[]),Pt=(0,o.useCallback)(async(e,t)=>{h(r=>r.map(r=>r.path===e?qt(qt({},r),{},{enabled:t}):r));try{const r=new FormData;r.append("enabled",t?"on":"off"),await cn.post("/api/toggle".concat(e),r,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}),Lt("Server ".concat(t?"enabled":"disabled"," successfully!"),"success")}catch(m){var r,n;console.error("Failed to toggle server:",m),h(r=>r.map(r=>r.path===e?qt(qt({},r),{},{enabled:!t}):r)),Lt((null===(r=m.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.detail)||"Failed to toggle server","error")}},[h,Lt]),Ot=(0,o.useCallback)(async e=>{const t=new FormData;t.append("path",e),await cn.post("/api/servers/remove",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}),h(t=>t.filter(t=>t.path!==e)),Lt("Server deleted successfully","success")},[h,Lt]),It=(0,o.useCallback)(async e=>{await cn.delete("/api/agents".concat(e)),g(t=>t.filter(t=>t.path!==e)),Lt("Agent deleted successfully","success")},[g,Lt]),Mt=(0,o.useCallback)(async(e,t)=>{g(r=>r.map(r=>r.path===e?qt(qt({},r),{},{enabled:t}):r));try{await cn.post("/api/agents".concat(e,"/toggle?enabled=").concat(t)),Lt("Agent ".concat(t?"enabled":"disabled"," successfully!"),"success")}catch(m){var r,n;console.error("Failed to toggle agent:",m),g(r=>r.map(r=>r.path===e?qt(qt({},r),{},{enabled:!t}):r)),Lt((null===(r=m.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.detail)||"Failed to toggle agent","error")}},[g,Lt]),zt=(0,o.useCallback)((e,t)=>{h(r=>r.map(r=>r.path===e?qt(qt({},r),t):r))},[h]),Ut=(0,o.useCallback)(async(e,t)=>{x(r=>r.map(r=>r.path===e?qt(qt({},r),{},{is_enabled:t}):r));try{const r=e.startsWith("/skills/")?e.replace("/skills/","/"):e;await cn.post("/api/skills".concat(r,"/toggle"),{enabled:t}),Lt("Skill ".concat(t?"enabled":"disabled"," successfully!"),"success")}catch(m){var r,n;console.error("Failed to toggle skill:",m),x(r=>r.map(r=>r.path===e?qt(qt({},r),{},{is_enabled:!t}):r)),Lt((null===(r=m.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.detail)||"Failed to toggle skill","error")}},[x,Lt]),Ht=(0,o.useCallback)((e,t)=>{x(r=>r.map(r=>r.path===e?qt(qt({},r),t):r))},[x]),Vt=(0,o.useCallback)(e=>{e?(Fe(e),Le(!1),Ee({name:e.name,description:e.description||"",skill_md_url:e.skill_md_url||"",repository_url:"",version:e.version||"",visibility:e.visibility||"public",tags:(e.tags||[]).join(", "),target_agents:(e.target_agents||[]).join(", ")})):(Fe(null),Le(!0),Ee({name:"",description:"",skill_md_url:"",repository_url:"",version:"",visibility:"public",tags:"",target_agents:""})),Ce(!0)},[]),Wt=(0,o.useCallback)(()=>{Ce(!1),Fe(null)},[]),Kt=(0,o.useCallback)(async()=>{if(Ne.skill_md_url&&!Re)try{Pe(!0);const e=(await cn.post("/api/skills/parse-skill-md?url=".concat(encodeURIComponent(Ne.skill_md_url)))).data;e.success?(Ee(t=>{var r;return qt(qt({},t),{},{name:e.name_slug||t.name,description:e.description||t.description,version:e.version||t.version,tags:(null===(r=e.tags)||void 0===r?void 0:r.length)>0?e.tags.join(", "):t.tags})}),Lt("Parsed SKILL.md successfully!","success")):Lt("Failed to parse SKILL.md","error")}catch(m){var e,t;console.error("Failed to parse SKILL.md:",m),Lt((null===(e=m.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to parse SKILL.md","error")}finally{Pe(!1)}},[Ne.skill_md_url,Re,Lt]),$t=(0,o.useCallback)(async e=>{if(e.preventDefault(),Ae)return;if(/^[a-z0-9]+(-[a-z0-9]+)*$/.test(Ne.name))try{Se(!0);const e=e=>e.split(",").map(e=>e.trim()).filter(e=>e.length>0),t={name:Ne.name,description:Ne.description,skill_md_url:Ne.skill_md_url,repository_url:Ne.repository_url||void 0,version:Ne.version||void 0,visibility:Ne.visibility,tags:e(Ne.tags),target_agents:e(Ne.target_agents)};je?(await cn.put("/api/skills".concat(je.path),t),Lt("Skill updated successfully!","success")):(await cn.post("/api/skills",t),Lt("Skill registered successfully!","success")),await v(),Wt()}catch(m){var t,r;console.error("Failed to save skill:",m);const n=(null===(t=m.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to save skill";Lt(n,"error")}finally{Se(!1)}else Lt('Name must be lowercase letters, numbers, and hyphens only (e.g., "my-skill-name")',"error")},[Ne,Ae,je,v,Lt,Wt]),Jt=(0,o.useCallback)(e=>{Vt(e)},[Vt]),Qt=(0,o.useCallback)(async e=>{try{await cn.delete("/api/skills".concat(e)),x(t=>t.filter(t=>t.path!==e)),Lt("Skill deleted successfully","success"),Be(null)}catch(m){var t,r;console.error("Failed to delete skill:",m),Lt((null===(t=m.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to delete skill","error")}},[x,Lt]),Gt=(0,o.useCallback)(()=>{i("/servers/register")},[i]),Yt=(0,o.useCallback)(async e=>{if(e.preventDefault(),!W)try{q(!0);const e=new FormData;e.append("name",H.name),e.append("description",H.description),e.append("path",H.path),e.append("proxy_pass_url",H.proxyPass),e.append("tags",H.tags.join(",")),e.append("license","MIT"),await cn.post("/api/register",e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}),V({name:"",path:"",proxyPass:"",description:"",official:!1,tags:[]}),U(!1),await p(),Lt("Server registered successfully!","success")}catch(m){var t,r;console.error("Failed to register server:",m),Lt((null===(t=m.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to register server","error")}finally{q(!1)}},[H,W,p,Lt]),Zt=()=>(0,dn.jsxs)(dn.Fragment,{children:[!1!==(null===R||void 0===R?void 0:R.features.mcp_servers)&&("all"===ue||"servers"===ue)&&(0,dn.jsxs)("div",{className:"mb-8",children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,dn.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"MCP Servers"}),$e.length>1&&it.length>0&&(0,dn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dn.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400 mr-1",children:"Jump to:"}),$e.map(e=>{const t=(Ke[e]||[]).length;if(0===t)return null;const r="local"===e?"Local":e.replace("peer-registry-","").replace("peer-","").toUpperCase(),n="local"===e;return(0,dn.jsxs)("button",{onClick:()=>{const t={};$e.forEach(r=>{t[r]=r===e}),Qe.forEach(r=>{t["agents-".concat(r)]=r===e}),me(e=>qt(qt({},e),t));const r=document.getElementById("server-registry-".concat(e));r&&r.scrollIntoView({behavior:"smooth",block:"start"})},className:"px-3 py-1.5 text-xs font-medium rounded-full transition-all hover:scale-105 ".concat(n?"bg-green-100 text-green-700 hover:bg-green-200 dark:bg-green-900/30 dark:text-green-300 dark:hover:bg-green-900/50 border border-green-200 dark:border-green-700":"bg-cyan-100 text-cyan-700 hover:bg-cyan-200 dark:bg-cyan-900/30 dark:text-cyan-300 dark:hover:bg-cyan-900/50 border border-cyan-200 dark:border-cyan-700"),children:[r,(0,dn.jsx)("span",{className:"ml-1.5 px-1.5 py-0.5 text-[10px] bg-white/50 dark:bg-black/20 rounded-full",children:t})]},e)}),(0,dn.jsx)("div",{className:"border-l border-gray-300 dark:border-gray-600 pl-2 ml-1",children:(0,dn.jsx)("button",{onClick:()=>{const e=$e.every(e=>!1!==de[e]),t={};$e.forEach(r=>{t[r]=!e}),me(e=>qt(qt({},e),t))},className:"px-2 py-1 text-xs text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",title:$e.every(e=>!1!==de[e])?"Collapse all":"Expand all",children:$e.every(e=>!1!==de[e])?"Collapse All":"Expand All"})})]})]}),0===it.length?(0,dn.jsxs)("div",{className:"text-center py-12 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,dn.jsx)("div",{className:"text-gray-400 text-lg mb-2",children:"No servers found"}),(0,dn.jsx)("p",{className:"text-gray-500 dark:text-gray-300 text-sm",children:P||"all"!==l?"Press Enter in the search bar to search semantically":"No servers are registered yet"}),!P&&"all"===l&&(0,dn.jsxs)("button",{onClick:Gt,className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 transition-colors",children:[(0,dn.jsx)(So,{className:"h-4 w-4 mr-2"}),"Register Server"]})]}):(0,dn.jsx)("div",{className:"space-y-6",children:$e.map(e=>{const t=Ke[e]||[];let r=t;if("enabled"===l?r=t.filter(e=>e.enabled):"disabled"===l?r=t.filter(e=>!e.enabled):"unhealthy"===l&&(r=t.filter(e=>"unhealthy"===e.status)),P){const e=P.toLowerCase();r=r.filter(t=>t.name.toLowerCase().includes(e)||(t.description||"").toLowerCase().includes(e)||t.path.toLowerCase().includes(e)||(t.tags||[]).some(t=>t.toLowerCase().includes(e)))}if(0===r.length)return null;const n=!1!==de[e],a="local"===e?"Local Registry":e.replace("peer-registry-","").replace("peer-","").toUpperCase()+" (Federated)";return $e.length>1||"local"!==e?(0,dn.jsxs)("div",{id:"server-registry-".concat(e),className:"border border-gray-200 dark:border-gray-700 rounded-xl scroll-mt-4",children:[(0,dn.jsx)("button",{onClick:()=>pe(e),className:"w-full flex items-center justify-between px-4 py-3 text-left transition-colors ".concat("local"===e?"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 hover:from-green-100 hover:to-emerald-100 dark:hover:from-green-900/30 dark:hover:to-emerald-900/30":"bg-gradient-to-r from-cyan-50 to-blue-50 dark:from-cyan-900/20 dark:to-blue-900/20 hover:from-cyan-100 hover:to-blue-100 dark:hover:from-cyan-900/30 dark:hover:to-blue-900/30"),children:(0,dn.jsxs)("div",{className:"flex items-center gap-3",children:[n?(0,dn.jsx)(Cs,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"}):(0,dn.jsx)(To,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"}),(0,dn.jsx)("span",{className:"font-semibold ".concat("local"===e?"text-green-700 dark:text-green-300":"text-cyan-700 dark:text-cyan-300"),children:a}),(0,dn.jsxs)("span",{className:"text-xs text-gray-400 dark:text-gray-500 font-mono truncate max-w-[200px] lg:max-w-[300px]",title:"local"===e?ye:he[e],children:["| ","local"===e?ye:he[e]||"Loading..."]}),(0,dn.jsx)("span",{className:"px-2 py-0.5 text-xs font-medium bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded-full",children:"local"===e?"".concat(r.length+pt.length," server").concat(r.length+pt.length!==1?"s":""):"".concat(r.length," server").concat(1!==r.length?"s":"")}),"local"!==e&&(0,dn.jsx)("button",{onClick:t=>St(e,t),disabled:fe===e,className:"ml-2 p-1 text-cyan-600 dark:text-cyan-400 hover:text-cyan-800 dark:hover:text-cyan-200 hover:bg-cyan-100 dark:hover:bg-cyan-900/30 rounded-lg transition-colors disabled:opacity-50",title:"Resync from ".concat(he[e]||e),children:(0,dn.jsx)(Po,{className:"h-4 w-4 ".concat(fe===e?"animate-spin":"")})})]})}),n&&(0,dn.jsx)("div",{className:"p-4 bg-white dark:bg-gray-800 overflow-visible",children:(0,dn.jsxs)("div",{className:"grid overflow-visible",style:{gridTemplateColumns:"repeat(auto-fit, minmax(380px, 1fr))",gap:"clamp(1.5rem, 3vw, 2.5rem)"},children:[r.map(e=>{var t;return(0,dn.jsx)(Ti,{server:e,onToggle:Pt,onEdit:_t,canModify:(null===L||void 0===L?void 0:L.can_modify_servers)||!1,canHealthCheck:(null===L||void 0===L?void 0:L.is_admin)||Me("health_check_service",e.path),canToggle:(null===L||void 0===L?void 0:L.is_admin)||Me("toggle_service",e.path),canDelete:((null===L||void 0===L?void 0:L.is_admin)||Me("delete_service",e.path))&&!(null!==(t=e.sync_metadata)&&void 0!==t&&t.is_federated),onDelete:Ot,onRefreshSuccess:p,onShowToast:Lt,onServerUpdate:zt,authToken:le},e.path)}),"local"===e&&pt.map(e=>(0,dn.jsx)(Cg,{virtualServer:e,canModify:(null===L||void 0===L?void 0:L.can_modify_servers)||(null===L||void 0===L?void 0:L.is_admin)||!1,onToggle:ht,onEdit:wt,onDelete:Dt,onShowToast:Lt,authToken:le},e.path))]})})]},e):(0,dn.jsx)("div",{className:"overflow-visible",children:(0,dn.jsxs)("div",{className:"grid overflow-visible",style:{gridTemplateColumns:"repeat(auto-fit, minmax(380px, 1fr))",gap:"clamp(1.5rem, 3vw, 2.5rem)"},children:[r.map(e=>{var t;return(0,dn.jsx)(Ti,{server:e,onToggle:Pt,onEdit:_t,canModify:(null===L||void 0===L?void 0:L.can_modify_servers)||!1,canHealthCheck:(null===L||void 0===L?void 0:L.is_admin)||Me("health_check_service",e.path),canToggle:(null===L||void 0===L?void 0:L.is_admin)||Me("toggle_service",e.path),canDelete:((null===L||void 0===L?void 0:L.is_admin)||Me("delete_service",e.path))&&!(null!==(t=e.sync_metadata)&&void 0!==t&&t.is_federated),onDelete:Ot,onRefreshSuccess:p,onShowToast:Lt,onServerUpdate:zt,authToken:le},e.path)}),pt.map(e=>(0,dn.jsx)(Cg,{virtualServer:e,canModify:(null===L||void 0===L?void 0:L.can_modify_servers)||(null===L||void 0===L?void 0:L.is_admin)||!1,onToggle:ht,onEdit:wt,onDelete:Dt,onShowToast:Lt,authToken:le},e.path))]})},e)})})]}),!1!==(null===R||void 0===R?void 0:R.features.agents)&&("all"===ue||"agents"===ue)&&(0,dn.jsxs)("div",{className:"mb-8",children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,dn.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"A2A Agents"}),Qe.length>1&&dt.length>0&&(0,dn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dn.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400 mr-1",children:"Jump to:"}),Qe.map(e=>{const t=(Je[e]||[]).length;if(0===t)return null;const r="local"===e?"Local":e.replace("peer-registry-","").replace("peer-","").toUpperCase(),n="local"===e;return(0,dn.jsxs)("button",{onClick:()=>{const t={};Qe.forEach(r=>{t["agents-".concat(r)]=r===e}),$e.forEach(r=>{t[r]=r===e}),me(e=>qt(qt({},e),t));const r=document.getElementById("agent-registry-".concat(e));r&&r.scrollIntoView({behavior:"smooth",block:"start"})},className:"px-3 py-1.5 text-xs font-medium rounded-full transition-all hover:scale-105 ".concat(n?"bg-green-100 text-green-700 hover:bg-green-200 dark:bg-green-900/30 dark:text-green-300 dark:hover:bg-green-900/50 border border-green-200 dark:border-green-700":"bg-violet-100 text-violet-700 hover:bg-violet-200 dark:bg-violet-900/30 dark:text-violet-300 dark:hover:bg-violet-900/50 border border-violet-200 dark:border-violet-700"),children:[r,(0,dn.jsx)("span",{className:"ml-1.5 px-1.5 py-0.5 text-[10px] bg-white/50 dark:bg-black/20 rounded-full",children:t})]},e)})]})]}),re?(0,dn.jsxs)("div",{className:"text-center py-12 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[(0,dn.jsx)("div",{className:"text-red-500 text-lg mb-2",children:"Failed to load agents"}),(0,dn.jsx)("p",{className:"text-red-600 dark:text-red-400 text-sm",children:re})]}):d?(0,dn.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,dn.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-600"})}):0===dt.length?(0,dn.jsxs)("div",{className:"text-center py-12 bg-cyan-50 dark:bg-cyan-900/20 rounded-lg border border-cyan-200 dark:border-cyan-800",children:[(0,dn.jsx)("div",{className:"text-gray-400 text-lg mb-2",children:"No agents found"}),(0,dn.jsx)("p",{className:"text-gray-500 dark:text-gray-300 text-sm",children:P||"all"!==l?"Press Enter in the search bar to search semantically":"No agents are registered yet"})]}):(0,dn.jsx)("div",{className:"space-y-6",children:Qe.map(e=>{const t=Je[e]||[];let r=t;if("enabled"===l?r=t.filter(e=>e.enabled):"disabled"===l?r=t.filter(e=>!e.enabled):"unhealthy"===l&&(r=t.filter(e=>"unhealthy"===e.status)),P){const e=P.toLowerCase();r=r.filter(t=>t.name.toLowerCase().includes(e)||(t.description||"").toLowerCase().includes(e)||t.path.toLowerCase().includes(e)||(t.tags||[]).some(t=>t.toLowerCase().includes(e)))}if(0===r.length)return null;const n=!1!==de["agents-".concat(e)],a="local"===e?"Local Registry":e.replace("peer-registry-","").replace("peer-","").toUpperCase()+" (Federated)";return Qe.length>1||"local"!==e?(0,dn.jsxs)("div",{id:"agent-registry-".concat(e),className:"border border-cyan-200 dark:border-cyan-700 rounded-xl overflow-hidden scroll-mt-4",children:[(0,dn.jsx)("button",{onClick:()=>pe("agents-".concat(e)),className:"w-full flex items-center justify-between px-4 py-3 text-left transition-colors ".concat("local"===e?"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 hover:from-green-100 hover:to-emerald-100 dark:hover:from-green-900/30 dark:hover:to-emerald-900/30":"bg-gradient-to-r from-violet-50 to-purple-50 dark:from-violet-900/20 dark:to-purple-900/20 hover:from-violet-100 hover:to-purple-100 dark:hover:from-violet-900/30 dark:hover:to-purple-900/30"),children:(0,dn.jsxs)("div",{className:"flex items-center gap-3",children:[n?(0,dn.jsx)(Cs,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"}):(0,dn.jsx)(To,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"}),(0,dn.jsx)("span",{className:"font-semibold ".concat("local"===e?"text-green-700 dark:text-green-300":"text-violet-700 dark:text-violet-300"),children:a}),(0,dn.jsxs)("span",{className:"text-xs text-gray-400 dark:text-gray-500 font-mono truncate max-w-[200px] lg:max-w-[300px]",title:"local"===e?ye:he[e],children:["| ","local"===e?ye:he[e]||"Loading..."]}),(0,dn.jsxs)("span",{className:"px-2 py-0.5 text-xs font-medium bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded-full",children:[r.length," agent",1!==r.length?"s":""]}),"local"!==e&&(0,dn.jsx)("button",{onClick:t=>St(e,t),disabled:fe===e,className:"ml-2 p-1 text-violet-600 dark:text-violet-400 hover:text-violet-800 dark:hover:text-violet-200 hover:bg-violet-100 dark:hover:bg-violet-900/30 rounded-lg transition-colors disabled:opacity-50",title:"Resync from ".concat(he[e]||e),children:(0,dn.jsx)(Po,{className:"h-4 w-4 ".concat(fe===e?"animate-spin":"")})})]})}),n&&(0,dn.jsx)("div",{className:"p-4 bg-white dark:bg-gray-800 overflow-visible",children:(0,dn.jsx)("div",{className:"grid overflow-visible",style:{gridTemplateColumns:"repeat(auto-fit, minmax(380px, 1fr))",gap:"clamp(1.5rem, 3vw, 2.5rem)"},children:r.map(e=>{var t;return(0,dn.jsx)(Ji,{agent:e,onToggle:Mt,onEdit:Bt,canModify:(null===L||void 0===L?void 0:L.can_modify_servers)||!1,canHealthCheck:(null===L||void 0===L?void 0:L.is_admin)||Me("health_check_agent",e.path),canToggle:(null===L||void 0===L?void 0:L.is_admin)||Me("toggle_agent",e.path),canDelete:((null===L||void 0===L?void 0:L.is_admin)||Me("delete_agent",e.path)||e.registered_by===(null===L||void 0===L?void 0:L.username))&&!(null!==(t=e.sync_metadata)&&void 0!==t&&t.is_federated),onDelete:It,onRefreshSuccess:p,onShowToast:Lt,onAgentUpdate:Oe,authToken:le},e.path)})})})]},e):(0,dn.jsx)("div",{className:"overflow-visible",children:(0,dn.jsx)("div",{className:"grid overflow-visible",style:{gridTemplateColumns:"repeat(auto-fit, minmax(380px, 1fr))",gap:"clamp(1.5rem, 3vw, 2.5rem)"},children:r.map(e=>{var t;return(0,dn.jsx)(Ji,{agent:e,onToggle:Mt,onEdit:Bt,canModify:(null===L||void 0===L?void 0:L.can_modify_servers)||!1,canHealthCheck:(null===L||void 0===L?void 0:L.is_admin)||Me("health_check_agent",e.path),canToggle:(null===L||void 0===L?void 0:L.is_admin)||Me("toggle_agent",e.path),canDelete:((null===L||void 0===L?void 0:L.is_admin)||Me("delete_agent",e.path)||e.registered_by===(null===L||void 0===L?void 0:L.username))&&!(null!==(t=e.sync_metadata)&&void 0!==t&&t.is_federated),onDelete:It,onRefreshSuccess:p,onShowToast:Lt,onAgentUpdate:Oe,authToken:le},e.path)})})},e)})})]}),!1!==(null===R||void 0===R?void 0:R.features.skills)&&("all"===ue||"skills"===ue)&&(0,dn.jsxs)("div",{className:"mb-8",children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,dn.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Agent Skills"}),(null===L||void 0===L?void 0:L.can_modify_servers)&&(0,dn.jsxs)("button",{onClick:()=>Vt(),className:"inline-flex items-center px-3 py-1.5 text-sm font-medium text-white bg-amber-600 hover:bg-amber-700 rounded-lg transition-colors",children:[(0,dn.jsx)(So,{className:"h-4 w-4 mr-1"}),"Add Skill"]})]}),b?(0,dn.jsxs)("div",{className:"text-center py-12 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[(0,dn.jsx)("div",{className:"text-red-500 text-lg mb-2",children:"Failed to load skills"}),(0,dn.jsx)("p",{className:"text-red-600 dark:text-red-400 text-sm",children:b})]}):y?(0,dn.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,dn.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-amber-600"})}):0===mt.length?(0,dn.jsxs)("div",{className:"text-center py-12 bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-800",children:[(0,dn.jsx)("div",{className:"text-gray-400 text-lg mb-2",children:"No skills found"}),(0,dn.jsx)("p",{className:"text-gray-500 dark:text-gray-300 text-sm",children:P||"all"!==l?"Press Enter in the search bar to search semantically":"No skills are registered yet"}),!P&&"all"===l&&(null===L||void 0===L?void 0:L.can_modify_servers)&&(0,dn.jsxs)("button",{onClick:()=>Vt(),className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg text-white bg-amber-600 hover:bg-amber-700 transition-colors",children:[(0,dn.jsx)(So,{className:"h-4 w-4 mr-2"}),"Register Skill"]})]}):(0,dn.jsx)("div",{className:"grid",style:{gridTemplateColumns:"repeat(auto-fit, minmax(380px, 1fr))",gap:"clamp(1.5rem, 3vw, 2.5rem)"},children:mt.map(e=>(0,dn.jsx)(wg,{skill:e,onToggle:Ut,onEdit:Jt,onDelete:e=>Be(e),canModify:(null===L||void 0===L?void 0:L.can_modify_servers)||!1,canToggle:(null===L||void 0===L?void 0:L.is_admin)||Me("toggle_skill",e.path),onRefreshSuccess:v,onShowToast:Lt,onSkillUpdate:Ht,authToken:le},e.path))})]}),("all"===ue||"virtual"===ue)&&(pt.length>0||"virtual"===ue)&&(0,dn.jsxs)("div",{className:"mb-8",children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,dn.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Virtual MCP Servers"}),((null===L||void 0===L?void 0:L.can_modify_servers)||(null===L||void 0===L?void 0:L.is_admin))&&(0,dn.jsxs)("button",{onClick:()=>i("/settings/virtual-mcp/servers"),className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-teal-600 hover:bg-teal-700 rounded-lg transition-colors",children:[(0,dn.jsx)(So,{className:"h-4 w-4 mr-2"}),"Add Virtual Server"]})]}),w?(0,dn.jsxs)("div",{className:"text-center py-12 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[(0,dn.jsx)("div",{className:"text-red-500 text-lg mb-2",children:"Failed to load virtual servers"}),(0,dn.jsx)("p",{className:"text-red-600 dark:text-red-400 text-sm",children:w})]}):k?(0,dn.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,dn.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-teal-600"})}):0===pt.length?(0,dn.jsxs)("div",{className:"text-center py-12 bg-teal-50 dark:bg-teal-900/20 rounded-lg border border-teal-200 dark:border-teal-800",children:[(0,dn.jsx)("div",{className:"text-gray-400 text-lg mb-2",children:"No virtual servers found"}),(0,dn.jsx)("p",{className:"text-gray-500 dark:text-gray-300 text-sm",children:P||"all"!==l?"Try adjusting your search or filter":"No virtual servers are configured yet"})]}):(0,dn.jsx)("div",{className:"grid",style:{gridTemplateColumns:"repeat(auto-fit, minmax(380px, 1fr))",gap:"clamp(1.5rem, 3vw, 2.5rem)"},children:pt.map(e=>(0,dn.jsx)(Cg,{virtualServer:e,canModify:(null===L||void 0===L?void 0:L.can_modify_servers)||(null===L||void 0===L?void 0:L.is_admin)||!1,onToggle:ht,onEdit:wt,onDelete:Dt,onShowToast:Lt,authToken:le},e.path))})]}),!1!==(null===R||void 0===R?void 0:R.features.federation)&&"external"===ue&&(0,dn.jsxs)("div",{className:"mb-8",children:[(0,dn.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"External Registries"}),0===ut.length&&0===ct.length?(0,dn.jsxs)("div",{className:"text-center py-12 bg-gray-50 dark:bg-gray-800 rounded-lg border border-dashed border-gray-300 dark:border-gray-600",children:[(0,dn.jsx)("div",{className:"text-gray-400 text-lg mb-2",children:0===He.length&&0===qe.length?"No External Registries Available":"No Results Found"}),(0,dn.jsx)("p",{className:"text-gray-500 dark:text-gray-300 text-sm max-w-md mx-auto",children:0===He.length&&0===qe.length?"External registry integrations (Anthropic, ASOR, and more) will be available soon":"Press Enter in the search bar to search semantically"})]}):(0,dn.jsxs)("div",{children:[ut.length>0&&(0,dn.jsxs)("div",{className:"mb-6",children:[(0,dn.jsx)("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-3",children:"Servers"}),(0,dn.jsx)("div",{className:"grid",style:{gridTemplateColumns:"repeat(auto-fit, minmax(380px, 1fr))",gap:"clamp(1.5rem, 3vw, 2.5rem)"},children:ut.map(e=>{var t;return(0,dn.jsx)(Ti,{server:e,onToggle:Pt,onEdit:_t,canModify:(null===L||void 0===L?void 0:L.can_modify_servers)||!1,canDelete:((null===L||void 0===L?void 0:L.is_admin)||Me("delete_service",e.path))&&!(null!==(t=e.sync_metadata)&&void 0!==t&&t.is_federated),onRefreshSuccess:p,onShowToast:Lt,onServerUpdate:zt,onDelete:Ot,authToken:le},e.path)})})]}),ct.length>0&&(0,dn.jsxs)("div",{children:[(0,dn.jsx)("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-3",children:"Agents"}),(0,dn.jsx)("div",{className:"grid",style:{gridTemplateColumns:"repeat(auto-fit, minmax(380px, 1fr))",gap:"clamp(1.5rem, 3vw, 2.5rem)"},children:ct.map(e=>{var t;return(0,dn.jsx)(Ji,{agent:e,onToggle:Mt,onEdit:Bt,canModify:(null===L||void 0===L?void 0:L.can_modify_servers)||!1,canHealthCheck:(null===L||void 0===L?void 0:L.is_admin)||Me("health_check_agent",e.path),canToggle:(null===L||void 0===L?void 0:L.is_admin)||Me("toggle_agent",e.path),canDelete:((null===L||void 0===L?void 0:L.is_admin)||Me("delete_agent",e.path)||e.registered_by===(null===L||void 0===L?void 0:L.username))&&!(null!==(t=e.sync_metadata)&&void 0!==t&&t.is_federated),onDelete:It,onRefreshSuccess:p,onShowToast:Lt,onAgentUpdate:Oe},e.path)})})]})]})]}),("all"===ue&&0===it.length&&0===dt.length&&0===mt.length&&0===pt.length||"servers"===ue&&0===it.length||"agents"===ue&&0===dt.length||"skills"===ue&&0===mt.length||"virtual"===ue&&0===pt.length)&&(P||"all"!==l)&&(0,dn.jsxs)("div",{className:"text-center py-16",children:[(0,dn.jsx)("div",{className:"text-gray-400 text-xl mb-4",children:"No items found"}),(0,dn.jsx)("p",{className:"text-gray-500 dark:text-gray-300 text-base max-w-md mx-auto",children:"Press Enter in the search bar to search semantically"})]})]});return m&&re?(0,dn.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[(0,dn.jsx)("div",{className:"text-red-500 text-lg",children:"Failed to load servers and agents"}),(0,dn.jsx)("p",{className:"text-gray-500 text-center",children:m}),(0,dn.jsx)("p",{className:"text-gray-500 text-center",children:re}),(0,dn.jsx)("button",{onClick:At,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Try Again"})]}):d?(0,dn.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,dn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):(0,dn.jsxs)(dn.Fragment,{children:[ee&&(0,dn.jsx)(zg,{message:ee.message,type:ee.type,onClose:Rt}),(0,dn.jsxs)("div",{className:"flex flex-col h-full",children:[(0,dn.jsxs)("div",{className:"flex-shrink-0 space-y-4 pb-4",children:[(0,dn.jsxs)("div",{className:"flex gap-2 border-b border-gray-200 dark:border-gray-700 overflow-x-auto",children:[[!1!==(null===R||void 0===R?void 0:R.features.mcp_servers),!1!==(null===R||void 0===R?void 0:R.features.agents),!1!==(null===R||void 0===R?void 0:R.features.skills),!1!==(null===R||void 0===R?void 0:R.features.federation)].filter(Boolean).length>1&&(0,dn.jsx)("button",{onClick:()=>Et("all"),className:"px-4 py-2 text-sm font-medium whitespace-nowrap transition-colors border-b-2 ".concat("all"===ue?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"),children:"All"}),!1!==(null===R||void 0===R?void 0:R.features.mcp_servers)&&(0,dn.jsx)("button",{onClick:()=>Et("servers"),className:"px-4 py-2 text-sm font-medium whitespace-nowrap transition-colors border-b-2 ".concat("servers"===ue?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"),children:"MCP Servers"}),(0,dn.jsx)("button",{onClick:()=>Et("virtual"),className:"px-4 py-2 text-sm font-medium whitespace-nowrap transition-colors border-b-2 ".concat("virtual"===ue?"border-teal-500 text-teal-600 dark:text-teal-400":"border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"),children:"Virtual MCP Servers"}),!1!==(null===R||void 0===R?void 0:R.features.agents)&&(0,dn.jsx)("button",{onClick:()=>Et("agents"),className:"px-4 py-2 text-sm font-medium whitespace-nowrap transition-colors border-b-2 ".concat("agents"===ue?"border-cyan-500 text-cyan-600 dark:text-cyan-400":"border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"),children:"A2A Agents"}),!1!==(null===R||void 0===R?void 0:R.features.skills)&&(0,dn.jsx)("button",{onClick:()=>Et("skills"),className:"px-4 py-2 text-sm font-medium whitespace-nowrap transition-colors border-b-2 ".concat("skills"===ue?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"),children:"Agent Skills"}),!1!==(null===R||void 0===R?void 0:R.features.federation)&&(0,dn.jsx)("button",{onClick:()=>Et("external"),className:"px-4 py-2 text-sm font-medium whitespace-nowrap transition-colors border-b-2 ".concat("external"===ue?"border-green-500 text-green-600 dark:text-green-400":"border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"),children:"External Registries"})]}),(0,dn.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,dn.jsxs)("div",{className:"relative flex-1",children:[(0,dn.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:(0,dn.jsx)(Mo,{className:"h-5 w-5 text-gray-400"})}),(0,dn.jsx)("input",{type:"text",placeholder:"Search servers, agents, descriptions, or tags\u2026 (Press Enter to run semantic search; typing filters locally.)",className:"input pl-10 w-full",value:P,onChange:e=>O(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),Ft())}}),P&&(0,dn.jsx)("button",{type:"button",onClick:Nt,className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:(0,dn.jsx)(ao,{className:"h-4 w-4"})})]}),(0,dn.jsxs)("button",{onClick:Gt,className:"btn-primary flex items-center space-x-2 flex-shrink-0",children:[(0,dn.jsx)(So,{className:"h-4 w-4"}),(0,dn.jsx)("span",{children:"Register Server"})]}),(0,dn.jsxs)("button",{onClick:At,disabled:K,className:"btn-secondary flex items-center space-x-2 flex-shrink-0",children:[(0,dn.jsx)(Po,{className:"h-4 w-4 ".concat(K?"animate-spin":"")}),(0,dn.jsx)("span",{children:"Refresh Health"})]})]}),(0,dn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,dn.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-300",children:[lt?(0,dn.jsxs)(dn.Fragment,{children:["Showing ",et.length," servers, ",rt.length," agents"]}):(0,dn.jsxs)(dn.Fragment,{children:["Showing"," ",!1!==(null===R||void 0===R?void 0:R.features.mcp_servers)&&(0,dn.jsxs)(dn.Fragment,{children:[it.length," servers"]}),!1!==(null===R||void 0===R?void 0:R.features.mcp_servers)&&!1!==(null===R||void 0===R?void 0:R.features.agents)&&", ",!1!==(null===R||void 0===R?void 0:R.features.agents)&&(0,dn.jsxs)(dn.Fragment,{children:[dt.length," agents"]}),(!1!==(null===R||void 0===R?void 0:R.features.mcp_servers)||!1!==(null===R||void 0===R?void 0:R.features.agents))&&!1!==(null===R||void 0===R?void 0:R.features.skills)&&", ",!1!==(null===R||void 0===R?void 0:R.features.skills)&&(0,dn.jsxs)(dn.Fragment,{children:[mt.length," skills"]})]}),"all"!==l&&(0,dn.jsxs)("span",{className:"ml-2 px-2 py-1 text-xs bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300 rounded-full",children:[l," filter active"]})]}),(0,dn.jsx)("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Press Enter to run semantic search; typing filters locally."})]})]}),(0,dn.jsx)("div",{className:"flex-1 overflow-y-auto min-h-0 space-y-10",children:lt?(0,dn.jsxs)(dn.Fragment,{children:[(0,dn.jsx)(_g,{query:st,loading:Ze,error:Xe,servers:et,tools:tt,agents:rt,skills:nt,virtualServers:at}),ot&&(0,dn.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,dn.jsx)("h4",{className:"text-base font-semibold text-gray-900 dark:text-gray-200",children:"Keyword search fallback"}),Xe&&(0,dn.jsx)("span",{className:"text-xs font-medium text-red-500",children:"Showing local matches because semantic search is unavailable"})]}),Zt()]})]}):Zt()}),(0,dn.jsx)("div",{className:"pb-12"})]}),z&&(0,dn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,dn.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:(0,dn.jsxs)("form",{onSubmit:Yt,className:"p-6",children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,dn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Register New Server"}),(0,dn.jsx)("button",{type:"button",onClick:()=>U(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,dn.jsx)(ao,{className:"h-6 w-6"})})]}),(0,dn.jsxs)("div",{className:"space-y-4",children:[(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Server Name *"}),(0,dn.jsx)("input",{type:"text",required:!0,className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-purple-500 focus:border-purple-500",value:H.name,onChange:e=>V(t=>qt(qt({},t),{},{name:e.target.value})),placeholder:"e.g., My Custom Server"})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Path *"}),(0,dn.jsx)("input",{type:"text",required:!0,className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-purple-500 focus:border-purple-500",value:H.path,onChange:e=>V(t=>qt(qt({},t),{},{path:e.target.value})),placeholder:"/my-server"})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Proxy URL *"}),(0,dn.jsx)("input",{type:"url",required:!0,className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-purple-500 focus:border-purple-500",value:H.proxyPass,onChange:e=>V(t=>qt(qt({},t),{},{proxyPass:e.target.value})),placeholder:"http://localhost:8080"})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Description"}),(0,dn.jsx)("textarea",{className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-purple-500 focus:border-purple-500",rows:3,value:H.description,onChange:e=>V(t=>qt(qt({},t),{},{description:e.target.value})),placeholder:"Brief description of the server"})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Tags"}),(0,dn.jsx)("input",{type:"text",value:H.tags.join(","),onChange:e=>V(t=>qt(qt({},t),{},{tags:e.target.value.split(",").map(e=>e.trim()).filter(e=>e)})),className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-purple-500 focus:border-purple-500",placeholder:"tag1,tag2,tag3"})]})]}),(0,dn.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,dn.jsx)("button",{type:"button",onClick:()=>U(!1),className:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-md transition-colors",children:"Cancel"}),(0,dn.jsx)("button",{type:"submit",disabled:W,className:"px-4 py-2 text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 disabled:opacity-50 rounded-md transition-colors",children:W?"Registering...":"Register Server"})]})]})})}),J&&(0,dn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,dn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[(0,dn.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:["Edit Server: ",J.name]}),(0,dn.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),await(async()=>{if(!Z&&J)try{X(!0);const e=new FormData;e.append("name",G.name),e.append("description",G.description),e.append("proxy_pass_url",G.proxyPass),e.append("tags",G.tags.join(",")),e.append("license",G.license),e.append("num_tools",G.num_tools.toString()),G.mcp_endpoint&&e.append("mcp_endpoint",G.mcp_endpoint),G.metadata&&e.append("metadata",G.metadata),"none"!==G.auth_scheme?(e.append("auth_scheme",G.auth_scheme),G.auth_credential&&e.append("auth_credential",G.auth_credential),"api_key"===G.auth_scheme&&G.auth_header_name&&e.append("auth_header_name",G.auth_header_name)):e.append("auth_scheme","none"),await cn.post("/api/edit".concat(J.path),e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}),await p(),Q(null),Lt("Server updated successfully!","success")}catch(m){var e,t;console.error("Failed to update server:",m),Lt((null===(e=m.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to update server","error")}finally{X(!1)}})()},className:"space-y-4",children:[(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Server Name *"}),(0,dn.jsx)("input",{type:"text",value:G.name,onChange:e=>Y(t=>qt(qt({},t),{},{name:e.target.value})),className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-purple-500 focus:border-purple-500",required:!0})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Proxy Pass URL *"}),(0,dn.jsx)("input",{type:"url",value:G.proxyPass,onChange:e=>Y(t=>qt(qt({},t),{},{proxyPass:e.target.value})),className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-purple-500 focus:border-purple-500",placeholder:"http://localhost:8080",required:!0})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Description"}),(0,dn.jsx)("textarea",{value:G.description,onChange:e=>Y(t=>qt(qt({},t),{},{description:e.target.value})),className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-purple-500 focus:border-purple-500",rows:3,placeholder:"Brief description of the server"})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Tags"}),(0,dn.jsx)("input",{type:"text",value:G.tags.join(","),onChange:e=>Y(t=>qt(qt({},t),{},{tags:e.target.value.split(",").map(e=>e.trim()).filter(e=>e)})),className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-purple-500 focus:border-purple-500",placeholder:"tag1,tag2,tag3"})]}),(0,dn.jsx)("div",{className:"grid grid-cols-2 gap-4",children:(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Number of Tools"}),(0,dn.jsx)("input",{type:"number",value:G.num_tools,onChange:e=>Y(t=>qt(qt({},t),{},{num_tools:parseInt(e.target.value)||0})),className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-purple-500 focus:border-purple-500",min:"0"})]})}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"License"}),(0,dn.jsx)("input",{type:"text",value:G.license,onChange:e=>Y(t=>qt(qt({},t),{},{license:e.target.value})),className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-purple-500 focus:border-purple-500",placeholder:"MIT, Apache-2.0, etc."})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"MCP Endpoint (optional)"}),(0,dn.jsx)("input",{type:"url",value:G.mcp_endpoint,onChange:e=>Y(t=>qt(qt({},t),{},{mcp_endpoint:e.target.value})),className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-purple-500 focus:border-purple-500",placeholder:"Custom MCP endpoint URL (overrides default)"})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Custom Metadata (JSON, optional)"}),(0,dn.jsx)("textarea",{value:G.metadata,onChange:e=>Y(t=>qt(qt({},t),{},{metadata:e.target.value})),rows:4,className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-purple-500 focus:border-purple-500 font-mono text-sm",placeholder:'{"team": "platform", "owner": "alice@example.com"}'})]}),(0,dn.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 mt-4",children:[(0,dn.jsx)("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-3",children:"Backend Authentication"}),(0,dn.jsxs)("div",{className:"space-y-4",children:[(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Authentication Scheme"}),(0,dn.jsxs)("select",{value:G.auth_scheme,onChange:e=>{const t=e.target.value;Y(e=>qt(qt({},e),{},{auth_scheme:t,auth_credential:"none"===t?"":e.auth_credential,auth_header_name:"api_key"===t?e.auth_header_name:"X-API-Key"}))},className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-purple-500 focus:border-purple-500",children:[(0,dn.jsx)("option",{value:"none",children:"None"}),(0,dn.jsx)("option",{value:"bearer",children:"Bearer Token"}),(0,dn.jsx)("option",{value:"api_key",children:"API Key"})]})]}),"none"!==G.auth_scheme&&(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"bearer"===G.auth_scheme?"Bearer Token":"API Key"}),(0,dn.jsx)("input",{type:"password",value:G.auth_credential,onChange:e=>Y(t=>qt(qt({},t),{},{auth_credential:e.target.value})),className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-purple-500 focus:border-purple-500",placeholder:"Leave blank to keep current credential"}),(0,dn.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Leave blank to keep the existing credential unchanged."})]}),"api_key"===G.auth_scheme&&(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Header Name"}),(0,dn.jsx)("input",{type:"text",value:G.auth_header_name,onChange:e=>Y(t=>qt(qt({},t),{},{auth_header_name:e.target.value})),className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-purple-500 focus:border-purple-500",placeholder:"X-API-Key"})]})]})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Path (read-only)"}),(0,dn.jsx)("input",{type:"text",value:G.path,className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-300",disabled:!0})]}),(0,dn.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,dn.jsx)("button",{type:"submit",disabled:Z,className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 disabled:opacity-50 rounded-md transition-colors",children:Z?"Saving...":"Save Changes"}),(0,dn.jsx)("button",{type:"button",onClick:Tt,className:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-md transition-colors",children:"Cancel"})]})]})]})}),ae&&(0,dn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,dn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[(0,dn.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:["Edit Agent: ",ae.name]}),(0,dn.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),await(async()=>{if(!De&&ae)try{ke(!0),Lt("Agent editing is not yet implemented","error")}catch(m){var e,t;console.error("Failed to update agent:",m),Lt((null===(e=m.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to update agent","error")}finally{ke(!1)}})()},className:"space-y-4",children:[(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Agent Name *"}),(0,dn.jsx)("input",{type:"text",value:be.name,onChange:e=>ve(t=>qt(qt({},t),{},{name:e.target.value})),className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-cyan-500 focus:border-cyan-500",required:!0})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Description"}),(0,dn.jsx)("textarea",{value:be.description,onChange:e=>ve(t=>qt(qt({},t),{},{description:e.target.value})),className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-cyan-500 focus:border-cyan-500",rows:3,placeholder:"Brief description of the agent"})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Version"}),(0,dn.jsx)("input",{type:"text",value:be.version,onChange:e=>ve(t=>qt(qt({},t),{},{version:e.target.value})),className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-cyan-500 focus:border-cyan-500",placeholder:"1.0.0"})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Visibility"}),(0,dn.jsxs)("select",{value:be.visibility,onChange:e=>ve(t=>qt(qt({},t),{},{visibility:e.target.value})),className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-cyan-500 focus:border-cyan-500",children:[(0,dn.jsx)("option",{value:"private",children:"Private"}),(0,dn.jsx)("option",{value:"public",children:"Public"}),(0,dn.jsx)("option",{value:"group-restricted",children:"Group Restricted"})]})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Trust Level"}),(0,dn.jsxs)("select",{value:be.trust_level,onChange:e=>ve(t=>qt(qt({},t),{},{trust_level:e.target.value})),className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-cyan-500 focus:border-cyan-500",children:[(0,dn.jsx)("option",{value:"unverified",children:"Unverified"}),(0,dn.jsx)("option",{value:"community",children:"Community"}),(0,dn.jsx)("option",{value:"verified",children:"Verified"}),(0,dn.jsx)("option",{value:"trusted",children:"Trusted"})]})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Tags"}),(0,dn.jsx)("input",{type:"text",value:be.tags.join(","),onChange:e=>ve(t=>qt(qt({},t),{},{tags:e.target.value.split(",").map(e=>e.trim()).filter(e=>e)})),className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-cyan-500 focus:border-cyan-500",placeholder:"tag1,tag2,tag3"})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Path (read-only)"}),(0,dn.jsx)("input",{type:"text",value:be.path,className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-300",disabled:!0})]}),(0,dn.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,dn.jsx)("button",{type:"submit",disabled:De,className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-cyan-600 hover:bg-cyan-700 disabled:opacity-50 rounded-md transition-colors",children:De?"Saving...":"Save Changes"}),(0,dn.jsx)("button",{type:"button",onClick:Tt,className:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-md transition-colors",children:"Cancel"})]})]})]})}),we&&(0,dn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,dn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[(0,dn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:je?"Edit Skill: ".concat(je.name):"Register New Skill"}),(0,dn.jsxs)("form",{onSubmit:$t,className:"space-y-4",children:[!je&&(0,dn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[(0,dn.jsxs)("div",{children:[(0,dn.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Auto-fill from SKILL.md"}),(0,dn.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Parse name and description from the SKILL.md file"})]}),(0,dn.jsx)("button",{type:"button",onClick:()=>Le(!Te),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors ".concat(Te?"bg-amber-600":"bg-gray-300 dark:bg-gray-600"),children:(0,dn.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform ".concat(Te?"translate-x-6":"translate-x-1")})})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"SKILL.md URL *"}),(0,dn.jsxs)("div",{className:"flex space-x-2",children:[(0,dn.jsx)("input",{type:"url",value:Ne.skill_md_url,onChange:e=>Ee(t=>qt(qt({},t),{},{skill_md_url:e.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-amber-500 focus:border-amber-500",placeholder:"https://raw.githubusercontent.com/org/repo/main/SKILL.md",required:!0}),Te&&!je&&(0,dn.jsx)("button",{type:"button",onClick:Kt,disabled:!Ne.skill_md_url||Re,className:"px-3 py-2 text-sm font-medium text-white bg-amber-600 hover:bg-amber-700 disabled:opacity-50 disabled:cursor-not-allowed rounded-md transition-colors whitespace-nowrap",children:Re?"Parsing...":"Parse"})]}),(0,dn.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Use raw content URL (e.g., raw.githubusercontent.com)"})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Skill Name *"}),(0,dn.jsx)("input",{type:"text",value:Ne.name,onChange:e=>{const t=e.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"");Ee(e=>qt(qt({},e),{},{name:t}))},className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-amber-500 focus:border-amber-500",placeholder:"my-skill-name",pattern:"^[a-z0-9]+(-[a-z0-9]+)*$",title:"Lowercase alphanumeric with hyphens (e.g., my-skill-name)",required:!0,disabled:!!je}),(0,dn.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Lowercase letters, numbers, and hyphens only"})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Description *"}),(0,dn.jsx)("textarea",{value:Ne.description,onChange:e=>Ee(t=>qt(qt({},t),{},{description:e.target.value})),className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-amber-500 focus:border-amber-500",rows:3,placeholder:"Describe what this skill does and when to use it",required:!0})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Repository URL (optional)"}),(0,dn.jsx)("input",{type:"url",value:Ne.repository_url,onChange:e=>Ee(t=>qt(qt({},t),{},{repository_url:e.target.value})),className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-amber-500 focus:border-amber-500",placeholder:"https://github.com/org/repo"})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Version (optional)"}),(0,dn.jsx)("input",{type:"text",value:Ne.version,onChange:e=>Ee(t=>qt(qt({},t),{},{version:e.target.value})),className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-amber-500 focus:border-amber-500",placeholder:"1.0.0"})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Visibility"}),(0,dn.jsxs)("select",{value:Ne.visibility,onChange:e=>Ee(t=>qt(qt({},t),{},{visibility:e.target.value})),className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-amber-500 focus:border-amber-500",children:[(0,dn.jsx)("option",{value:"public",children:"Public"}),(0,dn.jsx)("option",{value:"private",children:"Private"}),(0,dn.jsx)("option",{value:"group",children:"Group"})]})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Tags"}),(0,dn.jsx)("input",{type:"text",value:Ne.tags,onChange:e=>Ee(t=>qt(qt({},t),{},{tags:e.target.value})),className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-amber-500 focus:border-amber-500",placeholder:"automation, productivity, code-review"}),(0,dn.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Comma-separated tags for categorization"})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Target Agents"}),(0,dn.jsx)("input",{type:"text",value:Ne.target_agents,onChange:e=>Ee(t=>qt(qt({},t),{},{target_agents:e.target.value})),className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-amber-500 focus:border-amber-500",placeholder:"claude-code, cursor, windsurf"}),(0,dn.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Comma-separated list of compatible coding assistants"})]}),je&&(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Path (read-only)"}),(0,dn.jsx)("input",{type:"text",value:je.path,className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-300",disabled:!0})]}),(0,dn.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,dn.jsx)("button",{type:"submit",disabled:Ae,className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-amber-600 hover:bg-amber-700 disabled:opacity-50 rounded-md transition-colors",children:Ae?je?"Saving...":"Registering & Scanning...":je?"Save Changes":"Register Skill"}),(0,dn.jsx)("button",{type:"button",onClick:Wt,className:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-md transition-colors",children:"Cancel"})]}),!je&&(0,dn.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 text-center",children:"Registration includes a security scan and may take a few seconds"})]})]})}),_e&&(0,dn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,dn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-sm",children:[(0,dn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Delete Skill"}),(0,dn.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"Are you sure you want to delete this skill? This action cannot be undone."}),(0,dn.jsxs)("div",{className:"flex space-x-3",children:[(0,dn.jsx)("button",{onClick:()=>Qt(_e),className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-md transition-colors",children:"Delete"}),(0,dn.jsx)("button",{onClick:()=>Be(null),className:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-md transition-colors",children:"Cancel"})]})]})}),gt&&(0,dn.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",role:"dialog","aria-modal":"true","aria-label":"Delete virtual server confirmation",children:(0,dn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[(0,dn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Delete Virtual Server"}),(0,dn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"This action is irreversible. The virtual server and all its tool mappings will be permanently removed."}),(0,dn.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:["Type ",(0,dn.jsx)("strong",{children:gt.server_name})," to confirm:"]}),(0,dn.jsx)("input",{type:"text",value:xt,onChange:e=>yt(e.target.value),placeholder:gt.server_name,disabled:bt,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white mb-4",onKeyDown:e=>{"Escape"===e.key&&(ft(null),yt(""))},autoFocus:!0}),(0,dn.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,dn.jsx)("button",{onClick:()=>{ft(null),yt("")},disabled:bt,className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 disabled:opacity-50",children:"Cancel"}),(0,dn.jsxs)("button",{onClick:kt,disabled:xt!==gt.server_name||bt,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[bt&&(0,dn.jsx)(Po,{className:"h-4 w-4 mr-2 animate-spin"}),"Delete"]})]})]})}),S&&(0,dn.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",role:"dialog","aria-modal":"true","aria-label":"Edit virtual server",children:(0,dn.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-auto",children:T?(0,dn.jsxs)("div",{className:"flex items-center justify-center py-16",children:[(0,dn.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-teal-600"}),(0,dn.jsx)("span",{className:"ml-3 text-gray-500 dark:text-gray-400",children:"Loading virtual server..."})]}):B?(0,dn.jsx)(Mg,{virtualServer:B,onSave:Ct,onCancel:jt}):(0,dn.jsxs)("div",{className:"p-6 text-center",children:[(0,dn.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Failed to load virtual server"}),(0,dn.jsx)("button",{onClick:jt,className:"mt-4 px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600",children:"Close"})]})})})]})},Hg=()=>{const{user:e}=pn(),[t,r]=(0,o.useState)({description:"",expires_in_hours:8,scopeMethod:"current",customScopes:""}),[n,a]=(0,o.useState)(""),[s,l]=(0,o.useState)(null),[i,u]=(0,o.useState)(!1),[c,d]=(0,o.useState)(!1),[m,p]=(0,o.useState)(""),h=(()=>{if("custom"===t.scopeMethod&&t.customScopes.trim())try{const e=JSON.parse(t.customScopes);return Array.isArray(e)?null:"Custom scopes must be a JSON array"}catch(Hs){return"Invalid JSON format"}return null})();return(0,dn.jsxs)("div",{className:"flex flex-col h-full",children:[(0,dn.jsx)("div",{className:"flex-shrink-0 pb-2",children:(0,dn.jsxs)("div",{className:"text-center",children:[(0,dn.jsx)("div",{className:"mx-auto w-10 h-10 bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center mb-2",children:(0,dn.jsx)(Kl,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"})}),(0,dn.jsx)("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Generate JWT Token"}),(0,dn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Generate a personal access token for programmatic access to MCP servers"})]})}),(0,dn.jsx)("div",{className:"flex-1 overflow-y-auto min-h-0",children:(0,dn.jsxs)("div",{className:"max-w-4xl mx-auto space-y-4 pb-6",children:[(0,dn.jsxs)("div",{className:"card p-4 bg-gray-50 dark:bg-gray-800",children:[(0,dn.jsx)("h3",{className:"text-base font-semibold text-gray-900 dark:text-white mb-2",children:"Your Current Permissions"}),(0,dn.jsxs)("div",{className:"mb-2",children:[(0,dn.jsx)("span",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Current Scopes:"}),(0,dn.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:null!==e&&void 0!==e&&e.scopes&&e.scopes.length>0?e.scopes.map(e=>(0,dn.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:e},e)):(0,dn.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"No scopes available"})})]}),(0,dn.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:(0,dn.jsx)("em",{children:"Generated tokens can have the same or fewer permissions than your current scopes."})})]}),(0,dn.jsx)("div",{className:"card p-4",children:(0,dn.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),u(!0),p("");try{const r={description:t.description,expires_in_hours:t.expires_in_hours};if("custom"===t.scopeMethod){const n=t.customScopes.trim();if(n)try{const e=JSON.parse(n);if(!Array.isArray(e))throw new Error("Custom scopes must be a JSON array");r.requested_scopes=e}catch(e){return void p("Invalid JSON format for custom scopes. Please provide a valid JSON array.")}}const n=await cn.post("/api/tokens/generate",r,{headers:{"Content-Type":"application/json"}});if(!n.data.success)throw new Error("Token generation failed");a(n.data.token_data.access_token),l(n.data)}catch(m){var r,n;console.error("Failed to generate token:",m),p((null===(r=m.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.detail)||"Failed to generate token")}finally{u(!1)}},className:"space-y-4",children:[(0,dn.jsx)("h3",{className:"text-base font-semibold text-gray-900 dark:text-white",children:"Token Configuration"}),(0,dn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,dn.jsxs)("div",{className:"space-y-3",children:[(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description (optional)"}),(0,dn.jsx)("input",{type:"text",id:"description",className:"input text-sm",placeholder:"e.g., Token for automation script",value:t.description,onChange:e=>r(t=>qt(qt({},t),{},{description:e.target.value}))})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{htmlFor:"expires_in_hours",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Expires In"}),(0,dn.jsx)("select",{id:"expires_in_hours",className:"input text-sm",value:t.expires_in_hours,onChange:e=>r(t=>qt(qt({},t),{},{expires_in_hours:parseInt(e.target.value)})),children:[{value:1,label:"1 hour"},{value:8,label:"8 hours"},{value:24,label:"24 hours"}].map(e=>(0,dn.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,dn.jsx)("div",{className:"space-y-3",children:(0,dn.jsxs)("div",{children:[(0,dn.jsx)("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-2",children:"Scope Configuration"}),(0,dn.jsxs)("div",{className:"space-y-2",children:[(0,dn.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,dn.jsx)("input",{type:"radio",name:"scopeMethod",value:"current",checked:"current"===t.scopeMethod,onChange:e=>r(t=>qt(qt({},t),{},{scopeMethod:e.target.value})),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Use my current scopes"}),(0,dn.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Generate token with all your current permissions"})]})]}),(0,dn.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,dn.jsx)("input",{type:"radio",name:"scopeMethod",value:"custom",checked:"custom"===t.scopeMethod,onChange:e=>r(t=>qt(qt({},t),{},{scopeMethod:e.target.value})),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Upload custom scopes (JSON)"}),(0,dn.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Specify custom scopes in JSON format"})]})]})]}),"custom"===t.scopeMethod&&(0,dn.jsxs)("div",{className:"mt-3",children:[(0,dn.jsx)("label",{htmlFor:"customScopes",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Custom Scopes (JSON format)"}),(0,dn.jsx)("textarea",{id:"customScopes",className:"input h-24 font-mono text-xs ".concat(h?"border-red-300 focus:border-red-500 focus:ring-red-500":""),placeholder:'["mcp-servers-restricted/read", "mcp-registry-user"]',value:t.customScopes,onChange:e=>r(t=>qt(qt({},t),{},{customScopes:e.target.value}))}),(0,dn.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Enter a JSON array of scope names. Must be a subset of your current scopes."}),h&&(0,dn.jsx)("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:h})]})]})})]}),(0,dn.jsx)("button",{type:"submit",disabled:i||null!==h,className:"w-full btn-primary flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed py-2 text-sm",children:i?(0,dn.jsxs)(dn.Fragment,{children:[(0,dn.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,dn.jsx)("span",{children:"Generating..."})]}):(0,dn.jsxs)(dn.Fragment,{children:[(0,dn.jsx)(Kl,{className:"h-4 w-4"}),(0,dn.jsx)("span",{children:"Generate Token"})]})}),m&&(0,dn.jsx)("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:(0,dn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,dn.jsx)(fi,{className:"h-4 w-4 text-red-600 dark:text-red-400"}),(0,dn.jsx)("span",{className:"text-sm text-red-800 dark:text-red-200",children:m})]})})]})}),n&&s&&(0,dn.jsxs)("div",{className:"card p-4 bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800",children:[(0,dn.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,dn.jsx)(oo,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),(0,dn.jsx)("h3",{className:"text-lg font-semibold text-green-900 dark:text-green-100",children:"Token Generated Successfully"})]}),(0,dn.jsxs)("div",{className:"relative mb-4",children:[(0,dn.jsx)("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-green-200 dark:border-green-700",children:(0,dn.jsx)("code",{className:"text-sm font-mono break-all text-gray-900 dark:text-gray-100",children:n})}),(0,dn.jsx)("button",{onClick:async()=>{try{await navigator.clipboard.writeText(n),d(!0),setTimeout(()=>d(!1),2e3)}catch(m){const r=document.createElement("textarea");r.value=n,r.style.position="fixed",r.style.left="-999999px",r.style.top="-999999px",document.body.appendChild(r),r.focus(),r.select();try{document.execCommand("copy"),d(!0),setTimeout(()=>d(!1),2e3)}catch(e){console.error("Failed to copy token:",e)}document.body.removeChild(r)}},className:"absolute top-2 right-2 p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded hover:bg-gray-100 dark:hover:bg-gray-700",title:c?"Copied!":"Copy token",children:c?(0,dn.jsx)(oo,{className:"h-4 w-4 text-green-600"}):(0,dn.jsx)(co,{className:"h-4 w-4"})})]}),(0,dn.jsxs)("div",{className:"space-y-2 text-sm mb-4",children:[(0,dn.jsxs)("p",{children:[(0,dn.jsx)("strong",{children:"Expires:"})," ",new Date(Date.now()+1e3*s.token_data.expires_in).toLocaleString()]}),(0,dn.jsxs)("p",{children:[(0,dn.jsx)("strong",{children:"Scopes:"})," ",s.requested_scopes.join(", ")]}),s.token_data.description&&(0,dn.jsxs)("p",{children:[(0,dn.jsx)("strong",{children:"Description:"})," ",s.token_data.description]})]}),(0,dn.jsxs)("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg mb-4",children:[(0,dn.jsx)("h4",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"\ud83d\udccb Usage Instructions"}),(0,dn.jsx)("p",{className:"text-sm text-blue-800 dark:text-blue-200 mb-2",children:"Use this token in your API requests:"}),(0,dn.jsx)("code",{className:"block text-sm bg-blue-100 dark:bg-blue-900/40 p-2 rounded font-mono text-blue-900 dark:text-blue-100",children:"Authorization: Bearer YOUR_TOKEN_HERE"}),(0,dn.jsx)("p",{className:"text-xs text-blue-600 dark:text-blue-300 mt-2",children:"Replace YOUR_TOKEN_HERE with the token above."})]}),(0,dn.jsx)("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:(0,dn.jsxs)("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[(0,dn.jsx)("strong",{children:"\u26a0\ufe0f Important:"})," This token will not be shown again. Save it securely!"]})})]})]})})]})},Vg=["title","titleId"];function Wg(e,t){let{title:r,titleId:n}=e,a=xn(e,Vg);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"}))}const qg=o.forwardRef(Wg),Kg=["title","titleId"];function $g(e,t){let{title:r,titleId:n}=e,a=xn(e,Kg);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 17.25v-.228a4.5 4.5 0 0 0-.12-1.03l-2.268-9.64a3.375 3.375 0 0 0-3.285-2.602H7.923a3.375 3.375 0 0 0-3.285 2.602l-2.268 9.64a4.5 4.5 0 0 0-.12 1.03v.228m19.5 0a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3m19.5 0a3 3 0 0 0-3-3H5.25a3 3 0 0 0-3 3m16.5 0h.008v.008h-.008v-.008Zm-3 0h.008v.008h-.008v-.008Z"}))}const Jg=o.forwardRef($g),Qg=["title","titleId"];function Gg(e,t){let{title:r,titleId:n}=e,a=xn(e,Qg);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Yg=o.forwardRef(Gg),Zg=e=>{let{message:t,type:r,onClose:n}=e;return(0,o.useEffect)(()=>{const e=setTimeout(()=>{n()},4e3);return()=>clearTimeout(e)},[n]),(0,dn.jsx)("div",{className:"fixed top-4 right-4 z-50 animate-slide-in-top",children:(0,dn.jsxs)("div",{className:"flex items-center p-4 rounded-lg shadow-lg border ".concat("success"===r?"bg-green-50 border-green-200 text-green-800 dark:bg-green-900/50 dark:border-green-700 dark:text-green-200":"bg-red-50 border-red-200 text-red-800 dark:bg-red-900/50 dark:border-red-700 dark:text-red-200"),children:["success"===r?(0,dn.jsx)(Co,{className:"h-5 w-5 mr-3 flex-shrink-0"}):(0,dn.jsx)(No,{className:"h-5 w-5 mr-3 flex-shrink-0"}),(0,dn.jsx)("p",{className:"text-sm font-medium",children:t}),(0,dn.jsx)("button",{onClick:n,className:"ml-3 flex-shrink-0 text-current opacity-70 hover:opacity-100",children:(0,dn.jsx)(ao,{className:"h-4 w-4"})})]})})},Xg={name:"",description:"",path:"",proxy_pass_url:"",tags:"",num_tools:0,license:"MIT",visibility:"public",author:"",homepage:"",repository_url:"",mcp_endpoint:"",sse_endpoint:"",metadata:"",auth_scheme:"none",auth_credential:"",auth_header_name:"X-API-Key"},ef={name:"",description:"",url:"",path:"",protocol_version:"1.0",version:"1.0.0",tags:"",capabilities:"",license:"MIT",visibility:"public",author:"",homepage:"",repository_url:"",streaming:!1},tf=()=>{var e,t,r,n,a,s;const l=ie(),{user:i}=pn(),[u,c]=(0,o.useState)("server"),[d,m]=(0,o.useState)("form"),[p,h]=(0,o.useState)(Xg),[g,f]=(0,o.useState)(ef),[x,y]=(0,o.useState)(""),[b,v]=(0,o.useState)({}),[D,k]=(0,o.useState)(!1),[w,C]=(0,o.useState)(null),j=(0,o.useCallback)(e=>{if(!e)return"";const t=e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"");return"/".concat(t)},[]),F=(0,o.useCallback)(e=>{h(t=>qt(qt({},t),{},{name:e,path:t.path||j(e)}))},[j]),N=(0,o.useCallback)(e=>{f(t=>qt(qt({},t),{},{name:e,path:t.path||j(e)}))},[j]),E=(0,o.useCallback)(()=>{const e={};if(p.name.trim()||(e.name="Server name is required"),p.description.trim()||(e.description="Description is required"),p.path.trim()?p.path.startsWith("/")||(e.path="Path must start with /"):e.path="Path is required",p.proxy_pass_url.trim())try{new URL(p.proxy_pass_url)}catch(t){e.proxy_pass_url="Invalid URL format"}else e.proxy_pass_url="Proxy URL is required";return v(e),0===Object.keys(e).length},[p]),A=(0,o.useCallback)(()=>{const e={};if(g.name.trim()||(e.name="Agent name is required"),g.description.trim()||(e.description="Description is required"),g.url.trim())try{const t=new URL(g.url);["http:","https:"].includes(t.protocol)||(e.url="URL must use HTTP or HTTPS protocol")}catch(t){e.url="Invalid URL format"}else e.url="Agent URL is required";return g.path&&!g.path.startsWith("/")&&(e.path="Path must start with /"),v(e),0===Object.keys(e).length},[g]),S=(0,o.useCallback)(e=>{var t;const r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!r)return;const n=new FileReader;n.onload=e=>{try{var t;const r=null===(t=e.target)||void 0===t?void 0:t.result,n=JSON.parse(r);y(JSON.stringify(n,null,2)),"server"===u?h(e=>qt(qt({},e),{},{name:n.server_name||n.name||e.name,description:n.description||e.description,path:n.path||e.path,proxy_pass_url:n.proxy_pass_url||n.proxyPassUrl||e.proxy_pass_url,tags:Array.isArray(n.tags)?n.tags.join(","):n.tags||e.tags,num_tools:n.num_tools||n.numTools||e.num_tools,license:n.license||e.license,visibility:n.visibility||e.visibility,author:n.author||e.author,homepage:n.homepage||e.homepage,repository_url:n.repository_url||n.repositoryUrl||e.repository_url,mcp_endpoint:n.mcp_endpoint||n.mcpEndpoint||e.mcp_endpoint,sse_endpoint:n.sse_endpoint||n.sseEndpoint||e.sse_endpoint,metadata:n.metadata?JSON.stringify(n.metadata,null,2):e.metadata})):f(e=>{var t,r,a;return qt(qt({},e),{},{name:n.name||e.name,description:n.description||e.description,url:n.url||e.url,path:n.path||e.path,protocol_version:n.protocol_version||n.protocolVersion||e.protocol_version,version:n.version||e.version,tags:Array.isArray(n.tags)?n.tags.join(","):n.tags||e.tags,capabilities:n.capabilities?JSON.stringify(n.capabilities):e.capabilities,license:n.license||e.license,visibility:n.visibility||e.visibility,author:n.author||(null===(t=n.provider)||void 0===t?void 0:t.organization)||e.author,homepage:n.homepage||(null===(r=n.provider)||void 0===r?void 0:r.url)||e.homepage,repository_url:n.repository_url||n.repositoryUrl||e.repository_url,streaming:n.streaming||(null===(a=n.capabilities)||void 0===a?void 0:a.streaming)||e.streaming})}),C({message:"JSON file loaded successfully",type:"success"})}catch(r){C({message:"Invalid JSON file",type:"error"})}},n.readAsText(r)},[u]),_=(0,o.useCallback)(async e=>{if(e.preventDefault(),!D&&E()){k(!0);try{const e=new FormData;e.append("name",p.name),e.append("description",p.description),e.append("path",p.path),e.append("proxy_pass_url",p.proxy_pass_url),e.append("tags",p.tags),e.append("num_tools",p.num_tools.toString()),e.append("license",p.license),p.mcp_endpoint&&e.append("mcp_endpoint",p.mcp_endpoint),p.sse_endpoint&&e.append("sse_endpoint",p.sse_endpoint),p.metadata&&e.append("metadata",p.metadata),"none"!==p.auth_scheme&&(e.append("auth_scheme",p.auth_scheme),p.auth_credential&&e.append("auth_credential",p.auth_credential),"api_key"===p.auth_scheme&&p.auth_header_name&&e.append("auth_header_name",p.auth_header_name)),await cn.post("/api/register",e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}),C({message:"Server registered successfully!",type:"success"}),setTimeout(()=>l("/"),1500)}catch(i){var t,r,n,a,s,o;const e=i,l=(null===(t=e.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||(null===(n=e.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.reason)||(null===(s=e.response)||void 0===s||null===(o=s.data)||void 0===o?void 0:o.detail)||"Failed to register server";C({message:l,type:"error"})}finally{k(!1)}}},[D,p,E,l]),B=(0,o.useCallback)(async e=>{if(e.preventDefault(),!D&&A()){k(!0);try{const e={name:g.name,description:g.description,url:g.url,path:g.path||void 0,protocolVersion:g.protocol_version,version:g.version,tags:g.tags,license:g.license,visibility:g.visibility,streaming:g.streaming,provider:g.author?{organization:g.author,url:g.homepage||g.url}:void 0};await cn.post("/api/agents/register",e,{headers:{"Content-Type":"application/json"}}),C({message:"Agent registered successfully!",type:"success"}),setTimeout(()=>l("/"),1500)}catch(n){var t,r;const e=n;let a="Failed to register agent";null!==(t=e.response)&&void 0!==t&&null!==(r=t.data)&&void 0!==r&&r.detail&&("string"===typeof e.response.data.detail?a=e.response.data.detail:e.response.data.detail.message&&(a=e.response.data.detail.message)),C({message:a,type:"error"})}finally{k(!1)}}},[D,g,A,l]),T="block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-purple-500 focus:border-purple-500",L="block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",R="mt-1 text-sm text-red-500 dark:text-red-400",P=()=>(0,dn.jsxs)("form",{onSubmit:_,className:"space-y-6",children:[(0,dn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,dn.jsx)("div",{className:"md:col-span-2",children:(0,dn.jsxs)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,dn.jsx)("span",{className:"bg-purple-100 dark:bg-purple-900 text-purple-600 dark:text-purple-300 px-2 py-1 rounded text-xs mr-2",children:"Required"}),"Basic Information"]})}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:L,children:"Server Name *"}),(0,dn.jsx)("input",{type:"text",required:!0,className:"".concat(T," ").concat(b.name?"border-red-500":""),value:p.name,onChange:e=>F(e.target.value),placeholder:"e.g., My Custom Server"}),b.name&&(0,dn.jsx)("p",{className:R,children:b.name})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:L,children:"Path *"}),(0,dn.jsx)("input",{type:"text",required:!0,className:"".concat(T," ").concat(b.path?"border-red-500":""),value:p.path,onChange:e=>h(t=>qt(qt({},t),{},{path:e.target.value})),placeholder:"/my-server"}),(0,dn.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Auto-generated from name, but can be customized"}),b.path&&(0,dn.jsx)("p",{className:R,children:b.path})]}),(0,dn.jsxs)("div",{className:"md:col-span-2",children:[(0,dn.jsx)("label",{className:L,children:"Proxy URL *"}),(0,dn.jsx)("input",{type:"url",required:!0,className:"".concat(T," ").concat(b.proxy_pass_url?"border-red-500":""),value:p.proxy_pass_url,onChange:e=>h(t=>qt(qt({},t),{},{proxy_pass_url:e.target.value})),placeholder:"http://localhost:8080"}),b.proxy_pass_url&&(0,dn.jsx)("p",{className:R,children:b.proxy_pass_url})]}),(0,dn.jsxs)("div",{className:"md:col-span-2",children:[(0,dn.jsx)("label",{className:L,children:"Description *"}),(0,dn.jsx)("textarea",{required:!0,className:"".concat(T," ").concat(b.description?"border-red-500":""),rows:3,value:p.description,onChange:e=>h(t=>qt(qt({},t),{},{description:e.target.value})),placeholder:"Brief description of the server and its capabilities"}),b.description&&(0,dn.jsx)("p",{className:R,children:b.description})]}),(0,dn.jsx)("div",{className:"md:col-span-2 mt-4",children:(0,dn.jsxs)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,dn.jsx)("span",{className:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 px-2 py-1 rounded text-xs mr-2",children:"Optional"}),"Additional Settings"]})}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:L,children:"Tags"}),(0,dn.jsx)("input",{type:"text",className:T,value:p.tags,onChange:e=>h(t=>qt(qt({},t),{},{tags:e.target.value})),placeholder:"tag1, tag2, tag3"}),(0,dn.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Comma-separated list"})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:L,children:"Number of Tools"}),(0,dn.jsx)("input",{type:"number",min:"0",className:T,value:p.num_tools,onChange:e=>h(t=>qt(qt({},t),{},{num_tools:parseInt(e.target.value)||0}))})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:L,children:"License"}),(0,dn.jsxs)("select",{className:T,value:p.license,onChange:e=>h(t=>qt(qt({},t),{},{license:e.target.value})),children:[(0,dn.jsx)("option",{value:"MIT",children:"MIT"}),(0,dn.jsx)("option",{value:"Apache-2.0",children:"Apache 2.0"}),(0,dn.jsx)("option",{value:"GPL-3.0",children:"GPL 3.0"}),(0,dn.jsx)("option",{value:"BSD-3-Clause",children:"BSD 3-Clause"}),(0,dn.jsx)("option",{value:"N/A",children:"N/A"})]})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:L,children:"Visibility"}),(0,dn.jsxs)("select",{className:T,value:p.visibility,onChange:e=>h(t=>qt(qt({},t),{},{visibility:e.target.value})),children:[(0,dn.jsx)("option",{value:"public",children:"Public"}),(0,dn.jsx)("option",{value:"private",children:"Private"}),(0,dn.jsx)("option",{value:"group-restricted",children:"Group Restricted"})]})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:L,children:"Author"}),(0,dn.jsx)("input",{type:"text",className:T,value:p.author,onChange:e=>h(t=>qt(qt({},t),{},{author:e.target.value})),placeholder:"Your name or organization"})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:L,children:"Homepage"}),(0,dn.jsx)("input",{type:"url",className:T,value:p.homepage,onChange:e=>h(t=>qt(qt({},t),{},{homepage:e.target.value})),placeholder:"https://example.com"})]}),(0,dn.jsxs)("div",{className:"md:col-span-2",children:[(0,dn.jsx)("label",{className:L,children:"Repository URL"}),(0,dn.jsx)("input",{type:"url",className:T,value:p.repository_url,onChange:e=>h(t=>qt(qt({},t),{},{repository_url:e.target.value})),placeholder:"https://github.com/username/repo"})]}),(0,dn.jsxs)("div",{className:"md:col-span-2 mt-4",children:[(0,dn.jsxs)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,dn.jsx)("span",{className:"bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-300 px-2 py-1 rounded text-xs mr-2",children:"Optional"}),"Backend Authentication"]}),(0,dn.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 -mt-2 mb-4",children:"Configure credentials the gateway will use when proxying requests to your backend MCP server."})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:L,children:"Authentication Scheme"}),(0,dn.jsxs)("select",{className:T,value:p.auth_scheme,onChange:e=>{const t=e.target.value;h(e=>qt(qt({},e),{},{auth_scheme:t,auth_credential:"none"===t?"":e.auth_credential,auth_header_name:"api_key"===t?e.auth_header_name:"X-API-Key"}))},children:[(0,dn.jsx)("option",{value:"none",children:"None"}),(0,dn.jsx)("option",{value:"bearer",children:"Bearer Token"}),(0,dn.jsx)("option",{value:"api_key",children:"API Key"})]})]}),"none"!==p.auth_scheme&&(0,dn.jsxs)("div",{children:[(0,dn.jsxs)("label",{className:L,children:["bearer"===p.auth_scheme?"Bearer Token":"API Key"," *"]}),(0,dn.jsx)("input",{type:"password",className:T,value:p.auth_credential,onChange:e=>h(t=>qt(qt({},t),{},{auth_credential:e.target.value})),placeholder:"bearer"===p.auth_scheme?"Enter bearer token":"Enter API key"}),(0,dn.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"This credential is stored securely and never displayed after saving."})]}),"api_key"===p.auth_scheme&&(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:L,children:"Header Name"}),(0,dn.jsx)("input",{type:"text",className:T,value:p.auth_header_name,onChange:e=>h(t=>qt(qt({},t),{},{auth_header_name:e.target.value})),placeholder:"X-API-Key"}),(0,dn.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"The HTTP header name used to send the API key (default: X-API-Key)"})]}),(0,dn.jsx)("div",{className:"md:col-span-2 mt-4",children:(0,dn.jsxs)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,dn.jsx)("span",{className:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 px-2 py-1 rounded text-xs mr-2",children:"Advanced"}),"Custom Endpoints & Metadata"]})}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:L,children:"MCP Endpoint (optional)"}),(0,dn.jsx)("input",{type:"url",className:T,value:p.mcp_endpoint,onChange:e=>h(t=>qt(qt({},t),{},{mcp_endpoint:e.target.value})),placeholder:"http://server.com/custom-mcp-path"}),(0,dn.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Override default /mcp endpoint path"})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:L,children:"SSE Endpoint (optional)"}),(0,dn.jsx)("input",{type:"url",className:T,value:p.sse_endpoint,onChange:e=>h(t=>qt(qt({},t),{},{sse_endpoint:e.target.value})),placeholder:"http://server.com/custom-sse-path"}),(0,dn.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Override default /sse endpoint path"})]}),(0,dn.jsxs)("div",{className:"md:col-span-2",children:[(0,dn.jsx)("label",{className:L,children:"Metadata (optional, JSON)"}),(0,dn.jsx)("textarea",{className:T,rows:3,value:p.metadata,onChange:e=>h(t=>qt(qt({},t),{},{metadata:e.target.value})),placeholder:'{"team": "platform", "owner": "alice@example.com", "cost_center": "CC-1001"}'}),(0,dn.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Custom key-value pairs for organization, compliance, or integration purposes"})]})]}),(0,dn.jsxs)("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,dn.jsx)("button",{type:"button",onClick:()=>l("/"),className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-md transition-colors",children:"Cancel"}),(0,dn.jsx)("button",{type:"submit",disabled:D,className:"px-6 py-2 text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed rounded-md transition-colors",children:D?"Registering...":"Register Server"})]})]}),O=()=>(0,dn.jsxs)("form",{onSubmit:B,className:"space-y-6",children:[(0,dn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,dn.jsx)("div",{className:"md:col-span-2",children:(0,dn.jsxs)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,dn.jsx)("span",{className:"bg-purple-100 dark:bg-purple-900 text-purple-600 dark:text-purple-300 px-2 py-1 rounded text-xs mr-2",children:"Required"}),"Basic Information"]})}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:L,children:"Agent Name *"}),(0,dn.jsx)("input",{type:"text",required:!0,className:"".concat(T," ").concat(b.name?"border-red-500":""),value:g.name,onChange:e=>N(e.target.value),placeholder:"e.g., My AI Agent"}),b.name&&(0,dn.jsx)("p",{className:R,children:b.name})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:L,children:"Path (auto-generated)"}),(0,dn.jsx)("input",{type:"text",className:"".concat(T," ").concat(b.path?"border-red-500":""),value:g.path,onChange:e=>f(t=>qt(qt({},t),{},{path:e.target.value})),placeholder:"/my-agent"}),(0,dn.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Leave empty to auto-generate from name"}),b.path&&(0,dn.jsx)("p",{className:R,children:b.path})]}),(0,dn.jsxs)("div",{className:"md:col-span-2",children:[(0,dn.jsx)("label",{className:L,children:"Agent URL *"}),(0,dn.jsx)("input",{type:"url",required:!0,className:"".concat(T," ").concat(b.url?"border-red-500":""),value:g.url,onChange:e=>f(t=>qt(qt({},t),{},{url:e.target.value})),placeholder:"https://my-agent.example.com"}),(0,dn.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"The endpoint URL where the agent can be reached"}),b.url&&(0,dn.jsx)("p",{className:R,children:b.url})]}),(0,dn.jsxs)("div",{className:"md:col-span-2",children:[(0,dn.jsx)("label",{className:L,children:"Description *"}),(0,dn.jsx)("textarea",{required:!0,className:"".concat(T," ").concat(b.description?"border-red-500":""),rows:3,value:g.description,onChange:e=>f(t=>qt(qt({},t),{},{description:e.target.value})),placeholder:"Describe what your agent does and its capabilities"}),b.description&&(0,dn.jsx)("p",{className:R,children:b.description})]}),(0,dn.jsx)("div",{className:"md:col-span-2 mt-4",children:(0,dn.jsxs)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,dn.jsx)("span",{className:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 px-2 py-1 rounded text-xs mr-2",children:"Optional"}),"Additional Settings"]})}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:L,children:"Protocol Version"}),(0,dn.jsx)("input",{type:"text",className:T,value:g.protocol_version,onChange:e=>f(t=>qt(qt({},t),{},{protocol_version:e.target.value})),placeholder:"1.0"})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:L,children:"Agent Version"}),(0,dn.jsx)("input",{type:"text",className:T,value:g.version,onChange:e=>f(t=>qt(qt({},t),{},{version:e.target.value})),placeholder:"1.0.0"})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:L,children:"Tags"}),(0,dn.jsx)("input",{type:"text",className:T,value:g.tags,onChange:e=>f(t=>qt(qt({},t),{},{tags:e.target.value})),placeholder:"ai, assistant, nlp"}),(0,dn.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Comma-separated list"})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:L,children:"License"}),(0,dn.jsxs)("select",{className:T,value:g.license,onChange:e=>f(t=>qt(qt({},t),{},{license:e.target.value})),children:[(0,dn.jsx)("option",{value:"MIT",children:"MIT"}),(0,dn.jsx)("option",{value:"Apache-2.0",children:"Apache 2.0"}),(0,dn.jsx)("option",{value:"GPL-3.0",children:"GPL 3.0"}),(0,dn.jsx)("option",{value:"BSD-3-Clause",children:"BSD 3-Clause"}),(0,dn.jsx)("option",{value:"N/A",children:"N/A"})]})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:L,children:"Visibility"}),(0,dn.jsxs)("select",{className:T,value:g.visibility,onChange:e=>f(t=>qt(qt({},t),{},{visibility:e.target.value})),children:[(0,dn.jsx)("option",{value:"public",children:"Public"}),(0,dn.jsx)("option",{value:"private",children:"Private"}),(0,dn.jsx)("option",{value:"group-restricted",children:"Group Restricted"})]})]}),(0,dn.jsx)("div",{className:"flex items-center",children:(0,dn.jsxs)("label",{className:"flex items-center",children:[(0,dn.jsx)("input",{type:"checkbox",className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded",checked:g.streaming,onChange:e=>f(t=>qt(qt({},t),{},{streaming:e.target.checked}))}),(0,dn.jsx)("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-200",children:"Supports streaming responses"})]})}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:L,children:"Author / Organization"}),(0,dn.jsx)("input",{type:"text",className:T,value:g.author,onChange:e=>f(t=>qt(qt({},t),{},{author:e.target.value})),placeholder:"Your name or organization"})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:L,children:"Homepage"}),(0,dn.jsx)("input",{type:"url",className:T,value:g.homepage,onChange:e=>f(t=>qt(qt({},t),{},{homepage:e.target.value})),placeholder:"https://example.com"})]}),(0,dn.jsxs)("div",{className:"md:col-span-2",children:[(0,dn.jsx)("label",{className:L,children:"Repository URL"}),(0,dn.jsx)("input",{type:"url",className:T,value:g.repository_url,onChange:e=>f(t=>qt(qt({},t),{},{repository_url:e.target.value})),placeholder:"https://github.com/username/repo"})]})]}),(0,dn.jsxs)("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,dn.jsx)("button",{type:"button",onClick:()=>l("/"),className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-md transition-colors",children:"Cancel"}),(0,dn.jsx)("button",{type:"submit",disabled:D,className:"px-6 py-2 text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed rounded-md transition-colors",children:D?"Registering...":"Register Agent"})]})]}),I=(null!==(e=null===i||void 0===i||null===(t=i.ui_permissions)||void 0===t||null===(r=t.register_service)||void 0===r?void 0:r.length)&&void 0!==e?e:0)>0,M=(null!==(n=null===i||void 0===i||null===(a=i.ui_permissions)||void 0===a||null===(s=a.publish_agent)||void 0===s?void 0:s.length)&&void 0!==n?n:0)>0;return I||M?(0,dn.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[w&&(0,dn.jsx)(Zg,{message:w.message,type:w.type,onClose:()=>C(null)}),(0,dn.jsxs)("div",{className:"mb-8",children:[(0,dn.jsxs)("button",{onClick:()=>l("/"),className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-4 transition-colors",children:[(0,dn.jsx)(Vl,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),(0,dn.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Register New Service"}),(0,dn.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Register a new MCP server or A2A agent to the gateway registry."})]}),(0,dn.jsxs)("div",{className:"mb-8",children:[(0,dn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-3",children:"What would you like to register?"}),(0,dn.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,dn.jsxs)("button",{type:"button",disabled:!I,onClick:()=>c("server"),className:"relative flex items-center p-4 border-2 rounded-lg transition-all ".concat("server"===u?"border-purple-500 bg-purple-50 dark:bg-purple-900/30":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"," ").concat(I?"cursor-pointer":"opacity-50 cursor-not-allowed"),children:[(0,dn.jsx)(Jg,{className:"h-8 w-8 ".concat("server"===u?"text-purple-600":"text-gray-400")}),(0,dn.jsxs)("div",{className:"ml-4 text-left",children:[(0,dn.jsx)("p",{className:"font-medium ".concat("server"===u?"text-purple-900 dark:text-purple-100":"text-gray-900 dark:text-white"),children:"MCP Server"}),(0,dn.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Model Context Protocol server"})]}),"server"===u&&(0,dn.jsx)(Co,{className:"absolute top-3 right-3 h-5 w-5 text-purple-600"})]}),(0,dn.jsxs)("button",{type:"button",disabled:!M,onClick:()=>c("agent"),className:"relative flex items-center p-4 border-2 rounded-lg transition-all ".concat("agent"===u?"border-purple-500 bg-purple-50 dark:bg-purple-900/30":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"," ").concat(M?"cursor-pointer":"opacity-50 cursor-not-allowed"),children:[(0,dn.jsx)(qi,{className:"h-8 w-8 ".concat("agent"===u?"text-purple-600":"text-gray-400")}),(0,dn.jsxs)("div",{className:"ml-4 text-left",children:[(0,dn.jsx)("p",{className:"font-medium ".concat("agent"===u?"text-purple-900 dark:text-purple-100":"text-gray-900 dark:text-white"),children:"A2A Agent"}),(0,dn.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Agent-to-Agent protocol agent"})]}),"agent"===u&&(0,dn.jsx)(Co,{className:"absolute top-3 right-3 h-5 w-5 text-purple-600"})]})]})]}),(0,dn.jsxs)("div",{className:"mb-8",children:[(0,dn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-3",children:"Registration Method"}),(0,dn.jsxs)("div",{className:"flex space-x-4",children:[(0,dn.jsxs)("button",{type:"button",onClick:()=>m("form"),className:"flex items-center px-4 py-2 rounded-lg border transition-all ".concat("form"===d?"border-purple-500 bg-purple-50 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300":"border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"),children:[(0,dn.jsx)(Yg,{className:"h-5 w-5 mr-2"}),"Quick Form"]}),(0,dn.jsxs)("button",{type:"button",onClick:()=>m("json"),className:"flex items-center px-4 py-2 rounded-lg border transition-all ".concat("json"===d?"border-purple-500 bg-purple-50 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300":"border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"),children:[(0,dn.jsx)(qg,{className:"h-5 w-5 mr-2"}),"JSON Upload"]})]})]}),(0,dn.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:"form"===d?"server"===u?P():O():(0,dn.jsxs)("div",{className:"space-y-6",children:[(0,dn.jsxs)("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-8 text-center",children:[(0,dn.jsx)(qg,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,dn.jsxs)("div",{className:"mt-4",children:[(0,dn.jsxs)("label",{htmlFor:"json-upload",className:"cursor-pointer",children:[(0,dn.jsx)("span",{className:"text-purple-600 dark:text-purple-400 hover:text-purple-500 font-medium",children:"Upload a file"}),(0,dn.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:" or drag and drop"})]}),(0,dn.jsx)("input",{id:"json-upload",type:"file",accept:".json",className:"hidden",onChange:S})]}),(0,dn.jsxs)("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:["server"===u?"modelcard.json":"agentcard.json"," (JSON format)"]})]}),x&&(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:L,children:"JSON Preview"}),(0,dn.jsx)("div",{className:"relative",children:(0,dn.jsx)("pre",{className:"bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg p-4 overflow-auto max-h-64 text-sm text-gray-800 dark:text-gray-200",children:x})})]}),(0,dn.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:(0,dn.jsxs)("div",{className:"flex",children:[(0,dn.jsx)(Hi,{className:"h-5 w-5 text-blue-400 flex-shrink-0"}),(0,dn.jsxs)("div",{className:"ml-3",children:[(0,dn.jsx)("h4",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"About JSON Upload"}),(0,dn.jsxs)("p",{className:"mt-1 text-sm text-blue-700 dark:text-blue-300",children:["Upload a ","server"===u?"modelcard.json":"agentcard.json"," file to automatically populate the form fields. You can then review and modify the values before submitting."]})]})]})}),x&&(0,dn.jsxs)("div",{className:"pt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,dn.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Review and Submit"}),"server"===u?P():O()]}),!x&&(0,dn.jsx)("div",{className:"flex justify-end pt-6 border-t border-gray-200 dark:border-gray-700",children:(0,dn.jsx)("button",{type:"button",onClick:()=>l("/"),className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-md transition-colors",children:"Cancel"})})]})})]}):(0,dn.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:(0,dn.jsxs)("div",{className:"bg-yellow-50 dark:bg-yellow-900/30 border border-yellow-200 dark:border-yellow-800 rounded-lg p-6 text-center",children:[(0,dn.jsx)(No,{className:"mx-auto h-12 w-12 text-yellow-400"}),(0,dn.jsx)("h3",{className:"mt-4 text-lg font-medium text-yellow-800 dark:text-yellow-200",children:"Permission Required"}),(0,dn.jsx)("p",{className:"mt-2 text-sm text-yellow-700 dark:text-yellow-300",children:"You do not have permission to register servers or agents. Please contact an administrator to request access."}),(0,dn.jsx)("button",{onClick:()=>l("/"),className:"mt-4 px-4 py-2 text-sm font-medium text-yellow-800 dark:text-yellow-200 bg-yellow-100 dark:bg-yellow-900 hover:bg-yellow-200 dark:hover:bg-yellow-800 rounded-md transition-colors",children:"Return to Dashboard"})]})})},rf=["title","titleId"];function nf(e,t){let{title:r,titleId:n}=e,a=xn(e,rf);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const af=o.forwardRef(nf),sf=["title","titleId"];function lf(e,t){let{title:r,titleId:n}=e,a=xn(e,sf);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const of=o.forwardRef(lf),uf=()=>{const[e,t]=(0,o.useState)({username:"",password:""}),[r,n]=(0,o.useState)(!1),[a,s]=(0,o.useState)(""),[l,i]=(0,o.useState)({}),[u,c]=(0,o.useState)([]),[d,m]=(0,o.useState)(!1),[p,h]=(0,o.useState)(!1),[g,f]=(0,o.useState)(!1),[x,y]=(0,o.useState)(""),{login:b}=pn(),v=ie(),[D]=Ie();(0,o.useEffect)(()=>{console.log("[Login] Component mounted, fetching OAuth providers..."),k(),w();const e=D.get("error");e&&s(decodeURIComponent(e));const r="true"===localStorage.getItem("rememberMe"),n=localStorage.getItem("savedUsername");f(r),r&&n&&t(e=>qt(qt({},e),{},{username:n}))},[D]);const k=async()=>{try{const e=await cn.get("/api/auth/config");y(e.data.auth_server_url||"")}catch(a){console.error("Failed to fetch auth config:",a),y("http://localhost:8888")}};(0,o.useEffect)(()=>{console.log("[Login] oauthProviders state changed:",u)},[u]);const w=async()=>{try{var e;console.log("[Login] Fetching OAuth providers from /api/auth/providers");const t=await cn.get("/api/auth/providers");console.log("[Login] Response received:",t.data),console.log("[Login] Providers:",t.data.providers),c(t.data.providers||[]),console.log("[Login] State updated with",(null===(e=t.data.providers)||void 0===e?void 0:e.length)||0,"providers")}catch(a){console.error("[Login] Failed to fetch OAuth providers:",a)}},C=e=>{h(e.getModifierState("CapsLock"))},j=(e,t)=>{const r={};return"username"===e&&0===t.trim().length?r.username="Username is required":"username"===e&&t.length<2&&(r.username="Username must be at least 2 characters"),"password"===e&&0===t.length?r.password="Password is required":"password"===e&&t.length<3&&(r.password="Password must be at least 3 characters"),i(e=>qt(qt({},e),r)),0===Object.keys(r).length},F=(e,r)=>{t(t=>qt(qt({},t),{},{[e]:r})),l[e]&&i(t=>qt(qt({},t),{},{[e]:void 0})),a&&s("")},N=(e,t)=>{j(e,t)};return(0,dn.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,dn.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,dn.jsx)("h2",{className:"text-center text-3xl font-bold text-gray-900 dark:text-white",children:"Sign in to MCP Servers & A2A Agents Registry"}),(0,dn.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:"Access your MCP server management dashboard"})]}),(0,dn.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,dn.jsxs)("div",{className:"card p-8",children:[u.length>0&&(0,dn.jsxs)("div",{className:"space-y-3 mb-6",children:[u.map(e=>(0,dn.jsx)("button",{onClick:()=>(e=>{const t=window.location.origin,r=document.querySelector("base"),n=(null===r||void 0===r?void 0:r.getAttribute("href"))||"/",a=encodeURIComponent(t+n),s=x||"http://localhost:8888";window.location.href="".concat(s,"/oauth2/login/").concat(e,"?redirect_uri=").concat(a)})(e.name),className:"w-full flex items-center justify-center px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 transition-all duration-200 hover:shadow-md",children:(0,dn.jsxs)("span",{children:["Continue with ",e.display_name]})},e.name)),(0,dn.jsxs)("div",{className:"relative my-6",children:[(0,dn.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,dn.jsx)("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),(0,dn.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,dn.jsx)("span",{className:"px-4 bg-gray-50 dark:bg-gray-900 text-gray-500 dark:text-gray-400",children:"Or continue with username"})})]})]}),(0,dn.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),n(!0),s(""),i({});const r=j("username",e.username),l=j("password",e.password);if(r&&l)try{await b(e.username,e.password),g?(localStorage.setItem("rememberMe","true"),localStorage.setItem("savedUsername",e.username)):(localStorage.removeItem("rememberMe"),localStorage.removeItem("savedUsername")),v("/")}catch(a){var o,u;const t=(null===(o=a.response)||void 0===o||null===(u=o.data)||void 0===u?void 0:u.detail)||"Login failed";t.toLowerCase().includes("credential")||t.toLowerCase().includes("password")?s("Invalid username or password. Please check your credentials and try again."):t.toLowerCase().includes("user")&&t.toLowerCase().includes("not found")?s("User not found. Please check your username or contact support."):t.toLowerCase().includes("disabled")||t.toLowerCase().includes("blocked")?s("Account is disabled. Please contact support for assistance."):s(t)}finally{n(!1)}else n(!1)},className:"space-y-6",children:[a&&(0,dn.jsxs)("div",{className:"p-4 text-sm text-red-700 bg-red-50 border border-red-200 rounded-lg dark:bg-red-900/30 dark:text-red-400 dark:border-red-800 flex items-start space-x-2",children:[(0,dn.jsx)(fi,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),(0,dn.jsx)("span",{children:a})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Username"}),(0,dn.jsx)("input",{id:"username",type:"text",required:!0,autoComplete:"username",className:"input mt-1 ".concat(l.username?"border-red-300 dark:border-red-600 focus:ring-red-500 focus:border-red-500":""),value:e.username,onChange:e=>F("username",e.target.value),onBlur:e=>N("username",e.target.value),onKeyDown:C,placeholder:"Enter your username"}),l.username&&(0,dn.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:l.username})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),(0,dn.jsxs)("div",{className:"relative",children:[(0,dn.jsx)("input",{id:"password",type:d?"text":"password",required:!0,autoComplete:"current-password",className:"input mt-1 pr-12 ".concat(l.password?"border-red-300 dark:border-red-600 focus:ring-red-500 focus:border-red-500":""),value:e.password,onChange:e=>F("password",e.target.value),onBlur:e=>N("password",e.target.value),onKeyDown:C,placeholder:"Enter your password"}),(0,dn.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>m(!d),tabIndex:-1,children:d?(0,dn.jsx)(af,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"}):(0,dn.jsx)(of,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"})})]}),l.password&&(0,dn.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:l.password}),p&&(0,dn.jsxs)("p",{className:"mt-1 text-sm text-yellow-600 dark:text-yellow-400 flex items-center space-x-1",children:[(0,dn.jsx)(fi,{className:"h-4 w-4"}),(0,dn.jsx)("span",{children:"Caps Lock is on"})]})]}),(0,dn.jsx)("div",{className:"flex items-center justify-between",children:(0,dn.jsxs)("div",{className:"flex items-center",children:[(0,dn.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:g,onChange:e=>f(e.target.checked),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700"}),(0,dn.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Remember me"})]})}),(0,dn.jsx)("button",{type:"submit",disabled:r,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center space-x-2",children:r?(0,dn.jsxs)(dn.Fragment,{children:[(0,dn.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,dn.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,dn.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,dn.jsx)("span",{children:"Signing in..."})]}):(0,dn.jsx)("span",{children:"Sign in"})})]})]})})]})},cf=()=>{const e=ie(),[t]=Ie(),{user:r,loading:n}=pn();return(0,o.useEffect)(()=>{const a=t.get("error"),s=t.get("details");if(a){const t=s?"".concat(a,": ").concat(s):a;return void e("/login?error=".concat(encodeURIComponent(t)),{replace:!0})}n||e(r?"/":"/login?error=oauth2_session_invalid",{replace:!0})},[r,n,e,t]),(0,dn.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col justify-center items-center",children:[(0,dn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mb-4"}),(0,dn.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Completing authentication..."})]})},df=e=>{let{children:t}=e;const{user:r,loading:n}=pn(),a=ie();return(0,o.useEffect)(()=>{n||r||a("/login",{replace:!0})},[n,r,a]),n?(0,dn.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,dn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r?(0,dn.jsx)(dn.Fragment,{children:t}):null},mf=["title","titleId"];function pf(e,t){let{title:r,titleId:n}=e,a=xn(e,mf);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const hf=o.forwardRef(pf),gf=["title","titleId"];function ff(e,t){let{title:r,titleId:n}=e,a=xn(e,gf);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 14.25h13.5m-13.5 0a3 3 0 0 1-3-3m3 3a3 3 0 1 0 0 6h13.5a3 3 0 1 0 0-6m-16.5-3a3 3 0 0 1 3-3h13.5a3 3 0 0 1 3 3m-19.5 0a4.5 4.5 0 0 1 .9-2.7L5.737 5.1a3.375 3.375 0 0 1 2.7-1.35h7.126c1.062 0 2.062.5 2.7 1.35l2.587 3.45a4.5 4.5 0 0 1 .9 2.7m0 0a3 3 0 0 1-3 3m0 3h.008v.008h-.008v-.008Zm0-6h.008v.008h-.008v-.008Zm-3 6h.008v.008h-.008v-.008Zm0-6h.008v.008h-.008v-.008Z"}))}const xf=o.forwardRef(ff),yf=["title","titleId"];function bf(e,t){let{title:r,titleId:n}=e,a=xn(e,yf);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const vf=o.forwardRef(bf),Df=["title","titleId"];function kf(e,t){let{title:r,titleId:n}=e,a=xn(e,Df);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 12.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 18.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5Z"}))}const wf=o.forwardRef(kf),Cf=["title","titleId"];function jf(e,t){let{title:r,titleId:n}=e,a=xn(e,Cf);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const Ff=o.forwardRef(jf);function Nf(){const[e,t]=(0,o.useState)([]),[r,n]=(0,o.useState)(!0),[a,s]=(0,o.useState)(null),l=(0,o.useCallback)(async()=>{try{n(!0),s(null);const e=(await cn.get("/api/peers")).data||[],r=e.map(e=>async function(e){try{return(await cn.get("/api/peers/".concat(e,"/status"))).data}catch(t){return null}}(e.peer_id)),a=await Promise.all(r),l=e.map((e,t)=>qt(qt({},e),{},{syncStatus:a[t]}));t(l)}catch(a){var e,r;console.error("Failed to fetch federation peers:",a),s((null===(e=a.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.detail)||a.message||"Failed to fetch peers"),t([])}finally{n(!1)}},[]);return(0,o.useEffect)(()=>{l()},[l]),{peers:e,isLoading:r,error:a,refetch:l,hasPeers:e.length>0}}function Ef(e){switch(e){case"healthy":return"bg-green-500";case"warning":return"bg-yellow-500";case"error":return"bg-red-500";default:return"bg-gray-400"}}function Af(e){if(!e)return"Never";const t=new Date(e),r=(new Date).getTime()-t.getTime(),n=Math.floor(r/6e4),a=Math.floor(r/36e5),s=Math.floor(r/864e5);return n<1?"Just now":n<60?"".concat(n,"m ago"):a<24?"".concat(a,"h ago"):s<7?"".concat(s,"d ago"):t.toLocaleDateString()}const Sf=e=>{let{peer:t,isSyncing:r,onSync:n,onEdit:a,onDelete:s}=e;const l=(0,o.useRef)(null),[i,u]=(0,o.useState)({top:0,left:0}),d=(0,o.useCallback)(()=>{if(l.current){const e=l.current.getBoundingClientRect();u({top:e.bottom+4,left:e.right-192})}},[]);return(0,dn.jsx)(Ka,{as:"div",className:"relative inline-block text-left",children:e=>{let{open:o}=e;return o&&setTimeout(d,0),(0,dn.jsxs)(dn.Fragment,{children:[(0,dn.jsx)(Ka.Button,{ref:l,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:(0,dn.jsx)(wf,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"})}),o&&(0,c.createPortal)((0,dn.jsx)(ms,{show:o,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,dn.jsx)(Ka.Items,{static:!0,className:"fixed z-[9999] w-48 rounded-lg bg-white dark:bg-gray-800 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",style:{top:i.top,left:i.left},children:(0,dn.jsxs)("div",{className:"py-1",children:[(0,dn.jsx)(Ka.Item,{children:e=>{let{active:a}=e;return(0,dn.jsxs)("button",{onClick:n,disabled:r||!t.enabled,className:"".concat(a?"bg-gray-100 dark:bg-gray-700":""," flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-200 disabled:opacity-50"),children:[r?(0,dn.jsx)(Po,{className:"h-4 w-4 mr-3 animate-spin"}):(0,dn.jsx)(Ff,{className:"h-4 w-4 mr-3"}),r?"Syncing...":"Sync Now"]})}}),(0,dn.jsx)(Ka.Item,{children:e=>{let{active:t}=e;return(0,dn.jsxs)("button",{onClick:a,className:"".concat(t?"bg-gray-100 dark:bg-gray-700":""," flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-200"),children:[(0,dn.jsx)(Yo,{className:"h-4 w-4 mr-3"}),"Edit"]})}}),(0,dn.jsx)("div",{className:"border-t border-gray-100 dark:border-gray-700 my-1"}),(0,dn.jsx)(Ka.Item,{children:e=>{let{active:t}=e;return(0,dn.jsxs)("button",{onClick:s,className:"".concat(t?"bg-gray-100 dark:bg-gray-700":""," flex items-center w-full px-4 py-2 text-sm text-red-600 dark:text-red-400"),children:[(0,dn.jsx)(ni,{className:"h-4 w-4 mr-3"}),"Delete"]})}})]})})}),document.body)]})}})},_f=e=>{let{onShowToast:t}=e;const r=ie(),{peers:n,isLoading:a,error:s,refetch:l}=Nf(),[i,u]=(0,o.useState)(""),[c,d]=(0,o.useState)(new Set),[m,p]=(0,o.useState)(null),[h,g]=(0,o.useState)(""),[f,x]=(0,o.useState)(!1);(0,o.useEffect)(()=>{const e=setInterval(l,3e4);return()=>clearInterval(e)},[l]);const y=(0,o.useMemo)(()=>{if(!i)return n;const e=i.toLowerCase();return n.filter(t=>t.peer_id.toLowerCase().includes(e)||t.name.toLowerCase().includes(e)||t.endpoint.toLowerCase().includes(e))},[n,i]),b=async e=>{d(t=>new Set(t).add(e.peer_id));try{const r=await async function(e){return(await cn.post("/api/peers/".concat(e,"/sync"))).data}(e.peer_id);r.success?t("Synced ".concat(r.servers_synced," servers and ").concat(r.agents_synced,' agents from "').concat(e.name,'"'),"success"):t(r.error_message||'Sync failed for "'.concat(e.name,'"'),"error"),await l()}catch(a){var r,n;t((null===(r=a.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.detail)||'Failed to sync "'.concat(e.name,'"'),"error")}finally{d(t=>{const r=new Set(t);return r.delete(e.peer_id),r})}},v=e=>{var t;switch(e.sync_mode){case"all":return"All Public";case"whitelist":return"Whitelist";case"tag_filter":return"Tags: ".concat((null===(t=e.tag_filters)||void 0===t?void 0:t.join(", "))||"None");default:return e.sync_mode}};return a?(0,dn.jsxs)("div",{className:"space-y-4",children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,dn.jsx)("div",{className:"h-8 w-48 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),(0,dn.jsx)("div",{className:"h-10 w-32 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"})]}),(0,dn.jsx)("div",{className:"h-10 w-64 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),(0,dn.jsx)("div",{className:"space-y-2",children:[1,2,3].map(e=>(0,dn.jsx)("div",{className:"h-16 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"},e))})]}):s?(0,dn.jsxs)("div",{className:"text-center py-12",children:[(0,dn.jsx)(No,{className:"h-12 w-12 mx-auto text-red-500 mb-4"}),(0,dn.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Failed to Load Peers"}),(0,dn.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:s}),(0,dn.jsx)("button",{onClick:l,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Retry"})]}):(0,dn.jsxs)("div",{className:"space-y-4",children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,dn.jsxs)("div",{children:[(0,dn.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Federation Peers"}),(0,dn.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Manage peer registries for cross-registry synchronization"})]}),(0,dn.jsxs)("button",{onClick:()=>r("/settings/federation/peers/add"),className:"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[(0,dn.jsx)(So,{className:"h-5 w-5 mr-2"}),"Add Peer"]})]}),(0,dn.jsxs)("div",{className:"relative",children:[(0,dn.jsx)(Mo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,dn.jsx)("input",{type:"text",value:i,onChange:e=>u(e.target.value),placeholder:"Search peers...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),0===y.length?(0,dn.jsxs)("div",{className:"text-center py-12 bg-gray-50 dark:bg-gray-900/50 rounded-lg",children:[(0,dn.jsx)("svg",{className:"h-12 w-12 mx-auto text-gray-400 dark:text-gray-600 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,dn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})}),(0,dn.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:i?"No matching peers":"No peers configured"}),(0,dn.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:i?"Try a different search term":"Add a peer registry to enable federation"}),!i&&(0,dn.jsx)("button",{onClick:()=>r("/settings/federation/peers/add"),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Add First Peer"})]}):(0,dn.jsx)("div",{className:"overflow-x-auto",children:(0,dn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,dn.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-900/50",children:(0,dn.jsxs)("tr",{children:[(0,dn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Name"}),(0,dn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Endpoint"}),(0,dn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),(0,dn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Sync Mode"}),(0,dn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Interval"}),(0,dn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Last Sync"}),(0,dn.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),(0,dn.jsx)("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:y.map(e=>{var t,n;const a=(e=>e.enabled&&e.syncStatus?e.syncStatus.consecutive_failures>2?"error":e.syncStatus.consecutive_failures>0?"warning":e.syncStatus.is_healthy?"healthy":"unknown":"unknown")(e),s=c.has(e.peer_id);return(0,dn.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[(0,dn.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,dn.jsxs)("div",{className:"flex flex-col",children:[(0,dn.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.name}),(0,dn.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.peer_id})]})}),(0,dn.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,dn.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-300 truncate block max-w-[200px]",title:e.endpoint,children:e.endpoint})}),(0,dn.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,dn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,dn.jsx)("span",{className:"h-2 w-2 rounded-full ".concat(Ef(a))}),(0,dn.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-300 capitalize",children:e.enabled?"Enabled":"Disabled"})]})}),(0,dn.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,dn.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200",children:v(e)})}),(0,dn.jsxs)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300",children:[e.sync_interval_minutes,"m"]}),(0,dn.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300",children:(0,dn.jsx)("span",{title:(null===(t=e.syncStatus)||void 0===t?void 0:t.last_successful_sync)||"Never synced",children:Af(null===(n=e.syncStatus)||void 0===n?void 0:n.last_successful_sync)})}),(0,dn.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-right",children:(0,dn.jsx)(Sf,{peer:e,isSyncing:s,onSync:()=>b(e),onEdit:()=>r("/settings/federation/peers/".concat(e.peer_id,"/edit")),onDelete:()=>p(e)})})]},e.peer_id)})})]})}),m&&(0,dn.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:(0,dn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[(0,dn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Delete Peer"}),(0,dn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"This action is irreversible. All servers and agents synced from this peer will be removed."}),(0,dn.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:["Type ",(0,dn.jsx)("strong",{children:m.name})," to confirm:"]}),(0,dn.jsx)("input",{type:"text",value:h,onChange:e=>g(e.target.value),placeholder:m.name,disabled:f,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white mb-4"}),(0,dn.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,dn.jsx)("button",{onClick:()=>{p(null),g("")},disabled:f,className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 disabled:opacity-50",children:"Cancel"}),(0,dn.jsxs)("button",{onClick:async()=>{if(m&&h===m.name){x(!0);try{await async function(e){await cn.delete("/api/peers/".concat(e))}(m.peer_id),t('Peer "'.concat(m.name,'" has been deleted'),"success"),p(null),g(""),await l()}catch(n){var e,r;t((null===(e=n.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.detail)||"Failed to delete peer","error")}finally{x(!1)}}},disabled:h!==m.name||f,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[f&&(0,dn.jsx)(Po,{className:"h-4 w-4 mr-2 animate-spin"}),"Delete"]})]})]})})]})},Bf=e=>{let{peerId:t,onShowToast:r}=e;const n=ie(),a=!!t,{peer:s,isLoading:l,error:i}=function(e){const[t,r]=(0,o.useState)(null),[n,a]=(0,o.useState)(null),[s,l]=(0,o.useState)(!1),[i,u]=(0,o.useState)(null),c=(0,o.useCallback)(async()=>{if(!e)return r(null),void a(null);try{l(!0),u(null);const[t,n]=await Promise.all([cn.get("/api/peers/".concat(e)),cn.get("/api/peers/".concat(e,"/status")).catch(()=>({data:null}))]);r(t.data),a(n.data)}catch(s){var t,n;console.error("Failed to fetch peer ".concat(e,":"),s),u((null===(t=s.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||s.message||"Failed to fetch peer"),r(null),a(null)}finally{l(!1)}},[e]);return(0,o.useEffect)(()=>{c()},[c]),{peer:t,status:n,isLoading:s,error:i,refetch:c}}(t),[u,c]=(0,o.useState)({peer_id:"",name:"",endpoint:"",enabled:!0,sync_mode:"all",whitelist_servers:[],whitelist_agents:[],tag_filters:[],sync_interval_minutes:60,federation_token:""}),[d,m]=(0,o.useState)(""),[p,h]=(0,o.useState)(""),[g,f]=(0,o.useState)({}),[x,y]=(0,o.useState)(!1);(0,o.useEffect)(()=>{if(s){c({peer_id:s.peer_id,name:s.name,endpoint:s.endpoint,enabled:s.enabled,sync_mode:s.sync_mode,whitelist_servers:s.whitelist_servers||[],whitelist_agents:s.whitelist_agents||[],tag_filters:s.tag_filters||[],sync_interval_minutes:s.sync_interval_minutes,federation_token:""});const e=[...(s.whitelist_servers||[]).map(e=>"server:".concat(e)),...(s.whitelist_agents||[]).map(e=>"agent:".concat(e))];m(e.join(", ")),h((s.tag_filters||[]).join(", "))}},[s]);const b=e=>{const{name:t,value:r,type:n}=e.target,a="checkbox"===n?e.target.checked:r;c(e=>qt(qt({},e),{},{[t]:"sync_interval_minutes"===t?parseInt(r)||60:a})),g[t]&&f(e=>qt(qt({},e),{},{[t]:void 0}))};return a&&l?(0,dn.jsxs)("div",{className:"space-y-6",children:[(0,dn.jsx)("div",{className:"h-8 w-48 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),(0,dn.jsx)("div",{className:"space-y-4",children:[1,2,3,4,5].map(e=>(0,dn.jsx)("div",{className:"h-16 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"},e))})]}):a&&i?(0,dn.jsxs)("div",{className:"text-center py-12",children:[(0,dn.jsx)(No,{className:"h-12 w-12 mx-auto text-red-500 mb-4"}),(0,dn.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Failed to Load Peer"}),(0,dn.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:i}),(0,dn.jsx)("button",{onClick:()=>n("/settings/federation/peers"),className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600",children:"Back to Peers"})]}):(0,dn.jsxs)("div",{className:"space-y-6",children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,dn.jsxs)("div",{children:[(0,dn.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a?"Edit Peer":"Add Peer"}),(0,dn.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a?"Update peer registry configuration":"Configure a new peer registry for federation"})]}),(0,dn.jsxs)("button",{onClick:()=>n("/settings/federation/peers"),className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:[(0,dn.jsx)(Vl,{className:"h-5 w-5 mr-2"}),"Back to List"]})]}),(0,dn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{var e;const t={};if(u.peer_id.trim()?/^[a-zA-Z0-9-_]+$/.test(u.peer_id)||(t.peer_id="Peer ID must be alphanumeric with dashes or underscores only"):t.peer_id="Peer ID is required",u.name.trim()||(t.name="Display name is required"),u.endpoint.trim()?u.endpoint.startsWith("http://")||u.endpoint.startsWith("https://")||(t.endpoint="Endpoint must be a valid HTTP or HTTPS URL"):t.endpoint="Endpoint URL is required",a||null!==(e=u.federation_token)&&void 0!==e&&e.trim()||(t.federation_token="Federation token is required"),(u.sync_interval_minutes<5||u.sync_interval_minutes>1440)&&(t.sync_interval_minutes="Sync interval must be between 5 and 1440 minutes"),"whitelist"===u.sync_mode){const e=d.split(",").map(e=>e.trim()).filter(Boolean);0===e.length&&(t.whitelist="At least one whitelist item is required")}if("tag_filter"===u.sync_mode){const e=p.split(",").map(e=>e.trim()).filter(Boolean);0===e.length&&(t.tag_filters="At least one tag is required")}return f(t),0===Object.keys(t).length})()){y(!0);try{const e=d.split(",").map(e=>e.trim()).filter(Boolean),s=[],l=[];for(const t of e)t.startsWith("server:")?s.push(t.substring(7)):t.startsWith("agent:")?l.push(t.substring(6)):s.push(t);const o=p.split(",").map(e=>e.trim()).filter(Boolean),i=qt(qt({},u),{},{whitelist_servers:s,whitelist_agents:l,tag_filters:o});a&&!i.federation_token&&delete i.federation_token,a?(await async function(e,t){return(await cn.put("/api/peers/".concat(e),t)).data}(t,i),r('Peer "'.concat(u.name,'" has been updated'),"success")):(await async function(e){return(await cn.post("/api/peers",e)).data}(i),r('Peer "'.concat(u.name,'" has been added'),"success")),n("/settings/federation/peers")}catch(o){var s,l;const e=(null===(s=o.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.detail)||o.message||"Failed to ".concat(a?"update":"create"," peer");r(e,"error")}finally{y(!1)}}},className:"space-y-6",children:[(0,dn.jsxs)("div",{className:"space-y-4",children:[(0,dn.jsx)("h3",{className:"text-sm font-medium text-gray-900 dark:text-white uppercase tracking-wider",children:"Basic Information"}),(0,dn.jsxs)("div",{children:[(0,dn.jsxs)("label",{htmlFor:"peer_id",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Peer ID ",(0,dn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,dn.jsx)("input",{type:"text",id:"peer_id",name:"peer_id",value:u.peer_id,onChange:b,disabled:a,placeholder:"e.g., lob-a-registry",className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-900\n                         text-gray-900 dark:text-white\n                         ".concat(g.peer_id?"border-red-500":"border-gray-300 dark:border-gray-600","\n                         ").concat(a?"opacity-50 cursor-not-allowed":"","\n                         focus:ring-2 focus:ring-purple-500 focus:border-transparent")}),g.peer_id&&(0,dn.jsx)("p",{className:"mt-1 text-sm text-red-500",children:g.peer_id}),(0,dn.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Unique identifier for this peer (alphanumeric, dashes, underscores)"})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsxs)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Display Name ",(0,dn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,dn.jsx)("input",{type:"text",id:"name",name:"name",value:u.name,onChange:b,placeholder:"e.g., LOB-A Registry",className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-900\n                         text-gray-900 dark:text-white\n                         ".concat(g.name?"border-red-500":"border-gray-300 dark:border-gray-600","\n                         focus:ring-2 focus:ring-purple-500 focus:border-transparent")}),g.name&&(0,dn.jsx)("p",{className:"mt-1 text-sm text-red-500",children:g.name})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsxs)("label",{htmlFor:"endpoint",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Endpoint URL ",(0,dn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,dn.jsx)("input",{type:"url",id:"endpoint",name:"endpoint",value:u.endpoint,onChange:b,placeholder:"https://lob-a-registry.company.com",className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-900\n                         text-gray-900 dark:text-white\n                         ".concat(g.endpoint?"border-red-500":"border-gray-300 dark:border-gray-600","\n                         focus:ring-2 focus:ring-purple-500 focus:border-transparent")}),g.endpoint&&(0,dn.jsx)("p",{className:"mt-1 text-sm text-red-500",children:g.endpoint}),(0,dn.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Base URL of the peer registry API"})]}),(0,dn.jsxs)("div",{className:"flex items-center",children:[(0,dn.jsx)("input",{type:"checkbox",id:"enabled",name:"enabled",checked:u.enabled,onChange:b,className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),(0,dn.jsx)("label",{htmlFor:"enabled",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Enable sync from this peer"})]})]}),(0,dn.jsxs)("div",{className:"space-y-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,dn.jsx)("h3",{className:"text-sm font-medium text-gray-900 dark:text-white uppercase tracking-wider",children:"Authentication"}),(0,dn.jsxs)("div",{children:[(0,dn.jsxs)("label",{htmlFor:"federation_token",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Federation Static Token ",!a&&(0,dn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,dn.jsx)("input",{type:"password",id:"federation_token",name:"federation_token",value:u.federation_token||"",onChange:b,placeholder:a?"(leave blank to keep existing)":"Enter token from peer registry",autoComplete:"off",className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-900\n                         text-gray-900 dark:text-white\n                         ".concat(g.federation_token?"border-red-500":"border-gray-300 dark:border-gray-600","\n                         focus:ring-2 focus:ring-purple-500 focus:border-transparent")}),g.federation_token&&(0,dn.jsx)("p",{className:"mt-1 text-sm text-red-500",children:g.federation_token}),(0,dn.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:a?"Leave blank to keep existing token, or enter a new value to update":"The FEDERATION_STATIC_TOKEN value from the peer registry"})]})]}),(0,dn.jsxs)("div",{className:"space-y-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,dn.jsx)("h3",{className:"text-sm font-medium text-gray-900 dark:text-white uppercase tracking-wider",children:"Sync Configuration"}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{htmlFor:"sync_mode",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Sync Mode"}),(0,dn.jsxs)("select",{id:"sync_mode",name:"sync_mode",value:u.sync_mode,onChange:b,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[(0,dn.jsx)("option",{value:"all",children:"All Public Items"}),(0,dn.jsx)("option",{value:"whitelist",children:"Whitelist Specific Items"}),(0,dn.jsx)("option",{value:"tag_filter",children:"Filter by Tags"})]})]}),"whitelist"===u.sync_mode&&(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{htmlFor:"whitelist",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Whitelist Items"}),(0,dn.jsx)("textarea",{id:"whitelist",value:d,onChange:e=>m(e.target.value),placeholder:"server:/finance-tools, agent:/code-reviewer",rows:3,className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-900\n                           text-gray-900 dark:text-white\n                           ".concat(g.whitelist?"border-red-500":"border-gray-300 dark:border-gray-600","\n                           focus:ring-2 focus:ring-purple-500 focus:border-transparent")}),g.whitelist&&(0,dn.jsx)("p",{className:"mt-1 text-sm text-red-500",children:g.whitelist}),(0,dn.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:'Comma-separated list. Prefix with "server:" or "agent:" (default: server)'})]}),"tag_filter"===u.sync_mode&&(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{htmlFor:"tag_filters",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tag Filters"}),(0,dn.jsx)("input",{type:"text",id:"tag_filters",value:p,onChange:e=>h(e.target.value),placeholder:"production, approved, finance",className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-900\n                           text-gray-900 dark:text-white\n                           ".concat(g.tag_filters?"border-red-500":"border-gray-300 dark:border-gray-600","\n                           focus:ring-2 focus:ring-purple-500 focus:border-transparent")}),g.tag_filters&&(0,dn.jsx)("p",{className:"mt-1 text-sm text-red-500",children:g.tag_filters}),(0,dn.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Comma-separated list of tags. Only items with these tags will be synced."})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{htmlFor:"sync_interval_minutes",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Sync Interval (minutes)"}),(0,dn.jsx)("input",{type:"number",id:"sync_interval_minutes",name:"sync_interval_minutes",value:u.sync_interval_minutes,onChange:b,min:5,max:1440,className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-900\n                         text-gray-900 dark:text-white\n                         ".concat(g.sync_interval_minutes?"border-red-500":"border-gray-300 dark:border-gray-600","\n                         focus:ring-2 focus:ring-purple-500 focus:border-transparent")}),g.sync_interval_minutes&&(0,dn.jsx)("p",{className:"mt-1 text-sm text-red-500",children:g.sync_interval_minutes}),(0,dn.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"How often to sync from this peer (5-1440 minutes)"})]})]}),(0,dn.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,dn.jsx)("button",{type:"button",onClick:()=>n("/settings/federation/peers"),disabled:x,className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 disabled:opacity-50",children:"Cancel"}),(0,dn.jsxs)("button",{type:"submit",disabled:x,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 flex items-center",children:[x&&(0,dn.jsx)(Po,{className:"h-4 w-4 mr-2 animate-spin"}),a?"Save Changes":"Add Peer"]})]})]})]})},Tf=[{format:"env",label:".env"},{format:"json",label:"JSON"},{format:"tfvars",label:"Terraform (.tfvars)"},{format:"yaml",label:"YAML"}],Lf=new Set(["deployment","storage"]);function Rf(e,t){if(!t)return e;const r=e.toLowerCase().indexOf(t.toLowerCase());return-1===r?e:(0,dn.jsxs)(dn.Fragment,{children:[e.slice(0,r),(0,dn.jsx)("mark",{className:"bg-yellow-200 dark:bg-yellow-700 rounded px-0.5",children:e.slice(r,r+t.length)}),e.slice(r+t.length)]})}const Pf=e=>{let{group:t,expanded:r,onToggle:n,searchTerm:a,copiedKey:s,onCopy:l}=e;const o="config-group-".concat(t.id);return(0,dn.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[(0,dn.jsxs)("button",{onClick:n,"aria-expanded":r,"aria-controls":o,className:"w-full flex items-center justify-between px-4 py-3 bg-gray-50 dark:bg-gray-900/50 hover:bg-gray-100 dark:hover:bg-gray-700/50 transition-colors text-left",children:[(0,dn.jsxs)("div",{className:"flex items-center space-x-2",children:[r?(0,dn.jsx)(Cs,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"}):(0,dn.jsx)(To,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"}),(0,dn.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Rf(t.title,a)})]}),(0,dn.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400 bg-gray-200 dark:bg-gray-700 px-2 py-0.5 rounded-full",children:[t.fields.length," ",1===t.fields.length?"field":"fields"]})]}),r&&(0,dn.jsx)("div",{id:o,role:"region",className:"divide-y divide-gray-100 dark:divide-gray-700/50",children:t.fields.map(e=>(0,dn.jsxs)("div",{className:"flex items-center justify-between px-4 py-2.5 hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[(0,dn.jsxs)("div",{className:"flex-1 min-w-0 mr-4",children:[(0,dn.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono truncate",children:Rf(e.key,a)}),(0,dn.jsx)("div",{className:"text-sm text-gray-900 dark:text-white",children:Rf(e.label,a)})]}),(0,dn.jsxs)("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[(0,dn.jsxs)("span",{className:"text-sm font-mono ".concat(e.is_masked?"text-gray-400 dark:text-gray-500 italic":"text-gray-700 dark:text-gray-300"),children:[Rf(e.value,a),e.unit&&!e.is_masked&&(0,dn.jsx)("span",{className:"text-xs text-gray-400 dark:text-gray-500 ml-1",children:e.unit})]}),!e.is_masked&&null!==e.raw_value&&(0,dn.jsx)("button",{onClick:()=>l(e.key,String(e.raw_value)),className:"p-1 rounded hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors","aria-label":"Copy ".concat(e.label," value"),title:"Copy value",children:s===e.key?(0,dn.jsx)(oo,{className:"h-4 w-4 text-green-500"}):(0,dn.jsx)(co,{className:"h-4 w-4 text-gray-400 dark:text-gray-500"})})]})]},e.key))})]})},Of=e=>{let{onError:t,showToast:r}=e;const[n,a]=(0,o.useState)(null),[s,l]=(0,o.useState)(!0),[i,u]=(0,o.useState)(null),[c,d]=(0,o.useState)(new Set(Lf)),[m,p]=(0,o.useState)(""),[h,g]=(0,o.useState)(null),[f,x]=(0,o.useState)(!1),y=(0,o.useCallback)(async()=>{l(!0),u(null);try{const e=await cn.get("/api/config/full");a(e.data)}catch(n){var e,r;const a=(null===(e=n.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.detail)||"Failed to load configuration";u(a),null===t||void 0===t||t(a)}finally{l(!1)}},[t]);(0,o.useEffect)(()=>{y()},[y]);const b=(0,o.useMemo)(()=>{if(!n)return[];if(!m.trim())return n.groups;const e=m.toLowerCase();return n.groups.map(t=>qt(qt({},t),{},{fields:t.fields.filter(t=>t.key.toLowerCase().includes(e)||t.label.toLowerCase().includes(e)||t.value.toLowerCase().includes(e))})).filter(e=>e.fields.length>0)},[n,m]),v=(0,o.useMemo)(()=>b.reduce((e,t)=>e+t.fields.length,0),[b]),D=(0,o.useCallback)(e=>{d(t=>{const r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r})},[]),k=(0,o.useCallback)(()=>{n&&d(new Set(n.groups.map(e=>e.id)))},[n]),w=(0,o.useCallback)(()=>{d(new Set)},[]),C=(0,o.useCallback)(async(e,t)=>{try{await navigator.clipboard.writeText(t),g(e),null===r||void 0===r||r("Copied to clipboard","success"),setTimeout(()=>g(null),2e3)}catch(n){null===r||void 0===r||r("Failed to copy","error")}},[r]),j=(0,o.useCallback)(async e=>{x(!1);try{const t=await cn.get("/api/config/export",{params:{format:e},responseType:"blob"}),r=t.headers["content-disposition"];let n="mcp-registry-config.".concat(e);if(r){const e=r.match(/filename="?([^"]+)"?/);e&&(n=e[1])}const a=window.URL.createObjectURL(new Blob([t.data])),s=document.createElement("a");s.href=a,s.setAttribute("download",n),document.body.appendChild(s),s.click(),s.remove(),window.URL.revokeObjectURL(a)}catch(a){var t,n;const e=(null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Export failed";null===r||void 0===r||r(e,"error")}},[r]);return s?(0,dn.jsxs)("div",{className:"space-y-4","data-testid":"config-skeleton",children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,dn.jsx)("div",{className:"h-7 w-56 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),(0,dn.jsxs)("div",{className:"flex space-x-2",children:[(0,dn.jsx)("div",{className:"h-9 w-24 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),(0,dn.jsx)("div",{className:"h-9 w-9 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"})]})]}),(0,dn.jsx)("div",{className:"h-10 w-full bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),[1,2,3,4].map(e=>(0,dn.jsx)("div",{className:"h-14 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"},e))]}):i?(0,dn.jsxs)("div",{className:"text-center py-12","data-testid":"config-error",children:[(0,dn.jsx)(No,{className:"h-12 w-12 mx-auto text-red-500 mb-4"}),(0,dn.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Failed to Load Configuration"}),(0,dn.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:i}),(0,dn.jsx)("button",{onClick:y,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Retry"})]}):n?(0,dn.jsxs)("div",{className:"space-y-4",children:[(0,dn.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[(0,dn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,dn.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"System Configuration"}),n.is_local_dev&&(0,dn.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/40 dark:text-yellow-300","data-testid":"local-dev-badge",children:"Local Development Mode"})]}),(0,dn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,dn.jsxs)("div",{className:"relative",children:[(0,dn.jsxs)("button",{onClick:()=>x(e=>!e),className:"flex items-center px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors","aria-label":"Export configuration",children:[(0,dn.jsx)(ho,{className:"h-4 w-4 mr-1.5"}),"Export"]}),f&&(0,dn.jsx)("div",{className:"absolute right-0 mt-1 w-48 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-10",children:Tf.map(e=>(0,dn.jsx)("button",{onClick:()=>j(e.format),className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 first:rounded-t-lg last:rounded-b-lg",children:e.label},e.format))})]}),(0,dn.jsx)("button",{onClick:k,className:"px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Expand All"}),(0,dn.jsx)("button",{onClick:w,className:"px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Collapse All"}),(0,dn.jsx)("button",{onClick:y,className:"p-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors","aria-label":"Refresh configuration",title:"Refresh",children:(0,dn.jsx)(Po,{className:"h-4 w-4"})})]})]}),(0,dn.jsxs)("div",{className:"relative",children:[(0,dn.jsx)(Mo,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,dn.jsx)("input",{type:"text",value:m,onChange:e=>p(e.target.value),placeholder:"Search configuration...","aria-label":"Search configuration",className:"w-full pl-10 pr-10 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),m&&(0,dn.jsx)("button",{onClick:()=>p(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300","aria-label":"Clear search",children:(0,dn.jsx)(ao,{className:"h-5 w-5"})})]}),m.trim()&&b.length>0&&(0,dn.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400","data-testid":"search-count",children:[v," ",1===v?"field":"fields"," in"," ",b.length," ",1===b.length?"group":"groups"]}),m.trim()&&0===b.length&&(0,dn.jsx)("div",{className:"text-center py-8","data-testid":"no-results",children:(0,dn.jsxs)("p",{className:"text-gray-500 dark:text-gray-400",children:['No configuration fields match "',(0,dn.jsx)("span",{className:"font-medium",children:m}),'"']})}),(0,dn.jsx)("div",{className:"space-y-3",children:b.map(e=>(0,dn.jsx)(Pf,{group:e,expanded:c.has(e.id),onToggle:()=>D(e.id),searchTerm:m,copiedKey:h,onCopy:C},e.id))}),(0,dn.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-gray-400 dark:text-gray-500 pt-2 border-t border-gray-200 dark:border-gray-700",children:[(0,dn.jsxs)("span",{children:[(0,dn.jsx)("code",{className:"bg-gray-100 dark:bg-gray-800 px-1 rounded",children:"****"})," = masked sensitive value"]}),(0,dn.jsxs)("span",{children:[(0,dn.jsx)("code",{className:"bg-gray-100 dark:bg-gray-800 px-1 rounded",children:"(not set)"})," = not configured"]})]})]}):null},If=e=>{let{onShowToast:t}=e;const{user:r}=pn(),[n,a]=Ie(),{virtualServers:s,loading:l,error:i,refreshData:u,createVirtualServer:c,updateVirtualServer:d,deleteVirtualServer:m,toggleVirtualServer:p}=Rg(),[h,g]=(0,o.useState)(""),[f,x]=(0,o.useState)(!1),[y,b]=(0,o.useState)(void 0),[v,D]=(0,o.useState)(null),[k,w]=(0,o.useState)(""),[C,j]=(0,o.useState)(!1),F=(null===r||void 0===r?void 0:r.can_modify_servers)||(null===r||void 0===r?void 0:r.is_admin)||!1,{virtualServer:N,loading:E}=Pg(y);(0,o.useEffect)(()=>{const e=n.get("edit");if(e&&!l&&s.length>0){const t=decodeURIComponent(e),r=s.some(e=>e.path===t);r&&(b(t),x(!0)),n.delete("edit"),a(n,{replace:!0})}},[n,l,s]);const A=h?s.filter(e=>{var t,r;return e.server_name.toLowerCase().includes(h.toLowerCase())||e.path.toLowerCase().includes(h.toLowerCase())||(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(h.toLowerCase()))||(null===(r=e.tags)||void 0===r?void 0:r.some(e=>e.toLowerCase().includes(h.toLowerCase())))}):s,S=()=>{b(void 0),x(!0)};return l?(0,dn.jsxs)("div",{className:"space-y-4",children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,dn.jsx)("div",{className:"h-8 w-48 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),(0,dn.jsx)("div",{className:"h-10 w-40 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"})]}),(0,dn.jsx)("div",{className:"h-10 w-64 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),(0,dn.jsx)("div",{className:"space-y-2",children:[1,2,3].map(e=>(0,dn.jsx)("div",{className:"h-16 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"},e))})]}):i?(0,dn.jsxs)("div",{className:"text-center py-12",children:[(0,dn.jsx)(No,{className:"h-12 w-12 mx-auto text-red-500 mb-4"}),(0,dn.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Failed to Load Virtual Servers"}),(0,dn.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:i}),(0,dn.jsx)("button",{onClick:u,className:"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700",children:"Retry"})]}):(0,dn.jsxs)("div",{className:"space-y-4",children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,dn.jsxs)("div",{children:[(0,dn.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Virtual MCP Servers"}),(0,dn.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Manage virtual servers that aggregate tools from multiple backends"})]}),(0,dn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dn.jsx)("button",{onClick:u,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Refresh",children:(0,dn.jsx)(Po,{className:"h-5 w-5"})}),F&&(0,dn.jsxs)("button",{onClick:S,className:"flex items-center px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors",children:[(0,dn.jsx)(So,{className:"h-5 w-5 mr-2"}),"Create Virtual Server"]})]})]}),(0,dn.jsxs)("div",{className:"relative",children:[(0,dn.jsx)(Mo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,dn.jsx)("input",{type:"text",value:h,onChange:e=>g(e.target.value),placeholder:"Search virtual servers...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]}),0===A.length?(0,dn.jsxs)("div",{className:"text-center py-12 bg-gray-50 dark:bg-gray-900/50 rounded-lg",children:[(0,dn.jsx)("svg",{className:"h-12 w-12 mx-auto text-gray-400 dark:text-gray-600 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,dn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2"})}),(0,dn.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:h?"No matching virtual servers":"No virtual servers configured"}),(0,dn.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:h?"Try a different search term":"Create a virtual server to aggregate tools from multiple backends"}),!h&&F&&(0,dn.jsx)("button",{onClick:S,className:"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700",children:"Create First Virtual Server"})]}):(0,dn.jsx)("div",{className:"overflow-x-auto",children:(0,dn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,dn.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-900/50",children:(0,dn.jsxs)("tr",{children:[(0,dn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Name"}),(0,dn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Path"}),(0,dn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Tools"}),(0,dn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Backends"}),(0,dn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),(0,dn.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),(0,dn.jsx)("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:A.map(e=>(0,dn.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[(0,dn.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,dn.jsxs)("div",{className:"flex flex-col",children:[(0,dn.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.server_name}),e.description&&(0,dn.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400 truncate max-w-[200px]",children:e.description})]})}),(0,dn.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,dn.jsx)("code",{className:"text-sm text-gray-600 dark:text-gray-300 font-mono",children:e.path})}),(0,dn.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300",children:e.tool_count}),(0,dn.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,dn.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.backend_paths.slice(0,2).map(e=>(0,dn.jsx)("span",{className:"px-2 py-0.5 text-xs font-mono bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded",children:e},e)),e.backend_paths.length>2&&(0,dn.jsxs)("span",{className:"px-2 py-0.5 text-xs bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400 rounded",children:["+",e.backend_paths.length-2]})]})}),(0,dn.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,dn.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(e.is_enabled?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200"),children:e.is_enabled?"Enabled":"Disabled"})}),(0,dn.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-right",children:(0,dn.jsx)("div",{className:"flex items-center justify-end gap-2",children:F&&(0,dn.jsxs)(dn.Fragment,{children:[(0,dn.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,dn.jsx)("input",{type:"checkbox",checked:e.is_enabled,onChange:r=>(async(e,r)=>{try{await p(e,r),t("Virtual server ".concat(r?"enabled":"disabled"),"success")}catch(n){t("Failed to toggle virtual server","error")}})(e.path,r.target.checked),className:"sr-only peer","aria-label":"Enable ".concat(e.server_name)}),(0,dn.jsx)("div",{className:"relative w-9 h-5 rounded-full transition-colors duration-200 ".concat(e.is_enabled?"bg-teal-600":"bg-gray-300 dark:bg-gray-600"),children:(0,dn.jsx)("div",{className:"absolute top-0.5 left-0.5 w-4 h-4 bg-white rounded-full transition-transform duration-200 ".concat(e.is_enabled?"translate-x-4":"translate-x-0")})})]}),(0,dn.jsx)("button",{onClick:()=>(e=>{b(e.path),x(!0)})(e),className:"px-3 py-1 text-xs font-medium text-teal-700 dark:text-teal-300 bg-teal-50 dark:bg-teal-900/20 rounded hover:bg-teal-100 dark:hover:bg-teal-900/40 transition-colors",children:"Edit"}),(0,dn.jsx)("button",{onClick:()=>D(e),className:"px-3 py-1 text-xs font-medium text-red-700 dark:text-red-300 bg-red-50 dark:bg-red-900/20 rounded hover:bg-red-100 dark:hover:bg-red-900/40 transition-colors",children:"Delete"})]})})})]},e.path))})]})}),f&&y&&E&&(0,dn.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:(0,dn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-8 flex flex-col items-center",children:[(0,dn.jsx)(Po,{className:"h-8 w-8 text-teal-500 animate-spin mb-3"}),(0,dn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Loading server data..."})]})}),f&&(!y||y&&!E)&&(0,dn.jsx)(Mg,{virtualServer:y?N:null,onSave:async e=>{try{y?(await d(y,e),t("Virtual server updated successfully","success")):(await c(e),t("Virtual server created successfully","success")),x(!1),b(void 0)}catch(r){const e=r instanceof Error?r.message:"An unexpected error occurred";t("Failed to save virtual server: ".concat(e),"error")}},onCancel:()=>{x(!1),b(void 0)}}),v&&(0,dn.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",role:"dialog","aria-modal":"true","aria-label":"Delete virtual server confirmation",children:(0,dn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[(0,dn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Delete Virtual Server"}),(0,dn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"This action is irreversible. The virtual server and all its tool mappings will be permanently removed."}),(0,dn.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:["Type ",(0,dn.jsx)("strong",{children:v.server_name})," to confirm:"]}),(0,dn.jsx)("input",{type:"text",value:k,onChange:e=>w(e.target.value),placeholder:v.server_name,disabled:C,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white mb-4",onKeyDown:e=>{"Escape"===e.key&&(D(null),w(""))},autoFocus:!0}),(0,dn.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,dn.jsx)("button",{onClick:()=>{D(null),w("")},disabled:C,className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 disabled:opacity-50",children:"Cancel"}),(0,dn.jsxs)("button",{onClick:async()=>{if(v&&k===v.server_name){j(!0);try{await m(v.path),t('Virtual server "'.concat(v.server_name,'" deleted'),"success"),D(null),w("")}catch(n){var e,r;t((null===(e=n.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.detail)||"Failed to delete virtual server","error")}finally{j(!1)}}},disabled:k!==v.server_name||C,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[C&&(0,dn.jsx)(Po,{className:"h-4 w-4 mr-2 animate-spin"}),"Delete"]})]})]})})]})},Mf=[{value:"",label:"All Operations"},{value:"create",label:"Create"},{value:"read",label:"Read"},{value:"update",label:"Update"},{value:"delete",label:"Delete"},{value:"list",label:"List"},{value:"toggle",label:"Toggle"},{value:"rate",label:"Rate"},{value:"login",label:"Login"},{value:"logout",label:"Logout"},{value:"search",label:"Search"}],zf=[{value:"",label:"All Methods"},{value:"initialize",label:"Initialize"},{value:"tools/list",label:"Tools List"},{value:"tools/call",label:"Tools Call"},{value:"resources/list",label:"Resources List"},{value:"resources/templates/list",label:"Resource Templates"},{value:"notifications/initialized",label:"Notifications"}],Uf=[{value:"",label:"All Resources"},{value:"server",label:"Server"},{value:"agent",label:"Agent"},{value:"auth",label:"Auth"},{value:"federation",label:"Federation"},{value:"health",label:"Health"},{value:"search",label:"Search"}],Hf=[{value:"",label:"All Servers"}],Vf=[{value:"",label:"All Status Codes"},{value:"2xx",label:"2xx Success"},{value:"4xx",label:"4xx Client Error"},{value:"5xx",label:"5xx Server Error"},{value:"error",label:"All Errors (4xx & 5xx)"}],Wf=e=>{let{filters:t,onFilterChange:r,onRefresh:n,loading:a=!1}=e;const s="mcp_access"===t.stream,l=s?zf:Mf,o=s?Hf:Uf,i=e=>{r(qt(qt({},t),{},{resourceType:e.target.value||void 0}))},u=!!(t.from||t.to||t.username||t.operation||t.resourceType||t.statusMin||t.statusMax);return(0,dn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4 mb-4",children:[(0,dn.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,dn.jsx)(Zl,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"}),(0,dn.jsx)("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Filters"}),u&&(0,dn.jsxs)("button",{onClick:()=>{r({stream:t.stream,from:void 0,to:void 0,username:void 0,operation:void 0,resourceType:void 0,statusMin:void 0,statusMax:void 0})},className:"ml-auto flex items-center gap-1 text-xs text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:[(0,dn.jsx)(ao,{className:"h-4 w-4"}),"Clear filters"]}),n&&(0,dn.jsx)("button",{onClick:n,disabled:a,className:"ml-2 p-1.5 text-gray-500 hover:text-blue-600 dark:text-gray-400 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded transition-colors disabled:opacity-50",title:"Refresh",children:(0,dn.jsx)(Po,{className:"h-4 w-4 ".concat(a?"animate-spin":"")})})]}),(0,dn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Log Stream"}),(0,dn.jsxs)("select",{value:t.stream,onChange:e=>{r(qt(qt({},t),{},{stream:e.target.value,operation:void 0,resourceType:void 0}))},className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,dn.jsx)("option",{value:"registry_api",children:"Registry API"}),(0,dn.jsx)("option",{value:"mcp_access",children:"MCP Access"})]})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"From Date"}),(0,dn.jsx)("input",{type:"datetime-local",value:t.from||"",onChange:e=>{r(qt(qt({},t),{},{from:e.target.value||void 0}))},className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"To Date"}),(0,dn.jsx)("input",{type:"datetime-local",value:t.to||"",onChange:e=>{r(qt(qt({},t),{},{to:e.target.value||void 0}))},className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Username"}),(0,dn.jsx)("input",{type:"text",value:t.username||"",onChange:e=>{r(qt(qt({},t),{},{username:e.target.value||void 0}))},placeholder:"Filter by username",className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:s?"MCP Method":"Operation"}),(0,dn.jsx)("select",{value:t.operation||"",onChange:e=>{r(qt(qt({},t),{},{operation:e.target.value||void 0}))},className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:l.map(e=>(0,dn.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:s?"Server Name":"Resource Type"}),s?(0,dn.jsx)("input",{type:"text",value:t.resourceType||"",onChange:i,placeholder:"Filter by server name",className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}):(0,dn.jsx)("select",{value:t.resourceType||"",onChange:i,className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:o.map(e=>(0,dn.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Status Code"}),(0,dn.jsx)("select",{value:(()=>{const{statusMin:e,statusMax:r}=t;return 200===e&&299===r?"2xx":400===e&&499===r?"4xx":500===e&&599===r?"5xx":400===e&&599===r?"error":""})(),onChange:e=>{let n,a;switch(e.target.value){case"2xx":n=200,a=299;break;case"4xx":n=400,a=499;break;case"5xx":n=500,a=599;break;case"error":n=400,a=599;break;default:n=void 0,a=void 0}r(qt(qt({},t),{},{statusMin:n,statusMax:a}))},className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:Vf.map(e=>(0,dn.jsx)("option",{value:e.value,children:e.label},e.value))})]})]})]})},qf=["title","titleId"];function Kf(e,t){let{title:r,titleId:n}=e,a=xn(e,qf);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m18.75 4.5-7.5 7.5 7.5 7.5m-6-15L5.25 12l7.5 7.5"}))}const $f=o.forwardRef(Kf),Jf=["title","titleId"];function Qf(e,t){let{title:r,titleId:n}=e,a=xn(e,Jf);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const Gf=o.forwardRef(Qf),Yf=["title","titleId"];function Zf(e,t){let{title:r,titleId:n}=e,a=xn(e,Yf);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m5.25 4.5 7.5 7.5-7.5 7.5m6-15 7.5 7.5-7.5 7.5"}))}const Xf=o.forwardRef(Zf),ex=e=>{switch(e.toUpperCase()){case"GET":return"text-blue-600 dark:text-blue-400";case"POST":return"text-green-600 dark:text-green-400";case"PUT":case"PATCH":return"text-yellow-600 dark:text-yellow-400";case"DELETE":return"text-red-600 dark:text-red-400";default:return"text-gray-600 dark:text-gray-400"}},tx=e=>{switch(e.toLowerCase()){case"success":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"error":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";case"timeout":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}},rx=e=>{try{return new Date(e).toLocaleString(void 0,{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}catch(t){return e}},nx=e=>{let{filters:t,onEventSelect:r,selectedEventId:n}=e;const[a,s]=(0,o.useState)([]),[l,i]=(0,o.useState)(!1),[u,c]=(0,o.useState)(null),[d,m]=(0,o.useState)({total:0,limit:50,offset:0}),[p,h]=(0,o.useState)(-1),g=(0,o.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;i(!0),c(null);try{const n=new URLSearchParams;n.set("stream",t.stream),n.set("limit",d.limit.toString()),n.set("offset",e.toString()),n.set("sort_order",r.toString()),t.from&&n.set("from",new Date(t.from).toISOString()),t.to&&n.set("to",new Date(t.to).toISOString()),t.username&&n.set("username",t.username),t.operation&&n.set("operation",t.operation),t.resourceType&&n.set("resource_type",t.resourceType),void 0!==t.statusMin&&n.set("status_min",t.statusMin.toString()),void 0!==t.statusMax&&n.set("status_max",t.statusMax.toString());const a=(await cn.get("/api/audit/events?".concat(n.toString()))).data;s(a.events||[]),m({total:a.total||0,limit:a.limit||50,offset:a.offset||0})}catch(o){var n,a,l;if(console.error("Failed to fetch audit events:",o),403===(null===(n=o.response)||void 0===n?void 0:n.status))c("Access denied. Admin permissions required.");else c((null===(a=o.response)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.detail)||"Failed to load audit events");s([])}finally{i(!1)}},[t,d.limit,p]);(0,o.useEffect)(()=>{g(0,p)},[t,p]);const f=e=>{g(e,p)},x=Math.ceil(d.total/d.limit),y=Math.floor(d.offset/d.limit)+1,b="mcp_access"===t.stream;return u?(0,dn.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:(0,dn.jsxs)("div",{className:"flex items-center gap-2 text-red-700 dark:text-red-400",children:[(0,dn.jsx)(fi,{className:"h-5 w-5"}),(0,dn.jsx)("span",{children:u})]})}):(0,dn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[(0,dn.jsx)("div",{className:"overflow-x-auto",children:(0,dn.jsxs)("table",{className:"w-full",children:[(0,dn.jsx)("thead",{children:(0,dn.jsxs)("tr",{className:"bg-gray-50 dark:bg-gray-900/50 border-b border-gray-200 dark:border-gray-700",children:[(0,dn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:(0,dn.jsxs)("button",{onClick:()=>{h(-1===p?1:-1)},className:"flex items-center gap-1 hover:text-gray-700 dark:hover:text-gray-200 transition-colors",title:-1===p?"Sorted newest first - click for oldest first":"Sorted oldest first - click for newest first",children:["Timestamp",-1===p?(0,dn.jsx)(Cs,{className:"h-3 w-3"}):(0,dn.jsx)(Ql,{className:"h-3 w-3"})]})}),(0,dn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"User"}),(0,dn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:b?"MCP Method":"Method"}),(0,dn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:b?"Tool/Resource":"Operation"}),(0,dn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:b?"MCP Server":"Resource"}),(0,dn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),(0,dn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Duration"})]})}),(0,dn.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:l?(0,dn.jsx)("tr",{children:(0,dn.jsx)("td",{colSpan:7,className:"px-4 py-8 text-center",children:(0,dn.jsxs)("div",{className:"flex items-center justify-center gap-2 text-gray-500 dark:text-gray-400",children:[(0,dn.jsx)("div",{className:"animate-spin h-5 w-5 border-2 border-blue-500 border-t-transparent rounded-full"}),(0,dn.jsx)("span",{children:"Loading events..."})]})})}):0===a.length?(0,dn.jsx)("tr",{children:(0,dn.jsx)("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500 dark:text-gray-400",children:"No audit events found matching the current filters."})}):a.map(e=>{var t,a,s,l,o,i,u,c,d,m,p,h,g,f;return(0,dn.jsxs)("tr",{onClick:()=>null===r||void 0===r?void 0:r(e),className:"cursor-pointer transition-colors ".concat(n===e.request_id?"bg-blue-50 dark:bg-blue-900/20":"hover:bg-gray-50 dark:hover:bg-gray-700/50"),children:[(0,dn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-gray-100 whitespace-nowrap",children:rx(e.timestamp)}),(0,dn.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,dn.jsxs)("div",{className:"flex items-center gap-1",children:[(0,dn.jsx)("span",{className:"text-gray-900 dark:text-gray-100",children:e.identity.username}),e.identity.is_admin&&(0,dn.jsx)("span",{className:"px-1.5 py-0.5 text-xs font-medium bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300 rounded",children:"Admin"})]})}),(0,dn.jsx)("td",{className:"px-4 py-3 text-sm",children:b?(0,dn.jsx)("span",{className:"font-mono text-gray-700 dark:text-gray-300",children:(null===(t=e.mcp_request)||void 0===t?void 0:t.method)||"-"}):(0,dn.jsx)("span",{className:"font-mono font-medium ".concat(ex((null===(a=e.request)||void 0===a?void 0:a.method)||"")),children:(null===(s=e.request)||void 0===s?void 0:s.method)||"-"})}),(0,dn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-700 dark:text-gray-300",children:b?(null===(l=e.mcp_request)||void 0===l?void 0:l.tool_name)||(null===(o=e.mcp_request)||void 0===o?void 0:o.resource_uri)||"-":(null===(i=e.action)||void 0===i?void 0:i.operation)||"-"}),(0,dn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-700 dark:text-gray-300",children:b?(null===(u=e.mcp_server)||void 0===u?void 0:u.name)||"-":e.action?(0,dn.jsxs)("span",{children:[e.action.resource_type,e.action.resource_id&&(0,dn.jsxs)("span",{className:"text-gray-500 dark:text-gray-400",children:["/",e.action.resource_id]})]}):(0,dn.jsx)("span",{className:"text-gray-400 dark:text-gray-500",children:"-"})}),(0,dn.jsx)("td",{className:"px-4 py-3 text-sm",children:b?(0,dn.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded ".concat(tx((null===(c=e.mcp_response)||void 0===c?void 0:c.status)||"")),children:(null===(d=e.mcp_response)||void 0===d?void 0:d.status)||"-"}):(0,dn.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded ".concat((f=(null===(m=e.response)||void 0===m?void 0:m.status_code)||0,f>=200&&f<300?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":f>=300&&f<400?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":f>=400&&f<500?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":f>=500?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300")),children:(null===(p=e.response)||void 0===p?void 0:p.status_code)||"-"})}),(0,dn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-700 dark:text-gray-300 whitespace-nowrap",children:"".concat(b?((null===(h=e.mcp_response)||void 0===h?void 0:h.duration_ms)||0).toFixed(1):((null===(g=e.response)||void 0===g?void 0:g.duration_ms)||0).toFixed(1)," ms")})]},e.request_id)})})]})}),!l&&a.length>0&&(0,dn.jsx)("div",{className:"px-4 py-3 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50",children:(0,dn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,dn.jsxs)("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Showing"," ",(0,dn.jsx)("span",{className:"font-medium",children:d.offset+1})," ","-"," ",(0,dn.jsx)("span",{className:"font-medium",children:Math.min(d.offset+d.limit,d.total)})," ","of"," ",(0,dn.jsx)("span",{className:"font-medium",children:d.total})," ","events"]}),(0,dn.jsxs)("div",{className:"flex items-center gap-1",children:[(0,dn.jsx)("button",{onClick:()=>f(0),disabled:1===y,className:"p-1.5 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded disabled:opacity-50 disabled:cursor-not-allowed",title:"First page",children:(0,dn.jsx)($f,{className:"h-4 w-4"})}),(0,dn.jsx)("button",{onClick:()=>f(Math.max(0,d.offset-d.limit)),disabled:1===y,className:"p-1.5 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded disabled:opacity-50 disabled:cursor-not-allowed",title:"Previous page",children:(0,dn.jsx)(Gf,{className:"h-4 w-4"})}),(0,dn.jsxs)("span",{className:"px-3 py-1 text-sm text-gray-700 dark:text-gray-300",children:["Page ",y," of ",x]}),(0,dn.jsx)("button",{onClick:()=>f(d.offset+d.limit),disabled:y===x,className:"p-1.5 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded disabled:opacity-50 disabled:cursor-not-allowed",title:"Next page",children:(0,dn.jsx)(To,{className:"h-4 w-4"})}),(0,dn.jsx)("button",{onClick:()=>f((x-1)*d.limit),disabled:y===x,className:"p-1.5 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded disabled:opacity-50 disabled:cursor-not-allowed",title:"Last page",children:(0,dn.jsx)(Xf,{className:"h-4 w-4"})})]})]})})]})},ax=e=>{var t,r,n,a,s,l,i,u,c,d,m,p,h,g,f,x;let{event:y,onClose:b}=e;const[v,D]=(0,o.useState)(!1),k="mcp_server_access"===y.log_type;return(0,dn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:[(0,dn.jsxs)("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50 flex items-center justify-between gap-2",children:[(0,dn.jsxs)("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[(0,dn.jsx)("h3",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 flex-shrink-0",children:"Event Details"}),(0,dn.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono truncate",title:y.request_id,children:y.request_id})]}),(0,dn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dn.jsx)("button",{onClick:async()=>{try{await navigator.clipboard.writeText(JSON.stringify(y,null,2)),D(!0),setTimeout(()=>D(!1),2e3)}catch(e){console.error("Failed to copy to clipboard:",e)}},className:"flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",title:"Copy JSON to clipboard",children:v?(0,dn.jsxs)(dn.Fragment,{children:[(0,dn.jsx)(oo,{className:"h-4 w-4 text-green-500"}),(0,dn.jsx)("span",{children:"Copied!"})]}):(0,dn.jsxs)(dn.Fragment,{children:[(0,dn.jsx)(mi,{className:"h-4 w-4"}),(0,dn.jsx)("span",{children:"Copy JSON"})]})}),(0,dn.jsx)("button",{onClick:b,className:"p-1.5 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",title:"Close",children:(0,dn.jsx)(ao,{className:"h-5 w-5"})})]})]}),(0,dn.jsxs)("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700 grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,dn.jsxs)("div",{className:"min-w-0",children:[(0,dn.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1",children:"Timestamp"}),(0,dn.jsx)("div",{className:"text-sm text-gray-900 dark:text-gray-100 truncate",children:new Date(y.timestamp).toLocaleString()})]}),(0,dn.jsxs)("div",{className:"min-w-0",children:[(0,dn.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1",children:"User"}),(0,dn.jsxs)("div",{className:"text-sm text-gray-900 dark:text-gray-100 flex items-center gap-1 min-w-0",children:[(0,dn.jsx)("span",{className:"truncate",title:y.identity.username,children:y.identity.username}),y.identity.is_admin&&(0,dn.jsx)("span",{className:"px-1.5 py-0.5 text-xs font-medium bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300 rounded flex-shrink-0",children:"Admin"})]})]}),(0,dn.jsxs)("div",{className:"min-w-0",children:[(0,dn.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1",children:"Status"}),k?(0,dn.jsx)("div",{className:"text-sm font-medium ".concat((e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"success":return"text-green-600 dark:text-green-400";case"error":return"text-red-600 dark:text-red-400";case"timeout":return"text-yellow-600 dark:text-yellow-400";default:return"text-gray-600 dark:text-gray-400"}})((null===(t=y.mcp_response)||void 0===t?void 0:t.status)||"")),children:(null===(r=y.mcp_response)||void 0===r?void 0:r.status)||"-"}):(0,dn.jsx)("div",{className:"text-sm font-medium ".concat((C=(null===(n=y.response)||void 0===n?void 0:n.status_code)||0,C>=200&&C<300?"text-green-600 dark:text-green-400":C>=400&&C<500?"text-yellow-600 dark:text-yellow-400":C>=500?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400")),children:(null===(a=y.response)||void 0===a?void 0:a.status_code)||"-"})]}),(0,dn.jsxs)("div",{className:"min-w-0",children:[(0,dn.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1",children:"Duration"}),(0,dn.jsx)("div",{className:"text-sm text-gray-900 dark:text-gray-100",children:"".concat(k?((null===(s=y.mcp_response)||void 0===s?void 0:s.duration_ms)||0).toFixed(2):((null===(l=y.response)||void 0===l?void 0:l.duration_ms)||0).toFixed(2)," ms")})]})]}),k&&(0,dn.jsxs)("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700 grid grid-cols-2 md:grid-cols-4 gap-2 bg-blue-50/50 dark:bg-blue-900/10",children:[(0,dn.jsxs)("div",{className:"min-w-0 overflow-hidden",children:[(0,dn.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1 truncate",title:"MCP Server",children:"Server"}),(0,dn.jsx)("div",{className:"text-sm text-gray-900 dark:text-gray-100 truncate",title:(null===(i=y.mcp_server)||void 0===i?void 0:i.name)||"-",children:(null===(u=y.mcp_server)||void 0===u?void 0:u.name)||"-"})]}),(0,dn.jsxs)("div",{className:"min-w-0 overflow-hidden",children:[(0,dn.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1 truncate",title:"MCP Method",children:"Method"}),(0,dn.jsx)("div",{className:"text-sm font-mono text-gray-900 dark:text-gray-100 truncate",title:(null===(c=y.mcp_request)||void 0===c?void 0:c.method)||"-",children:(null===(d=y.mcp_request)||void 0===d?void 0:d.method)||"-"})]}),(0,dn.jsxs)("div",{className:"min-w-0 overflow-hidden",children:[(0,dn.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1 truncate",title:"Tool/Resource",children:"Tool"}),(0,dn.jsx)("div",{className:"text-sm text-gray-900 dark:text-gray-100 truncate",title:(null===(m=y.mcp_request)||void 0===m?void 0:m.tool_name)||(null===(p=y.mcp_request)||void 0===p?void 0:p.resource_uri)||"-",children:(null===(h=y.mcp_request)||void 0===h?void 0:h.tool_name)||(null===(g=y.mcp_request)||void 0===g?void 0:g.resource_uri)||"-"})]}),(0,dn.jsxs)("div",{className:"min-w-0 overflow-hidden",children:[(0,dn.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1 truncate",title:"Transport",children:"Transport"}),(0,dn.jsx)("div",{className:"text-sm text-gray-900 dark:text-gray-100 truncate",title:(null===(f=y.mcp_request)||void 0===f?void 0:f.transport)||"-",children:(null===(x=y.mcp_request)||void 0===x?void 0:x.transport)||"-"})]})]}),(0,dn.jsx)("div",{className:"p-4 max-h-[60vh] overflow-auto",children:(0,dn.jsx)("pre",{className:"text-xs font-mono text-gray-800 dark:text-gray-200 whitespace-pre-wrap break-words bg-gray-50 dark:bg-gray-900/50 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:(w=y,JSON.stringify(w,null,2))})})]});var w,C},sx=e=>{let{embedded:t=!1}=e;const{user:r}=pn(),[n,a]=(0,o.useState)({stream:"registry_api"}),[s,l]=(0,o.useState)(null),[i,u]=(0,o.useState)(0),c=(0,o.useCallback)(e=>{a(e),l(null)},[]),d=(0,o.useCallback)(()=>{u(e=>e+1)},[]),m=(0,o.useCallback)(e=>{l(e)},[]),p=(0,o.useCallback)(()=>{l(null)},[]),h=(0,o.useCallback)(e=>{const t=new URLSearchParams;t.set("stream",n.stream),t.set("format",e),n.from&&t.set("from",new Date(n.from).toISOString()),n.to&&t.set("to",new Date(n.to).toISOString()),n.username&&t.set("username",n.username),n.operation&&t.set("operation",n.operation),n.resourceType&&t.set("resource_type",n.resourceType),void 0!==n.statusMin&&t.set("status_min",n.statusMin.toString()),void 0!==n.statusMax&&t.set("status_max",n.statusMax.toString()),window.open("/api/audit/export?".concat(t.toString()),"_blank")},[n]);return null!==r&&void 0!==r&&r.is_admin?t?(0,dn.jsxs)("div",{children:[(0,dn.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,dn.jsxs)("div",{children:[(0,dn.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Audit Logs"}),(0,dn.jsx)("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"View and search system audit events for compliance and security monitoring."})]}),(0,dn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dn.jsxs)("button",{onClick:()=>h("jsonl"),className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",title:"Export as JSONL",children:[(0,dn.jsx)(ho,{className:"h-4 w-4"}),(0,dn.jsx)("span",{children:"JSONL"})]}),(0,dn.jsxs)("button",{onClick:()=>h("csv"),className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",title:"Export as CSV",children:[(0,dn.jsx)(ho,{className:"h-4 w-4"}),(0,dn.jsx)("span",{children:"CSV"})]})]})]}),(0,dn.jsx)("div",{className:"mb-6",children:(0,dn.jsx)(Wf,{filters:n,onFilterChange:c,onRefresh:d})}),(0,dn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,dn.jsx)("div",{className:s?"lg:col-span-2":"lg:col-span-3",children:(0,dn.jsx)(nx,{filters:n,onEventSelect:m,selectedEventId:null===s||void 0===s?void 0:s.request_id},i)}),s&&(0,dn.jsx)("div",{className:"lg:col-span-1",children:(0,dn.jsx)("div",{className:"sticky top-8",children:(0,dn.jsx)(ax,{event:s,onClose:p})})})]})]}):(0,dn.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,dn.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,dn.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,dn.jsxs)("div",{children:[(0,dn.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Audit Logs"}),(0,dn.jsx)("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"View and search system audit events for compliance and security monitoring."})]}),(0,dn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dn.jsxs)("button",{onClick:()=>h("jsonl"),className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",title:"Export as JSONL",children:[(0,dn.jsx)(ho,{className:"h-4 w-4"}),(0,dn.jsx)("span",{children:"JSONL"})]}),(0,dn.jsxs)("button",{onClick:()=>h("csv"),className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",title:"Export as CSV",children:[(0,dn.jsx)(ho,{className:"h-4 w-4"}),(0,dn.jsx)("span",{children:"CSV"})]})]})]}),(0,dn.jsx)("div",{className:"mb-6",children:(0,dn.jsx)(Wf,{filters:n,onFilterChange:c,onRefresh:d})}),(0,dn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,dn.jsx)("div",{className:s?"lg:col-span-2":"lg:col-span-3",children:(0,dn.jsx)(nx,{filters:n,onEventSelect:m,selectedEventId:null===s||void 0===s?void 0:s.request_id},i)}),s&&(0,dn.jsx)("div",{className:"lg:col-span-1",children:(0,dn.jsx)("div",{className:"sticky top-8",children:(0,dn.jsx)(ax,{event:s,onClose:p})})})]})]})}):(0,dn.jsx)("div",{className:t?"flex items-center justify-center p-4":"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:(0,dn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 max-w-md text-center",children:[(0,dn.jsx)(Jo,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),(0,dn.jsx)("h1",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Access Denied"}),(0,dn.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"You need administrator privileges to view audit logs."})]})})},lx=["title","titleId"];function ox(e,t){let{title:r,titleId:n}=e,a=xn(e,lx);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const ix=o.forwardRef(ox);function ux(){const[e,t]=(0,o.useState)([]),[r,n]=(0,o.useState)(!0),[a,s]=(0,o.useState)(null),l=(0,o.useCallback)(async()=>{n(!0),s(null);try{const e=await cn.get("/api/management/iam/groups");t(e.data.groups||e.data||[])}catch(a){var e,r;s((null===(e=a.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.detail)||"Failed to load groups")}finally{n(!1)}},[]);return(0,o.useEffect)(()=>{l()},[l]),{groups:e,isLoading:r,error:a,refetch:l}}function cx(e){const[t,r]=(0,o.useState)([]),[n,a]=(0,o.useState)(!0),[s,l]=(0,o.useState)(null),i=(0,o.useCallback)(async()=>{a(!0),l(null);try{const t={limit:500};e&&(t.search=e);const n=await cn.get("/api/management/iam/users",{params:t});r(n.data.users||n.data||[])}catch(s){var t,n;l((null===(t=s.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Failed to load users")}finally{a(!1)}},[e]);return(0,o.useEffect)(()=>{i()},[i]),{users:t,isLoading:n,error:s,refetch:i}}async function dx(e){await cn.delete("/api/management/iam/users/".concat(encodeURIComponent(e)))}function mx(e,t){const r=e.split(/\s+/);return r.length<=t?e:r.slice(0,t).join(" ")+"..."}const px=e=>{let{options:t,value:r,onChange:n,placeholder:a="Search...",disabled:s=!1,isLoading:l=!1,maxDescriptionWords:i=8,allowCustom:u=!1,specialOptions:c=[]}=e;const[d,m]=(0,o.useState)(!1),[p,h]=(0,o.useState)(""),g=(0,o.useRef)(null),f=(0,o.useRef)(null),x=[...c,...t].find(e=>e.value===r),y=t.filter(e=>{var t,r;const n=p.toLowerCase();return e.label.toLowerCase().includes(n)||e.value.toLowerCase().includes(n)||null!==(t=null===(r=e.description)||void 0===r?void 0:r.toLowerCase().includes(n))&&void 0!==t&&t});(0,o.useEffect)(()=>{const e=e=>{g.current&&!g.current.contains(e.target)&&(m(!1),h(""))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const b=e=>{n(e),m(!1),h("")};return(0,dn.jsxs)("div",{ref:g,className:"relative",children:[(0,dn.jsxs)("div",{className:"relative",children:[(0,dn.jsx)(Mo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,dn.jsx)("input",{ref:f,type:"text",value:d?p:(null===x||void 0===x?void 0:x.label)||r||"",onChange:e=>{h(e.target.value),d||m(!0)},onFocus:()=>{m(!0)},onKeyDown:e=>{"Escape"===e.key?(m(!1),h("")):"Enter"===e.key&&u&&p.trim()&&b(p.trim())},placeholder:a,disabled:s,className:"w-full pl-9 pr-8 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed"}),r&&!s&&(0,dn.jsx)("button",{type:"button",onClick:()=>{var e;n(""),h(""),null===(e=f.current)||void 0===e||e.focus()},className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:(0,dn.jsx)(ao,{className:"h-4 w-4"})})]}),d&&!s&&(0,dn.jsx)("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:l?(0,dn.jsx)("div",{className:"px-3 py-2 text-sm text-gray-400",children:"Loading..."}):(0,dn.jsxs)(dn.Fragment,{children:[c.map(e=>(0,dn.jsxs)("button",{type:"button",onClick:()=>b(e.value),className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700\n                             ".concat(r===e.value?"bg-purple-50 dark:bg-purple-900/20":""),children:[(0,dn.jsx)("span",{className:"font-medium text-purple-600 dark:text-purple-400",children:e.label}),e.description&&(0,dn.jsx)("span",{className:"ml-2 text-gray-400 text-xs",children:e.description})]},e.value)),c.length>0&&y.length>0&&(0,dn.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700"}),0===y.length?(0,dn.jsx)("div",{className:"px-3 py-2 text-sm text-gray-400",children:p?"No matches found":"No options available"}):y.slice(0,50).map(e=>(0,dn.jsxs)("button",{type:"button",onClick:()=>b(e.value),className:"w-full text-left px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-700\n                               ".concat(r===e.value?"bg-purple-50 dark:bg-purple-900/20":""),children:[(0,dn.jsx)("div",{className:"text-sm text-gray-900 dark:text-white truncate",children:e.label}),e.description&&(0,dn.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:mx(e.description,i)})]},e.value)),y.length>50&&(0,dn.jsx)("div",{className:"px-3 py-2 text-xs text-gray-400 text-center border-t border-gray-200 dark:border-gray-700",children:"Showing first 50 results. Type to filter."})]})})]})},hx=["scope_name","description"],gx=[{key:"list_service",label:"List Services"},{key:"register_service",label:"Register Service"},{key:"health_check_service",label:"Health Check Service"},{key:"toggle_service",label:"Toggle Service"},{key:"modify_service",label:"Modify Service"},{key:"delete_service",label:"Delete Service"},{key:"list_agents",label:"List Agents"},{key:"get_agent",label:"Get Agent"},{key:"publish_agent",label:"Publish Agent"},{key:"modify_agent",label:"Modify Agent"},{key:"delete_agent",label:"Delete Agent"}],fx=["initialize","notifications/initialized","ping","tools/list","tools/call","resources/list","resources/templates/list","GET","POST","PUT","DELETE"],xx={scope_name:"currenttime-users",description:"Users with access to currenttime server",server_access:[{server:"currenttime",methods:["initialize","tools/list","tools/call"],tools:["current_time_by_timezone"]}],group_mappings:["currenttime-users"],ui_permissions:{list_service:["currenttime"],health_check_service:["currenttime"]},create_in_idp:!0},yx={server:"",methods:[...fx],tools:[]},bx=e=>{let{serverPath:t,selectedTools:r,onChange:n}=e;const{tools:a,isLoading:s}=function(e){const[t,r]=(0,o.useState)([]),[n,a]=(0,o.useState)(!1),[s,l]=(0,o.useState)(null);return(0,o.useEffect)(()=>{if(!e||"*"===e)return r([]),void a(!1);(async()=>{a(!0),l(null);try{const t=((await cn.get("/api/tool-catalog?server_path=".concat(encodeURIComponent(e)))).data.tools||[]).map(e=>({name:e.tool_name,description:e.description||"",serverPath:e.server_path}));t.sort((e,t)=>e.name.localeCompare(t.name)),r(t)}catch(t){const e=t instanceof Error?t.message:"Failed to fetch tools";l(e),r([])}finally{a(!1)}})()},[e]),{tools:t,isLoading:n,error:s}}(t),l=e=>{n(r.filter(t=>t!==e))};if("*"===t)return(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Tools"}),(0,dn.jsx)("p",{className:"text-xs text-gray-400 italic",children:"All tools on all servers"})]});if(!t)return(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Tools"}),(0,dn.jsx)("p",{className:"text-xs text-gray-400 italic",children:"Select a server first"})]});if(r.includes("*"))return(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Tools"}),(0,dn.jsx)("div",{className:"flex items-center gap-2",children:(0,dn.jsxs)("span",{className:"inline-flex items-center px-2 py-1 text-xs bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded-full",children:["* (All tools)",(0,dn.jsx)("button",{type:"button",onClick:()=>l("*"),className:"ml-1 hover:text-purple-900 dark:hover:text-purple-100",children:(0,dn.jsx)(ao,{className:"h-3 w-3"})})]})})]});const i=a.filter(e=>!r.includes(e.name)).map(e=>({value:e.name,label:e.name,description:e.description}));return(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Tools"}),(0,dn.jsxs)("div",{className:"space-y-2",children:[r.length>0&&(0,dn.jsx)("div",{className:"flex flex-wrap gap-2",children:r.map(e=>(0,dn.jsxs)("span",{className:"inline-flex items-center px-2 py-1 text-xs bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded-full",children:[e,(0,dn.jsx)("button",{type:"button",onClick:()=>l(e),className:"ml-1 hover:text-purple-900 dark:hover:text-purple-100",children:(0,dn.jsx)(ao,{className:"h-3 w-3"})})]},e))}),(0,dn.jsx)(px,{options:i,value:"",onChange:e=>{e&&("*"!==e?r.includes("*")||r.includes(e)||n([...r,e]):n(["*"]))},placeholder:"Search and add tools...",isLoading:s,maxDescriptionWords:8,specialOptions:[{value:"*",label:"* (All tools)",description:"Grant access to all tools on this server"}]})]})]})};function vx(e,t,r,n,a,s,l){const o={scope_name:e};t&&(o.description=t);const i=r.filter(e=>e.server.trim()).map(e=>{const t={server:e.server.trim(),methods:e.methods.length>0?e.methods:["all"]};return e.tools.includes("*")?t.tools="*":e.tools.length>0&&(t.tools=e.tools),t});i.length>0&&(o.server_access=i);const u=n.split(",").map(e=>e.trim()).filter(Boolean);u.length>0&&(o.group_mappings=u),a.length>0&&(o.agent_access=a);const c={};for(const[h,g]of Object.entries(s)){const e=g.split(",").map(e=>e.trim()).filter(Boolean);e.length>0&&(c[h]=e)}const d=r.filter(e=>e.server.trim()).map(e=>e.server.trim()),m=d.filter(e=>e.startsWith("/virtual/")),p=d.filter(e=>!e.startsWith("/virtual/"));return p.length>0&&(c.list_service||(c.list_service=p),c.health_check_service||(c.health_check_service=p)),m.length>0&&(c.list_virtual_server=m),a.length>0&&(c.list_agents=a,c.get_agent=a),Object.keys(c).length>0&&(o.ui_permissions=c),o.create_in_idp=l,o}const Dx=e=>{let{onShowToast:t}=e;const{groups:r,isLoading:n,error:a,refetch:s}=ux(),{servers:l,isLoading:i}=function(){const[e,t]=(0,o.useState)([]),[r,n]=(0,o.useState)(!0),[a,s]=(0,o.useState)(null),l=(0,o.useCallback)(async()=>{n(!0),s(null);try{const[e,r]=await Promise.all([cn.get("/api/servers"),cn.get("/api/virtual-servers")]),n=(e.data.servers||[]).map(e=>({path:e.path,name:e.server_name||e.name||e.path,description:e.description||"",type:"mcp"})),a=(r.data.virtual_servers||[]).filter(e=>!1!==e.enabled).map(e=>({path:e.path,name:e.name||e.path,description:e.description||"",type:"virtual"})),s=[...n,...a];s.sort((e,t)=>e.type!==t.type?"mcp"===e.type?-1:1:e.name.localeCompare(t.name)),t(s)}catch(e){const r=e instanceof Error?e.message:"Failed to fetch servers";s(r),t([])}finally{n(!1)}},[]);return(0,o.useEffect)(()=>{l()},[l]),{servers:e,isLoading:r,error:a,refetch:l}}(),{agents:u,isLoading:c}=function(){const[e,t]=(0,o.useState)([]),[r,n]=(0,o.useState)(!0),[a,s]=(0,o.useState)(null),l=(0,o.useCallback)(async()=>{n(!0),s(null);try{const e=((await cn.get("/api/agents")).data.agents||[]).map(e=>({name:e.name,path:e.path,description:e.description||""}));e.sort((e,t)=>e.name.localeCompare(t.name)),t(e)}catch(e){const r=e instanceof Error?e.message:"Failed to fetch agents";s(r),t([])}finally{n(!1)}},[]);return(0,o.useEffect)(()=>{l()},[l]),{agents:e,isLoading:r,error:a,refetch:l}}(),[d,m]=(0,o.useState)(""),[p,h]=(0,o.useState)("list"),[g,f]=(0,o.useState)(""),[x,y]=(0,o.useState)(""),[b,v]=(0,o.useState)([qt({},yx)]),[D,k]=(0,o.useState)(""),[w,C]=(0,o.useState)([]),[j,F]=(0,o.useState)({}),[N,E]=(0,o.useState)(!0),[A,S]=(0,o.useState)(!1),[_,B]=(0,o.useState)(!1),[T,L]=(0,o.useState)(null),[R,P]=(0,o.useState)(null),[O,I]=(0,o.useState)(!1),[M,z]=(0,o.useState)(!1),[U,H]=(0,o.useState)(null),V=(0,o.useMemo)(()=>g.trim()?JSON.stringify(vx(g.trim(),x.trim(),b,D,w,j,N),null,2):null,[g,x,b,D,w,j,N]),W=(0,o.useMemo)(()=>{if(!d)return r;const e=d.toLowerCase();return r.filter(t=>t.name.toLowerCase().includes(e)||(t.description||"").toLowerCase().includes(e))},[r,d]),q=(0,o.useCallback)(()=>{f(""),y(""),v([qt({},yx)]),k(""),C([]),F({}),E(!0)},[]),K=async()=>{if(g.trim()){S(!0);try{const e=vx(g.trim(),x.trim(),b,D,w,j,N),{scope_name:r,description:n}=e,a=xn(e,hx),l={name:g.trim(),description:x.trim()||void 0,scope_config:Object.keys(a).length>0?a:void 0};await async function(e){return(await cn.post("/api/management/iam/groups",e)).data}(l),t('Group "'.concat(g,'" created successfully'),"success"),q(),h("list"),await s()}catch(n){var e,r;const a=null===(e=n.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.detail,s=Array.isArray(a)?a.map(e=>e.msg).join(", "):a||"Failed to create group";t(s,"error")}finally{S(!1)}}},$=async e=>{await async function(e){await cn.delete("/api/management/iam/groups/".concat(encodeURIComponent(e)))}(e),t('Group "'.concat(e,'" deleted'),"success"),H(null),await s()},J=async e=>{I(!0),L(e);try{const t=await async function(e){return(await cn.get("/api/management/iam/groups/".concat(encodeURIComponent(e)))).data}(e);if(P(t),f(t.name),y(t.description||""),t.server_access&&t.server_access.length>0){const e=t.server_access.filter(e=>e.server&&e.server.trim()).map(e=>({server:e.server||"",methods:e.methods||[],tools:e.tools||[]}));v(e.length>0?e:[qt({},yx)])}else v([qt({},yx)]);if(t.group_mappings&&t.group_mappings.length>0?k(t.group_mappings.join(", ")):k(""),t.agent_access&&t.agent_access.length>0?C(t.agent_access):C([]),t.ui_permissions){const e={};for(const[r,n]of Object.entries(t.ui_permissions))e[r]=Array.isArray(n)?n.join(", "):String(n);F(e)}else F({});E(!0),h("edit")}catch(a){var r,n;const e=null===(r=a.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.detail;t("string"===typeof e?e:"Failed to load group details","error"),L(null)}finally{I(!1)}},Q=async()=>{if(T){z(!0);try{const e=b.filter(e=>e.server.trim()).map(e=>{const t={server:e.server.trim(),methods:e.methods.length>0?e.methods:["all"]};return e.tools.length>0&&(t.tools=e.tools),t}),r={};for(const[t,s]of Object.entries(j)){const e=s.split(",").map(e=>e.trim()).filter(Boolean);e.length>0&&(r[t]=e)}const n=b.filter(e=>e.server.trim()).map(e=>e.server.trim()),a=n.filter(e=>e.startsWith("/virtual/")),l=n.filter(e=>!e.startsWith("/virtual/"));l.length>0&&(r.list_service||(r.list_service=l),r.health_check_service||(r.health_check_service=l)),a.length>0?r.list_virtual_server=a:delete r.list_virtual_server,w.length>0?(r.list_agents=w,r.get_agent=w):(delete r.list_agents,delete r.get_agent);const o={description:x.trim()||void 0,scope_config:{server_access:e.length>0?e:void 0,ui_permissions:Object.keys(r).length>0?r:void 0,agent_access:w.length>0?w:void 0}};await async function(e,t){return(await cn.patch("/api/management/iam/groups/".concat(encodeURIComponent(e)),t)).data}(T,o),t('Group "'.concat(T,'" updated successfully'),"success"),q(),L(null),P(null),h("list"),await s()}catch(n){var e,r;const a=null===(e=n.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.detail,s=Array.isArray(a)?a.map(e=>e.msg).join(", "):a||"Failed to update group";t(s,"error")}finally{z(!1)}}},G=e=>{try{const r=JSON.parse(e);if(r.scope_name&&f(r.scope_name),r.description&&y(r.description),void 0!==r.create_in_idp&&E(r.create_in_idp),Array.isArray(r.group_mappings)&&k(r.group_mappings.join(", ")),Array.isArray(r.server_access)){const e=r.server_access.filter(e=>e.server).map(e=>({server:e.server||"",methods:Array.isArray(e.methods)?e.methods:[],tools:Array.isArray(e.tools)?e.tools:"*"===e.tools?["*"]:[]}));e.length>0&&v(e)}if(Array.isArray(r.agent_access)&&C(r.agent_access),r.ui_permissions&&"object"===typeof r.ui_permissions){const e={};for(const[t,n]of Object.entries(r.ui_permissions))e[t]=Array.isArray(n)?n.join(", "):String(n);F(e)}t("JSON loaded","success")}catch(r){t("Invalid JSON file","error")}},Y=e=>{var t;const r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!r)return;const n=new FileReader;n.onload=e=>{var t;return G(null===(t=e.target)||void 0===t?void 0:t.result)},n.readAsText(r)},Z=e=>{e.preventDefault();const t=e.dataTransfer.files[0];if(!t)return;const r=new FileReader;r.onload=e=>{var t;return G(null===(t=e.target)||void 0===t?void 0:t.result)},r.readAsText(t)},X=()=>{const e=new Blob([JSON.stringify(xx,null,2)],{type:"application/json"}),t=URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download="example-group-scope.json",r.click(),URL.revokeObjectURL(t)},ee=(e,t,r)=>{v(n=>n.map((n,a)=>a===e?qt(qt({},n),{},{[t]:r}):n))},te=(e,t)=>{v(r=>r.map((r,n)=>{if(n!==e)return r;const a=r.methods.includes(t)?r.methods.filter(e=>e!==t):[...r.methods,t];return qt(qt({},r),{},{methods:a})}))},re=()=>v(e=>[...e,qt({},yx)]),ne=e=>v(t=>t.filter((t,r)=>r!==e)),ae=(e,t)=>{F(r=>{if(!t.trim()){const t=qt({},r);return delete t[e],t}return qt(qt({},r),{},{[e]:t})})};return"create"===p?(0,dn.jsxs)("div",{className:"space-y-6",children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,dn.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"IAM > Groups > Create"}),(0,dn.jsxs)("button",{onClick:()=>{q(),h("list")},className:"flex items-center text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",children:[(0,dn.jsx)(Vl,{className:"h-4 w-4 mr-1"}),"Back to List"]})]}),(0,dn.jsxs)("div",{className:"space-y-4",children:[(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Group Name *"}),(0,dn.jsx)("input",{type:"text",value:g,onChange:e=>f(e.target.value),placeholder:"e.g. currenttime-users",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Description"}),(0,dn.jsx)("input",{type:"text",value:x,onChange:e=>y(e.target.value),placeholder:"Optional description",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsxs)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:["Group Mappings",(0,dn.jsx)("span",{className:"text-xs text-gray-400 ml-1",children:"(optional, comma-separated)"})]}),(0,dn.jsx)("input",{type:"text",value:D,onChange:e=>k(e.target.value),placeholder:"e.g. currenttime-users, other-group",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),(0,dn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,dn.jsx)("input",{type:"checkbox",checked:N,onChange:e=>E(e.target.checked),className:"rounded border-gray-300 dark:border-gray-600 text-purple-600 focus:ring-purple-500"}),(0,dn.jsx)("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Create in Identity Provider (Keycloak / Entra ID)"})]})]}),(0,dn.jsxs)("div",{className:"space-y-3",children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,dn.jsx)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Server Access"}),(0,dn.jsx)("button",{onClick:re,className:"text-xs text-purple-600 dark:text-purple-400 hover:underline",children:"+ Add Server"})]}),i&&(0,dn.jsx)("p",{className:"text-xs text-gray-400",children:"Loading servers..."}),b.map((e,t)=>(0,dn.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 space-y-3",children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,dn.jsxs)("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:["Server ",t+1]}),b.length>1&&(0,dn.jsx)("button",{onClick:()=>ne(t),className:"text-xs text-red-500 hover:underline",children:"Remove"})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Server"}),(0,dn.jsx)(px,{options:l.map(e=>({value:e.path,label:"".concat("virtual"===e.type?"[Virtual] ":"").concat(e.name," (").concat(e.path,")"),description:e.description})),value:e.server,onChange:e=>{ee(t,"server",e),ee(t,"tools",[])},placeholder:"Search servers...",isLoading:i,maxDescriptionWords:8,specialOptions:[{value:"*",label:"* (All servers)",description:"Grant access to all servers"}]})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Methods"}),(0,dn.jsx)("div",{className:"flex flex-wrap gap-2",children:fx.map(r=>(0,dn.jsxs)("label",{className:"flex items-center space-x-1 cursor-pointer",children:[(0,dn.jsx)("input",{type:"checkbox",checked:e.methods.includes(r),onChange:()=>te(t,r),className:"rounded border-gray-300 dark:border-gray-600 text-purple-600 focus:ring-purple-500 h-3 w-3"}),(0,dn.jsx)("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:r})]},r))})]}),(0,dn.jsx)(bx,{serverPath:e.server,selectedTools:e.tools,onChange:e=>ee(t,"tools",e)})]},t))]}),(0,dn.jsxs)("div",{className:"space-y-3",children:[(0,dn.jsxs)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Agent Access",(0,dn.jsx)("span",{className:"text-xs text-gray-400 ml-1",children:"(optional)"})]}),w.length>0&&(0,dn.jsx)("div",{className:"flex flex-wrap gap-2",children:w.map(e=>(0,dn.jsxs)("span",{className:"inline-flex items-center px-2 py-1 text-xs bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded-full",children:[e,(0,dn.jsx)("button",{type:"button",onClick:()=>C(t=>t.filter(t=>t!==e)),className:"ml-1 hover:text-purple-900 dark:hover:text-purple-100",children:(0,dn.jsx)(ao,{className:"h-3 w-3"})})]},e))}),(0,dn.jsx)(px,{options:u.filter(e=>!w.includes(e.path)).map(e=>({value:e.path,label:"".concat(e.name," (").concat(e.path,")"),description:e.description})),value:"",onChange:e=>{e&&!w.includes(e)&&C(t=>[...t,e])},placeholder:"Search and add agents...",isLoading:c,maxDescriptionWords:8})]}),(0,dn.jsxs)("div",{className:"space-y-3",children:[(0,dn.jsxs)("button",{type:"button",onClick:()=>B(!_),className:"flex items-center space-x-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100",children:[_?(0,dn.jsx)(Cs,{className:"h-4 w-4"}):(0,dn.jsx)(To,{className:"h-4 w-4"}),(0,dn.jsxs)("span",{children:["UI Permissions",(0,dn.jsx)("span",{className:"text-xs text-gray-400 ml-1",children:'(enter "all" or a comma-separated list of service/agent names)'})]})]}),_&&(0,dn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 pl-6",children:gx.map(e=>{let{key:t,label:r}=e;return(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:r}),(0,dn.jsx)("input",{type:"text",value:j[t]||"",onChange:e=>ae(t,e.target.value),placeholder:"e.g. all or currenttime, mcpgw",className:"w-full px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]},t)})})]}),(0,dn.jsxs)("div",{className:"space-y-4",children:[(0,dn.jsx)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Or Upload JSON Configuration"}),(0,dn.jsxs)("div",{onDragOver:e=>e.preventDefault(),onDrop:Z,className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center hover:border-purple-400 dark:hover:border-purple-500 transition-colors",children:[(0,dn.jsx)(ix,{className:"h-8 w-8 mx-auto text-gray-400 dark:text-gray-500 mb-2"}),(0,dn.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Drag & drop a scope JSON file here"}),(0,dn.jsxs)("label",{className:"cursor-pointer text-sm text-purple-600 dark:text-purple-400 hover:underline",children:["or click to browse",(0,dn.jsx)("input",{type:"file",accept:".json",onChange:Y,className:"hidden"})]})]}),V&&(0,dn.jsxs)("div",{children:[(0,dn.jsx)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"JSON Preview (auto-generated from form):"}),(0,dn.jsx)("pre",{className:"bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg p-4 text-xs font-mono text-gray-800 dark:text-gray-200 overflow-auto max-h-64",children:V})]}),(0,dn.jsxs)("button",{onClick:X,className:"flex items-center text-sm text-purple-600 dark:text-purple-400 hover:underline",children:[(0,dn.jsx)(ho,{className:"h-4 w-4 mr-1"}),"Download Example JSON"]})]}),(0,dn.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,dn.jsx)("button",{onClick:()=>{q(),h("list")},className:"px-4 py-2 text-sm text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600",children:"Cancel"}),(0,dn.jsx)("button",{onClick:K,disabled:!g.trim()||A,className:"px-4 py-2 text-sm text-white bg-purple-600 rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed",children:A?"Creating...":"Create Group"})]})]}):"edit"===p?(0,dn.jsxs)("div",{className:"space-y-6",children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,dn.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["IAM > Groups > Edit: ",T]}),(0,dn.jsxs)("button",{onClick:()=>{q(),L(null),P(null),h("list")},className:"flex items-center text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",children:[(0,dn.jsx)(Vl,{className:"h-4 w-4 mr-1"}),"Back to List"]})]}),O&&(0,dn.jsx)("div",{className:"flex justify-center py-12",children:(0,dn.jsx)(Po,{className:"h-6 w-6 text-gray-400 animate-spin"})}),!O&&(0,dn.jsxs)(dn.Fragment,{children:[(0,dn.jsxs)("div",{className:"space-y-4",children:[(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Group Name"}),(0,dn.jsx)("input",{type:"text",value:g,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}),(0,dn.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Group name cannot be changed"})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Description"}),(0,dn.jsx)("input",{type:"text",value:x,onChange:e=>y(e.target.value),placeholder:"Optional description",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsxs)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:["Group Mappings",(0,dn.jsx)("span",{className:"text-xs text-gray-400 ml-1",children:"(optional, comma-separated)"})]}),(0,dn.jsx)("input",{type:"text",value:D,onChange:e=>k(e.target.value),placeholder:"e.g. currenttime-users, other-group",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),(0,dn.jsxs)("div",{className:"space-y-3",children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,dn.jsx)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Server Access"}),(0,dn.jsx)("button",{onClick:re,className:"text-xs text-purple-600 dark:text-purple-400 hover:underline",children:"+ Add Server"})]}),i&&(0,dn.jsx)("p",{className:"text-xs text-gray-400",children:"Loading servers..."}),b.map((e,t)=>(0,dn.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 space-y-3",children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,dn.jsxs)("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:["Server ",t+1]}),b.length>1&&(0,dn.jsx)("button",{onClick:()=>ne(t),className:"text-xs text-red-500 hover:underline",children:"Remove"})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Server"}),(0,dn.jsx)(px,{options:l.map(e=>({value:e.path,label:"".concat("virtual"===e.type?"[Virtual] ":"").concat(e.name," (").concat(e.path,")"),description:e.description})),value:e.server,onChange:e=>{ee(t,"server",e),ee(t,"tools",[])},placeholder:"Search servers...",isLoading:i,maxDescriptionWords:8,specialOptions:[{value:"*",label:"* (All servers)",description:"Grant access to all servers"}]})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Methods"}),(0,dn.jsx)("div",{className:"flex flex-wrap gap-2",children:fx.map(r=>(0,dn.jsxs)("label",{className:"flex items-center space-x-1 cursor-pointer",children:[(0,dn.jsx)("input",{type:"checkbox",checked:e.methods.includes(r),onChange:()=>te(t,r),className:"rounded border-gray-300 dark:border-gray-600 text-purple-600 focus:ring-purple-500 h-3 w-3"}),(0,dn.jsx)("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:r})]},r))})]}),(0,dn.jsx)(bx,{serverPath:e.server,selectedTools:e.tools,onChange:e=>ee(t,"tools",e)})]},t))]}),(0,dn.jsxs)("div",{className:"space-y-3",children:[(0,dn.jsxs)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Agent Access",(0,dn.jsx)("span",{className:"text-xs text-gray-400 ml-1",children:"(optional)"})]}),w.length>0&&(0,dn.jsx)("div",{className:"flex flex-wrap gap-2",children:w.map(e=>(0,dn.jsxs)("span",{className:"inline-flex items-center px-2 py-1 text-xs bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded-full",children:[e,(0,dn.jsx)("button",{type:"button",onClick:()=>C(t=>t.filter(t=>t!==e)),className:"ml-1 hover:text-purple-900 dark:hover:text-purple-100",children:(0,dn.jsx)(ao,{className:"h-3 w-3"})})]},e))}),(0,dn.jsx)(px,{options:u.filter(e=>!w.includes(e.path)).map(e=>({value:e.path,label:"".concat(e.name," (").concat(e.path,")"),description:e.description})),value:"",onChange:e=>{e&&!w.includes(e)&&C(t=>[...t,e])},placeholder:"Search and add agents...",isLoading:c,maxDescriptionWords:8})]}),(0,dn.jsxs)("div",{className:"space-y-3",children:[(0,dn.jsxs)("button",{type:"button",onClick:()=>B(!_),className:"flex items-center space-x-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100",children:[_?(0,dn.jsx)(Cs,{className:"h-4 w-4"}):(0,dn.jsx)(To,{className:"h-4 w-4"}),(0,dn.jsxs)("span",{children:["UI Permissions",(0,dn.jsx)("span",{className:"text-xs text-gray-400 ml-1",children:'(enter "all" or a comma-separated list of service/agent names)'})]})]}),_&&(0,dn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 pl-6",children:gx.map(e=>{let{key:t,label:r}=e;return(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:r}),(0,dn.jsx)("input",{type:"text",value:j[t]||"",onChange:e=>ae(t,e.target.value),placeholder:"e.g. all or currenttime, mcpgw",className:"w-full px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]},t)})})]}),V&&(0,dn.jsx)("div",{className:"space-y-4",children:(0,dn.jsxs)("div",{children:[(0,dn.jsx)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"JSON Preview (auto-generated from form):"}),(0,dn.jsx)("pre",{className:"bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg p-4 text-xs font-mono text-gray-800 dark:text-gray-200 overflow-auto max-h-64",children:V})]})}),(0,dn.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,dn.jsx)("button",{onClick:()=>{q(),L(null),P(null),h("list")},className:"px-4 py-2 text-sm text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600",children:"Cancel"}),(0,dn.jsx)("button",{onClick:Q,disabled:M,className:"px-4 py-2 text-sm text-white bg-purple-600 rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed",children:M?"Saving...":"Save Changes"})]})]})]}):(0,dn.jsxs)("div",{className:"space-y-4",children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,dn.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"IAM > Groups"}),(0,dn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,dn.jsx)("button",{onClick:s,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",title:"Refresh",children:(0,dn.jsx)(Po,{className:"h-5 w-5"})}),(0,dn.jsxs)("button",{onClick:()=>h("create"),className:"flex items-center px-3 py-2 text-sm text-white bg-purple-600 rounded-lg hover:bg-purple-700",children:[(0,dn.jsx)(So,{className:"h-4 w-4 mr-1"}),"Create Group"]})]})]}),(0,dn.jsxs)("div",{className:"relative",children:[(0,dn.jsx)(Mo,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,dn.jsx)("input",{type:"text",value:d,onChange:e=>m(e.target.value),placeholder:"Search groups...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),n&&(0,dn.jsx)("div",{className:"flex justify-center py-12",children:(0,dn.jsx)(Po,{className:"h-6 w-6 text-gray-400 animate-spin"})}),a&&!n&&(0,dn.jsx)("div",{className:"text-center py-8 text-red-500 dark:text-red-400 text-sm",children:a}),!n&&!a&&0===W.length&&(0,dn.jsx)("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:d?"No groups match your search.":"No groups yet. Create your first group."}),!n&&!a&&W.length>0&&(0,dn.jsx)("div",{className:"overflow-x-auto",children:(0,dn.jsxs)("table",{className:"w-full text-sm",children:[(0,dn.jsx)("thead",{children:(0,dn.jsxs)("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[(0,dn.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-500 dark:text-gray-400",children:"Name"}),(0,dn.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-500 dark:text-gray-400",children:"Description"}),(0,dn.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-500 dark:text-gray-400",children:"Path"}),(0,dn.jsx)("th",{className:"text-right py-3 px-4 font-medium text-gray-500 dark:text-gray-400",children:"Action"})]})}),(0,dn.jsx)("tbody",{children:W.map(e=>(0,dn.jsxs)(o.Fragment,{children:[(0,dn.jsxs)("tr",{className:"border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[(0,dn.jsx)("td",{className:"py-3 px-4 text-gray-900 dark:text-white font-medium",children:e.name}),(0,dn.jsx)("td",{className:"py-3 px-4 text-gray-600 dark:text-gray-400",children:e.description||"\u2014"}),(0,dn.jsx)("td",{className:"py-3 px-4 text-gray-500 dark:text-gray-500 font-mono text-xs",children:e.path||"\u2014"}),(0,dn.jsxs)("td",{className:"py-3 px-4 text-right",children:[(0,dn.jsx)("button",{onClick:()=>J(e.name),className:"p-1 text-gray-400 hover:text-purple-500 dark:hover:text-purple-400 mr-1",title:"Edit group",disabled:O&&T===e.name,children:O&&T===e.name?(0,dn.jsx)(Po,{className:"h-4 w-4 animate-spin"}):(0,dn.jsx)(Yo,{className:"h-4 w-4"})}),(0,dn.jsx)("button",{onClick:()=>H(e.name),className:"p-1 text-gray-400 hover:text-red-500 dark:hover:text-red-400",title:"Delete group",children:(0,dn.jsx)(ni,{className:"h-4 w-4"})})]})]}),U===e.name&&(0,dn.jsx)("tr",{children:(0,dn.jsx)("td",{colSpan:4,className:"p-2",children:(0,dn.jsx)(_i,{entityType:"group",entityName:e.name,entityPath:e.name,onConfirm:$,onCancel:()=>H(null)})})})]},e.name))})]})})]})},kx=e=>{let{onShowToast:t}=e;const{users:r,isLoading:n,error:a,refetch:s}=cx(),{groups:l}=ux(),[i,u]=(0,o.useState)(""),[c,d]=(0,o.useState)("list"),[m,p]=(0,o.useState)(""),[h,g]=(0,o.useState)(""),[f,x]=(0,o.useState)(""),[y,b]=(0,o.useState)(""),[v,D]=(0,o.useState)(""),[k,w]=(0,o.useState)(!1),[C,j]=(0,o.useState)(new Set),[F,N]=(0,o.useState)(!1),[E,A]=(0,o.useState)({}),[S,_]=(0,o.useState)(null),[B,T]=(0,o.useState)(null),[L,R]=(0,o.useState)(new Set),[P,O]=(0,o.useState)(!1),I=(0,o.useMemo)(()=>{if(!i)return r;const e=i.toLowerCase();return r.filter(t=>t.username.toLowerCase().includes(e)||(t.email||"").toLowerCase().includes(e)||(t.first_name||"").toLowerCase().includes(e)||(t.last_name||"").toLowerCase().includes(e))},[r,i]),M=(0,o.useCallback)(()=>{p(""),g(""),x(""),b(""),D(""),w(!1),j(new Set),A({})},[]),z=e=>{E[e]&&A(t=>qt(qt({},t),{},{[e]:void 0}))},U=async()=>{if((()=>{const e={};return m.trim()||(e.username="Username is required"),h.trim()?/\S+@\S+\.\S+/.test(h.trim())||(e.email="Enter a valid email address"):e.email="Email is required",f.trim()||(e.first_name="First name is required"),y.trim()||(e.last_name="Last name is required"),v||(e.password="Password is required"),A(e),0===Object.keys(e).length})()){N(!0);try{const e={username:m.trim(),email:h.trim(),first_name:f.trim(),last_name:y.trim(),password:v,groups:C.size>0?Array.from(C):void 0};await async function(e){return(await cn.post("/api/management/iam/users/human",e)).data}(e),t('User "'.concat(m,'" created successfully'),"success"),M(),d("list"),await s()}catch(n){var e,r;const a=null===(e=n.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.detail,s=Array.isArray(a)?a.map(e=>e.msg).join(", "):a||"Failed to create user";t(s,"error")}finally{N(!1)}}},H=async e=>{await dx(e),t('User "'.concat(e,'" deleted'),"success"),_(null),await s()},V=()=>{T(null),R(new Set)},W=async()=>{if(B){O(!0);try{var e,r;const n=await async function(e,t){return(await cn.patch("/api/management/iam/users/".concat(encodeURIComponent(e),"/groups"),{groups:t})).data}(B,Array.from(L)),a=(null===(e=n.added)||void 0===e?void 0:e.length)||0,l=(null===(r=n.removed)||void 0===r?void 0:r.length)||0;a>0||l>0?t("Groups updated: ".concat(a," added, ").concat(l," removed"),"success"):t("No changes made","info"),T(null),R(new Set),await s()}catch(l){var n,a;const e=(null===(n=l.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.detail)||"Failed to update groups";t(e,"error")}finally{O(!1)}}},q=e=>{e&&!L.has(e)&&R(t=>{const r=new Set(t);return r.add(e),r})},K=e=>"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent ".concat(E[e]?"border-red-500":"border-gray-300 dark:border-gray-600");return"create"===c?(0,dn.jsxs)("div",{className:"space-y-6",children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,dn.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"IAM > Users > Create"}),(0,dn.jsxs)("button",{onClick:()=>{M(),d("list")},className:"flex items-center text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",children:[(0,dn.jsx)(Vl,{className:"h-4 w-4 mr-1"}),"Back to List"]})]}),(0,dn.jsxs)("div",{className:"space-y-4 max-w-lg",children:[(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Username *"}),(0,dn.jsx)("input",{type:"text",value:m,onChange:e=>{p(e.target.value),z("username")},placeholder:"e.g. jdoe",className:K("username")}),E.username&&(0,dn.jsx)("p",{className:"mt-1 text-sm text-red-500",children:E.username})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Email *"}),(0,dn.jsx)("input",{type:"email",value:h,onChange:e=>{g(e.target.value),z("email")},placeholder:"user@example.com",className:K("email")}),E.email&&(0,dn.jsx)("p",{className:"mt-1 text-sm text-red-500",children:E.email})]}),(0,dn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"First Name *"}),(0,dn.jsx)("input",{type:"text",value:f,onChange:e=>{x(e.target.value),z("first_name")},className:K("first_name")}),E.first_name&&(0,dn.jsx)("p",{className:"mt-1 text-sm text-red-500",children:E.first_name})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Last Name *"}),(0,dn.jsx)("input",{type:"text",value:y,onChange:e=>{b(e.target.value),z("last_name")},className:K("last_name")}),E.last_name&&(0,dn.jsx)("p",{className:"mt-1 text-sm text-red-500",children:E.last_name})]})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Password *"}),(0,dn.jsxs)("div",{className:"relative",children:[(0,dn.jsx)("input",{type:k?"text":"password",value:v,onChange:e=>{D(e.target.value),z("password")},placeholder:"Initial password",className:"".concat(K("password")," pr-10")}),(0,dn.jsx)("button",{type:"button",onClick:()=>w(!k),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",title:k?"Hide password":"Show password",children:k?(0,dn.jsx)(af,{className:"h-4 w-4"}):(0,dn.jsx)(of,{className:"h-4 w-4"})})]}),E.password&&(0,dn.jsx)("p",{className:"mt-1 text-sm text-red-500",children:E.password})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Groups"}),(0,dn.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto border border-gray-200 dark:border-gray-700 rounded-lg p-3",children:0===l.length?(0,dn.jsx)("p",{className:"text-xs text-gray-400",children:"No groups available"}):l.map(e=>(0,dn.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,dn.jsx)("input",{type:"checkbox",checked:C.has(e.name),onChange:()=>{return t=e.name,void j(e=>{const r=new Set(e);return r.has(t)?r.delete(t):r.add(t),r});var t},className:"rounded border-gray-300 dark:border-gray-600 text-purple-600 focus:ring-purple-500"}),(0,dn.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:e.name})]},e.name))})]})]}),(0,dn.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,dn.jsx)("button",{onClick:()=>{M(),d("list")},className:"px-4 py-2 text-sm text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600",children:"Cancel"}),(0,dn.jsx)("button",{onClick:U,disabled:F,className:"px-4 py-2 text-sm text-white bg-purple-600 rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed",children:F?"Creating...":"Create User"})]})]}):(0,dn.jsxs)("div",{className:"space-y-4",children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,dn.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"IAM > Users"}),(0,dn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,dn.jsx)("button",{onClick:s,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",title:"Refresh",children:(0,dn.jsx)(Po,{className:"h-5 w-5"})}),(0,dn.jsxs)("button",{onClick:()=>d("create"),className:"flex items-center px-3 py-2 text-sm text-white bg-purple-600 rounded-lg hover:bg-purple-700",children:[(0,dn.jsx)(So,{className:"h-4 w-4 mr-1"})," Create User"]})]})]}),(0,dn.jsxs)("div",{className:"relative",children:[(0,dn.jsx)(Mo,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,dn.jsx)("input",{type:"text",value:i,onChange:e=>u(e.target.value),placeholder:"Search users...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),n&&(0,dn.jsx)("div",{className:"flex justify-center py-12",children:(0,dn.jsx)(Po,{className:"h-6 w-6 text-gray-400 animate-spin"})}),a&&!n&&(0,dn.jsx)("div",{className:"text-center py-8 text-red-500 dark:text-red-400 text-sm",children:a}),!n&&!a&&0===I.length&&(0,dn.jsx)("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:i?"No users match your search.":"No users yet. Create your first user."}),!n&&!a&&I.length>0&&(0,dn.jsx)("div",{className:"overflow-x-auto",children:(0,dn.jsxs)("table",{className:"w-full text-sm",children:[(0,dn.jsx)("thead",{children:(0,dn.jsxs)("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[(0,dn.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-500 dark:text-gray-400",children:"Username"}),(0,dn.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-500 dark:text-gray-400",children:"Email"}),(0,dn.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-500 dark:text-gray-400",children:"Name"}),(0,dn.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-500 dark:text-gray-400",children:"Groups"}),(0,dn.jsx)("th",{className:"text-right py-3 px-4 font-medium text-gray-500 dark:text-gray-400",children:"Action"})]})}),(0,dn.jsx)("tbody",{children:I.map(e=>(0,dn.jsxs)(o.Fragment,{children:[(0,dn.jsxs)("tr",{className:"border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[(0,dn.jsx)("td",{className:"py-3 px-4 text-gray-900 dark:text-white font-medium",children:e.username}),(0,dn.jsx)("td",{className:"py-3 px-4 text-gray-600 dark:text-gray-400",children:e.email||"\u2014"}),(0,dn.jsx)("td",{className:"py-3 px-4 text-gray-600 dark:text-gray-400",children:[e.first_name,e.last_name].filter(Boolean).join(" ")||"\u2014"}),(0,dn.jsx)("td",{className:"py-3 px-4",children:(0,dn.jsxs)("div",{className:"flex flex-wrap gap-1 items-center",children:[(e.groups||[]).map(e=>(0,dn.jsx)("span",{className:"inline-block px-2 py-0.5 text-xs rounded-full bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300",children:e},e)),(!e.groups||0===e.groups.length)&&(0,dn.jsx)("span",{className:"text-gray-400 text-xs",children:"\u2014"}),(0,dn.jsx)("button",{onClick:()=>{return t=e.username,r=e.groups||[],T(t),void R(new Set(r));var t,r},className:"ml-2 p-1 text-gray-400 hover:text-purple-600 dark:hover:text-purple-400",title:"Edit groups",children:(0,dn.jsx)(Yo,{className:"h-3.5 w-3.5"})})]})}),(0,dn.jsx)("td",{className:"py-3 px-4 text-right",children:(0,dn.jsx)("button",{onClick:()=>_(e.username),className:"p-1 text-gray-400 hover:text-red-500 dark:hover:text-red-400",title:"Delete user",children:(0,dn.jsx)(ni,{className:"h-4 w-4"})})})]}),S===e.username&&(0,dn.jsx)("tr",{children:(0,dn.jsx)("td",{colSpan:5,className:"p-2",children:(0,dn.jsx)(_i,{entityType:"user",entityName:e.username,entityPath:e.username,onConfirm:H,onCancel:()=>_(null)})})}),B===e.username&&(0,dn.jsx)("tr",{className:"bg-purple-50 dark:bg-purple-900/10",children:(0,dn.jsx)("td",{colSpan:5,className:"p-4",children:(0,dn.jsxs)("div",{className:"space-y-3",children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,dn.jsxs)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Edit Groups for ",e.username]}),(0,dn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dn.jsx)("button",{onClick:V,className:"px-3 py-1 text-xs text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:"Cancel"}),(0,dn.jsxs)("button",{onClick:W,disabled:P,className:"flex items-center px-3 py-1 text-xs text-white bg-purple-600 rounded hover:bg-purple-700 disabled:opacity-50",children:[(0,dn.jsx)(oo,{className:"h-3 w-3 mr-1"}),P?"Saving...":"Save"]})]})]}),(0,dn.jsxs)("div",{className:"flex flex-wrap gap-2",children:[Array.from(L).map(e=>(0,dn.jsxs)("span",{className:"inline-flex items-center px-2 py-1 text-xs bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded-full",children:[e,(0,dn.jsx)("button",{type:"button",onClick:()=>(e=>{R(t=>{const r=new Set(t);return r.delete(e),r})})(e),className:"ml-1 hover:text-purple-900 dark:hover:text-purple-100",children:(0,dn.jsx)(ao,{className:"h-3 w-3"})})]},e)),0===L.size&&(0,dn.jsx)("span",{className:"text-xs text-gray-400 italic",children:"No groups assigned"})]}),(0,dn.jsx)("div",{className:"max-w-sm",children:(0,dn.jsx)(px,{options:l.filter(e=>!L.has(e.name)).map(e=>({value:e.name,label:e.name,description:e.path||void 0})),value:"",onChange:q,placeholder:"Search and add groups...",maxDescriptionWords:5})})]})})})]},e.username))})]})})]})},wx=e=>{let{onShowToast:t}=e;const{users:r,isLoading:n,error:a,refetch:s}=cx(),{groups:l}=ux(),[i,u]=(0,o.useState)(""),[c,d]=(0,o.useState)("list"),[m,p]=(0,o.useState)(""),[h,g]=(0,o.useState)(""),[f,x]=(0,o.useState)(new Set),[y,b]=(0,o.useState)(!1),[v,D]=(0,o.useState)({}),[k,w]=(0,o.useState)(null),[C,j]=(0,o.useState)(!1),[F,N]=(0,o.useState)(null),E=(0,o.useMemo)(()=>r.filter(e=>(e.email||"").endsWith("@service-account.local")),[r]),A=(0,o.useMemo)(()=>{if(!i)return E;const e=i.toLowerCase();return E.filter(t=>t.username.toLowerCase().includes(e)||(t.email||"").toLowerCase().includes(e))},[E,i]),S=(0,o.useCallback)(()=>{p(""),g(""),x(new Set),D({})},[]),_=async(e,r)=>{try{await navigator.clipboard.writeText(e),t("".concat(r," copied to clipboard"),"info")}catch(n){t("Failed to copy to clipboard","error")}},B=async()=>{const e={};if(m.trim()||(e.name="Name is required"),0===f.size&&(e.groups="At least one group is required"),D(e),!(Object.keys(e).length>0)){b(!0);try{const e={name:m.trim(),description:h.trim()||void 0,groups:Array.from(f)},r=await async function(e){return(await cn.post("/api/management/iam/users/m2m",e)).data}(e);w(r),d("credentials"),t('M2M account "'.concat(m,'" created'),"success"),S()}catch(a){var r,n;const e=null===(r=a.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.detail,s=Array.isArray(e)?e.map(e=>e.msg).join(", "):e||"Failed to create M2M account";t(s,"error")}finally{b(!1)}}},T=async e=>{await dx(e),t('Account "'.concat(e,'" deleted'),"success"),N(null),await s()};return"credentials"===c&&k?(0,dn.jsxs)("div",{className:"space-y-6",children:[(0,dn.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"IAM > M2M Accounts > Credentials"}),(0,dn.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-6 space-y-4",children:[(0,dn.jsx)("p",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:"M2M Account Created Successfully"}),(0,dn.jsxs)("div",{className:"space-y-3",children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,dn.jsxs)("div",{children:[(0,dn.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Client ID"}),(0,dn.jsx)("p",{className:"text-sm font-mono text-gray-900 dark:text-white",children:k.client_id})]}),(0,dn.jsx)("button",{onClick:()=>_(k.client_id,"Client ID"),className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",title:"Copy",children:(0,dn.jsx)(mi,{className:"h-4 w-4"})})]}),(0,dn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,dn.jsxs)("div",{children:[(0,dn.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Client Secret"}),(0,dn.jsx)("p",{className:"text-sm font-mono text-gray-900 dark:text-white",children:C?k.client_secret:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"})]}),(0,dn.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,dn.jsx)("button",{onClick:()=>j(!C),className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",title:C?"Hide":"Show",children:C?(0,dn.jsx)(af,{className:"h-4 w-4"}):(0,dn.jsx)(of,{className:"h-4 w-4"})}),(0,dn.jsx)("button",{onClick:()=>_(k.client_secret,"Client Secret"),className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",title:"Copy",children:(0,dn.jsx)(mi,{className:"h-4 w-4"})})]})]})]}),(0,dn.jsx)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded p-3",children:(0,dn.jsx)("p",{className:"text-xs text-yellow-800 dark:text-yellow-200",children:"Save these credentials now. The client secret cannot be retrieved later."})})]}),(0,dn.jsxs)("button",{onClick:()=>{w(null),j(!1),d("list"),s()},className:"flex items-center text-sm text-purple-600 dark:text-purple-400 hover:underline",children:[(0,dn.jsx)(Vl,{className:"h-4 w-4 mr-1"}),"Back to M2M Accounts List"]})]}):"create"===c?(0,dn.jsxs)("div",{className:"space-y-6",children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,dn.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"IAM > M2M Accounts > Create"}),(0,dn.jsxs)("button",{onClick:()=>{S(),d("list")},className:"flex items-center text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",children:[(0,dn.jsx)(Vl,{className:"h-4 w-4 mr-1"})," Back to List"]})]}),(0,dn.jsxs)("div",{className:"space-y-4 max-w-lg",children:[(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Name *"}),(0,dn.jsx)("input",{type:"text",value:m,onChange:e=>{p(e.target.value),v.name&&D(e=>qt(qt({},e),{},{name:void 0}))},placeholder:"e.g. ci-pipeline",className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent ".concat(v.name?"border-red-500":"border-gray-300 dark:border-gray-600")}),v.name&&(0,dn.jsx)("p",{className:"mt-1 text-sm text-red-500",children:v.name})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Description (optional)"}),(0,dn.jsx)("input",{type:"text",value:h,onChange:e=>g(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Groups *"}),(0,dn.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto rounded-lg p-3 ".concat(v.groups?"border-2 border-red-500":"border border-gray-200 dark:border-gray-700"),children:0===l.length?(0,dn.jsx)("p",{className:"text-xs text-gray-400",children:"No groups available"}):l.map(e=>(0,dn.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,dn.jsx)("input",{type:"checkbox",checked:f.has(e.name),onChange:()=>{var t;t=e.name,x(e=>{const r=new Set(e);return r.has(t)?r.delete(t):r.add(t),r}),v.groups&&D(e=>qt(qt({},e),{},{groups:void 0}))},className:"rounded border-gray-300 dark:border-gray-600 text-purple-600 focus:ring-purple-500"}),(0,dn.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:e.name})]},e.name))}),v.groups&&(0,dn.jsx)("p",{className:"mt-1 text-sm text-red-500",children:v.groups})]})]}),(0,dn.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,dn.jsx)("button",{onClick:()=>{S(),d("list")},className:"px-4 py-2 text-sm text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600",children:"Cancel"}),(0,dn.jsx)("button",{onClick:B,disabled:y,className:"px-4 py-2 text-sm text-white bg-purple-600 rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Creating...":"Create Account"})]})]}):(0,dn.jsxs)("div",{className:"space-y-4",children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,dn.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"IAM > M2M Accounts"}),(0,dn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,dn.jsx)("button",{onClick:s,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",title:"Refresh",children:(0,dn.jsx)(Po,{className:"h-5 w-5"})}),(0,dn.jsxs)("button",{onClick:()=>d("create"),className:"flex items-center px-3 py-2 text-sm text-white bg-purple-600 rounded-lg hover:bg-purple-700",children:[(0,dn.jsx)(So,{className:"h-4 w-4 mr-1"})," Create M2M Account"]})]})]}),(0,dn.jsxs)("div",{className:"relative",children:[(0,dn.jsx)(Mo,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,dn.jsx)("input",{type:"text",value:i,onChange:e=>u(e.target.value),placeholder:"Search M2M accounts...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),n&&(0,dn.jsx)("div",{className:"flex justify-center py-12",children:(0,dn.jsx)(Po,{className:"h-6 w-6 text-gray-400 animate-spin"})}),a&&!n&&(0,dn.jsx)("div",{className:"text-center py-8 text-red-500 dark:text-red-400 text-sm",children:a}),!n&&!a&&0===A.length&&(0,dn.jsx)("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:i?"No accounts match your search.":"No M2M accounts yet. Create your first service account."}),!n&&!a&&A.length>0&&(0,dn.jsx)("div",{className:"overflow-x-auto",children:(0,dn.jsxs)("table",{className:"w-full text-sm",children:[(0,dn.jsx)("thead",{children:(0,dn.jsxs)("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[(0,dn.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-500 dark:text-gray-400",children:"Name"}),(0,dn.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-500 dark:text-gray-400",children:"Groups"}),(0,dn.jsx)("th",{className:"text-right py-3 px-4 font-medium text-gray-500 dark:text-gray-400",children:"Action"})]})}),(0,dn.jsx)("tbody",{children:A.map(e=>(0,dn.jsxs)(o.Fragment,{children:[(0,dn.jsxs)("tr",{className:"border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[(0,dn.jsx)("td",{className:"py-3 px-4 text-gray-900 dark:text-white font-medium",children:e.username}),(0,dn.jsx)("td",{className:"py-3 px-4",children:(0,dn.jsxs)("div",{className:"flex flex-wrap gap-1",children:[(e.groups||[]).map(e=>(0,dn.jsx)("span",{className:"inline-block px-2 py-0.5 text-xs rounded-full bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300",children:e},e)),(!e.groups||0===e.groups.length)&&(0,dn.jsx)("span",{className:"text-gray-400 text-xs",children:"\u2014"})]})}),(0,dn.jsx)("td",{className:"py-3 px-4 text-right",children:(0,dn.jsx)("button",{onClick:()=>N(e.username),className:"p-1 text-gray-400 hover:text-red-500 dark:hover:text-red-400",title:"Delete account",children:(0,dn.jsx)(ni,{className:"h-4 w-4"})})})]}),F===e.username&&(0,dn.jsx)("tr",{children:(0,dn.jsx)("td",{colSpan:3,className:"p-2",children:(0,dn.jsx)(_i,{entityType:"m2m",entityName:e.username,entityPath:e.username,onConfirm:T,onCancel:()=>N(null)})})})]},e.username))})]})})]})};function Cx(e){return!!e&&!0===e.is_admin}const jx=[{id:"audit",label:"Audit",icon:(0,dn.jsx)(hf,{className:"h-5 w-5"}),items:[{id:"logs",label:"Audit Logs",path:"/settings/audit/logs"}]},{id:"federation",label:"Federation",icon:(0,dn.jsx)(Pi,{className:"h-5 w-5"}),items:[{id:"peers",label:"Peers",path:"/settings/federation/peers"}]},{id:"virtual-mcp",label:"Virtual MCP",icon:(0,dn.jsx)(xf,{className:"h-5 w-5"}),items:[{id:"servers",label:"Virtual Servers",path:"/settings/virtual-mcp/servers"}]},{id:"iam",label:"IAM",icon:(0,dn.jsx)(vf,{className:"h-5 w-5"}),items:[{id:"groups",label:"Groups",path:"/settings/iam/groups"},{id:"users",label:"Users",path:"/settings/iam/users"},{id:"m2m",label:"M2M Accounts",path:"/settings/iam/m2m"}]},{id:"notifications",label:"Notifications",icon:(0,dn.jsx)(hf,{className:"h-5 w-5"}),items:[],disabled:!0},{id:"system-config",label:"System Config",icon:(0,dn.jsx)(ei,{className:"h-5 w-5"}),items:[{id:"configuration",label:"Configuration",path:"/settings/system-config/configuration"}],adminOnly:!0}],Fx=()=>{const e=ie(),t=le(),{user:r,loading:n}=pn(),a=Cx(r)?jx:[],[s,l]=(0,o.useState)(()=>{const e=new Set(["audit"]);for(const r of jx)for(const n of r.items)(t.pathname.startsWith(n.path)||t.pathname.startsWith("/settings/".concat(r.id)))&&e.add(r.id);return e}),[i,u]=(0,o.useState)({show:!1,message:"",type:"success"});if((0,o.useEffect)(()=>{n||Cx(r)||e("/",{replace:!0})},[r,n,e]),(0,o.useEffect)(()=>{if(i.show){const e=setTimeout(()=>{u(e=>qt(qt({},e),{},{show:!1}))},4e3);return()=>clearTimeout(e)}},[i.show]),n)return(0,dn.jsx)("div",{className:"flex justify-center items-center py-20",children:(0,dn.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"})});const c=function(e){u({show:!0,message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"})},d=e=>t.pathname.startsWith(e),m=(()=>{for(const e of jx)for(const t of e.items)if(d(t.path))return t.id;return null})();return(0,dn.jsxs)("div",{className:"flex flex-col h-full",children:[(0,dn.jsxs)("div",{className:"flex items-center space-x-4 mb-6",children:[(0,dn.jsx)("button",{onClick:()=>e("/"),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-500 dark:text-gray-400 transition-colors",title:"Back to Dashboard",children:(0,dn.jsx)(Vl,{className:"h-5 w-5"})}),(0,dn.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Settings"})]}),(0,dn.jsxs)("div",{className:"flex flex-1 gap-6 min-h-0",children:[(0,dn.jsx)("div",{className:"w-64 flex-shrink-0",children:(0,dn.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4",children:(0,dn.jsx)("nav",{className:"space-y-1",children:a.map(t=>(0,dn.jsxs)("div",{children:[(0,dn.jsxs)("button",{onClick:()=>{return!t.disabled&&(e=t.id,void l(t=>{const r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r}));var e},disabled:t.disabled,className:"w-full flex items-center justify-between px-3 py-2 text-sm font-medium rounded-lg transition-colors ".concat(t.disabled?"text-gray-400 dark:text-gray-600 cursor-not-allowed":"text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[(0,dn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,dn.jsx)("span",{className:t.disabled?"opacity-40":"",children:t.icon}),(0,dn.jsx)("span",{children:t.label})]}),!t.disabled&&(s.has(t.id)?(0,dn.jsx)(Cs,{className:"h-4 w-4"}):(0,dn.jsx)(To,{className:"h-4 w-4"}))]}),!t.disabled&&s.has(t.id)&&(0,dn.jsx)("div",{className:"ml-8 mt-1 space-y-1",children:t.items.map(t=>(0,dn.jsx)("button",{onClick:()=>e(t.path),className:"w-full text-left px-3 py-2 text-sm rounded-lg transition-colors ".concat(m===t.id?"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 font-medium":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"),children:t.label},t.id))})]},t.id))})})}),(0,dn.jsx)("div",{className:"flex-1 min-w-0",children:(0,dn.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 h-full overflow-y-auto",children:(()=>{const e=t.pathname;if("/settings/audit/logs"===e||"/settings/audit"===e)return(0,dn.jsx)(sx,{embedded:!0});if("/settings/federation/peers"===e||"/settings/federation"===e)return(0,dn.jsx)(_f,{onShowToast:c});if("/settings/federation/peers/add"===e)return(0,dn.jsx)(Bf,{onShowToast:c});const r=e.match(/^\/settings\/federation\/peers\/([^/]+)\/edit$/);return r?(0,dn.jsx)(Bf,{peerId:r[1],onShowToast:c}):"/settings/virtual-mcp/servers"===e||"/settings/virtual-mcp"===e?(0,dn.jsx)(If,{onShowToast:c}):"/settings/system-config/configuration"===e||"/settings/system-config"===e?(0,dn.jsx)(Of,{showToast:c}):"/settings/iam/groups"===e||"/settings/iam"===e?(0,dn.jsx)(Dx,{onShowToast:c}):"/settings/iam/users"===e?(0,dn.jsx)(kx,{onShowToast:c}):"/settings/iam/m2m"===e?(0,dn.jsx)(wx,{onShowToast:c}):(0,dn.jsx)(sx,{embedded:!0})})()})})]}),i.show&&(0,dn.jsx)("div",{className:"fixed bottom-4 right-4 px-4 py-3 rounded-lg shadow-lg transform transition-all duration-300 ".concat("success"===i.type?"bg-green-500 text-white":"error"===i.type?"bg-red-500 text-white":"bg-blue-500 text-white"),children:i.message})]})},Nx=()=>{const e=document.querySelector("base");if(e&&e.href){return new URL(e.href).pathname.replace(/\/$/,"")||"/"}return"/"};const Ex=function(){return(0,dn.jsx)(fn,{children:(0,dn.jsx)(hn,{children:(0,dn.jsx)(Be,{basename:Nx(),children:(0,dn.jsxs)(je,{children:[(0,dn.jsx)(we,{path:"/login",element:(0,dn.jsx)(uf,{})}),(0,dn.jsx)(we,{path:"/auth/callback",element:(0,dn.jsx)(cf,{})}),(0,dn.jsx)(we,{path:"/",element:(0,dn.jsx)(df,{children:(0,dn.jsx)(Do,{children:(0,dn.jsx)(Ug,{})})})}),(0,dn.jsx)(we,{path:"/generate-token",element:(0,dn.jsx)(df,{children:(0,dn.jsx)(Do,{children:(0,dn.jsx)(Hg,{})})})}),(0,dn.jsx)(we,{path:"/servers/register",element:(0,dn.jsx)(df,{children:(0,dn.jsx)(Do,{children:(0,dn.jsx)(tf,{})})})}),(0,dn.jsx)(we,{path:"/settings/*",element:(0,dn.jsx)(df,{children:(0,dn.jsx)(Do,{children:(0,dn.jsx)(Fx,{})})})})]})})})})};u.createRoot(document.getElementById("root")).render((0,dn.jsx)(o.StrictMode,{children:(0,dn.jsx)(Ex,{})}))})();
//# sourceMappingURL=main.d6ea6432.js.map